"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2643],{11698:function(n,e,t){t.d(e,{w:function(){return a}});var a=(0,t(67294).createContext)({})},4200:function(n,e,t){t.r(e),t.d(e,{default:function(){return s}});var a=t(67294),o=t(85956),i=t(11698);function s(){var n=(0,o.pC)();return a.createElement(i.w.Provider,{value:{meta:{exampleTopics:[{id:"case",title:{zh:"场景案例",en:"Show Case"},icon:"gallery",examples:[{demos:[{id:"trend",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*kHHZQa-fpAQAAAAAAAAAAAAAARQnAQ",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Line } from '@antv/g2plot';\nimport * as _ from '@antv/util';\nimport insertCss from 'insert-css';\n\nclass TrendChart extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  state = {\n    tooltipItems: [],\n    activeTooltipTitle: null,\n    activeSeriesList: [],\n  };\n\n  componentDidMount() {\n    // Step 2: 创建图表\n    const chartDom = this.chartNodeRef.current;\n\n    fetch('https://gw.alipayobjects.com/os/antfincdn/3PtP0m%26VuK/trend-data.json')\n      .then((res) => res.json())\n      .then((data) => {\n   \n       window.data=data\n        if (this.chartRef) {\n          this.chartRef?.current?.clear();\n        }\n        const line = new Line(chartDom, {\n          data,\n          autoFit: true,\n          xField: 'Date',\n          yField: 'value',\n          seriesField: 'series',\n          xAxis: {\n            type: 'cat',\n            label: {\n              autoRotate: false,\n              formatter: (v) => {\n                return v.split('/').reverse().join('-');\n              },\n            },\n          },\n          yAxis: {\n            grid: {\n              line: {\n                style: {\n                  lineWidth: 0.5,\n                },\n              },\n            },\n          },\n          meta: {\n            Date: {\n              range: [0.04, 0.96],\n            },\n          },\n          point: {\n            shape: 'circle',\n            size: 2,\n            style: () => {\n              return {\n                fillOpacity: 0,\n                stroke: 'transparent',\n              };\n            },\n          },\n          appendPadding: [0, 0, 0, 0],\n          legend: false,\n          smooth: true,\n          lineStyle: {\n            lineWidth: 1.5,\n          },\n          tooltip: {\n            showMarkers: false,\n            follow: false,\n            position: 'top',\n            customContent: () => null,\n          },\n          theme: {\n            geometries: {\n              point: {\n                circle: {\n                  active: {\n                    style: {\n                      r: 4,\n                      fillOpacity: 1,\n                      stroke: '#000',\n                      lineWidth: 1,\n                    },\n                  },\n                },\n              },\n            },\n          },\n          interactions: [{ type: 'marker-active' }, { type: 'brush' }],\n        });\n\n        line.render();\n        this.chartRef = line;\n        // 初始化，默认激活\n        const lastData = _.last(data);\n        const point = line.chart.getXY(lastData);\n        line.chart.showTooltip(point);\n        const activeTooltipTitle = lastData.Date;\n        this.setState({ tooltipItems: data.filter((d) => d.Date === activeTooltipTitle), activeTooltipTitle });\n\n        line.on('plot:mouseleave', () => {\n          line.chart.hideTooltip();\n        });\n        line.on('tooltip:change', (evt) => {\n          const { title } = evt.data;\n          const tooltipItems = data.filter((d) => d.Date === title);\n          this.setState({ tooltipItems, activeTooltipTitle: title });\n        });\n      });\n  }\n\n  changeActiveSeries = (activeSeries) => {\n    const { activeTooltipTitle, activeSeriesList } = this.state;\n    let newList = [];\n    if (!activeSeriesList.includes(activeSeries)) {\n      newList = [...activeSeriesList, activeSeries];\n    } else {\n      newList = activeSeriesList.filter((s) => s !== activeSeries);\n    }\n    this.setState({ activeSeriesList: newList }, () => {\n      // @ts-ignore\n      const chart = this.chartRef?.chart;\n      if (chart && activeSeries) {\n        chart.filter('series', (series) => {\n          return newList.includes(series) ? false : true;\n        });\n        chart.render(true);\n        chart.geometries\n          .find((geom) => geom.type === 'point')\n          .elements.forEach((ele) => {\n            const { Date, series } = ele.getModel().data;\n            if (Date === activeTooltipTitle && series === activeSeries) {\n              ele.setState('active', true);\n            }\n          });\n      }\n    });\n  };\n\n  generateTooltip = () => {\n    // @ts-ignore\n    const chart = this.chartRef?.chart;\n    if (!chart) {\n      return;\n    }\n    const { tooltipItems, activeSeriesList, activeTooltipTitle } = this.state;\n    const { colors10 } = chart.themeObject;\n    return (\n      <div className=\"g2-tooltip\">\n        <div className=\"g2-tooltip-title\">{activeTooltipTitle}</div>\n        <div className=\"g2-tooltip-items\">\n          {tooltipItems.map((item, idx) => {\n            const changeActiveSeries = () => this.changeActiveSeries(item.series);\n            return (\n              <div\n                className={`g2-tooltip-item tooltip-${item.series} ${\n                  activeSeriesList.includes(item.series) ? 'inactive' : ''\n                }`}\n                onClick={changeActiveSeries}\n              >\n                <div className=\"g2-tooltip-item-marker\" style={{ background: colors10[idx] }}></div>\n                <div className=\"g2-tooltip-item-label\">{item.series}</div>\n                <div className=\"g2-tooltip-item-value\">{item.value || '-'}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <section className={'wrapper trend-wrapper'}>\n        {this.generateTooltip()}\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .trend-wrapper .g2-tooltip {\n    position: absolute;\n    z-index: 8;\n    transition: left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n    background-color: transparent;\n    color: rgb(89, 89, 89);\n    padding: 0px 12px;\n    margin: 0px;\n    overflow-x: auto;\n    width: 100%;\n    left: 0px;\n    top: 0px;\n    pointer-events: auto;\n  }\n  .trend-wrapper .g2-tooltip-title {\n    margin: 10px 0;\n    font-weight: 700;\n    height: 12px;\n    line-height: 12px;\n  }\n  .trend-wrapper .g2-tooltip-items {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    overflow: auto;\n    width: 100%;\n  }\n  .trend-wrapper .g2-tooltip-item {\n    opacity: 1;\n    cursor: pointer;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 92px;\n    min-width: 92px;\n    padding-left: 12px;\n    justify-content: space-between;\n  }\n  .trend-wrapper .g2-tooltip-item.inactive {\n    opacity: 0.25;\n  }\n  .trend-wrapper .g2-tooltip-item-marker {\n    width: 3px;\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    height: 48px;\n    left: 0px;\n  }\n  .trend-wrapper .g2-tooltip-item-label {\n    font-size: 14px;\n    line-height: 14px;\n    margin: 2px 0px 12px;\n  }\n  .trend-wrapper .g2-tooltip-item-value {\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 18px;\n    color: rgba(0, 0, 0, 0.65);\n    margin: 0px 0px 4px;\n  }\n  #container {\n    width: 100%;\n    height: 100%;\n  }\n  .wrapper {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  .wrapper .chart-wrapper {\n    position: absolute !important;\n    top: 94px;\n    bottom: 0px;\n    right: 10px;\n    left: 10px;\n    height: calc(100% - 88px);\n  }\n`);\n\nReactDOM.render(<TrendChart />, document.getElementById('container'));\n",title:{zh:"指标卡趋势图",en:"Indicator Trend Diagram"},filename:"trend.jsx",isNew:!1},{id:"funnel",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/kqkXF8ap7d/24934434-0067-4c1f-9c22-e51b27beb3f6.png",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Alert, Button } from 'antd';\nimport { Bar } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nfunction format(number) {\n  if (number >= 1e8) {\n    return `${(number / 1e8).toFixed(2)}亿`;\n  } else if (number >= 1e4 && number < 1e8) {\n    return `${(number / 1e4).toFixed(2)}万`;\n  }\n  return number;\n}\n\nclass Funnel extends React.Component {\n  chartNodeRef = React.createRef();\n  state = {\n    data: [\n      {\n        name: '曝光',\n        count: 120000000,\n        hints: [\n          {\n            message: '曝光率过低',\n          },\n        ],\n      },\n      {\n        name: '点击',\n        count: 80000000,\n      },\n      {\n        name: '承接访问页',\n        count: 60000000,\n      },\n      {\n        name: '承接点击页',\n        count: 40000000,\n        hints: [\n          {\n            message: '最终转化率过低，请关注表单提交成功率',\n          },\n        ],\n      },\n      {\n        name: '最终转化量',\n        count: 2000000,\n      },\n    ],\n    barMargin: 0,\n    firstMargin: 0,\n  };\n\n  componentDidMount() {\n    // Step 1: 声明数据源\n    // G2Plot 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。\n    const { data } = this.state;\n\n    // Step 2: 创建图表\n    const chartDom = this.chartNodeRef.current;\n    const bar = new Bar(chartDom, {\n      data: data,\n      autoFit: true,\n      xField: 'count',\n      yField: 'name',\n      yAxis: false,\n      xAxis: false,\n      conversionTag: {\n        spacing: 8,\n        text: {\n          style: {\n            fontSize: 12,\n            fontWeight: 700,\n          },\n          formatter: (prev, next) =>\n            data[0]?.count === 0 ? '0.00%' : `${((next / data[0]?.count) * 100)?.toFixed(2)}%`,\n        },\n        arrow: {\n          style: {\n            fill: '#F1F1FB',\n          },\n        },\n      },\n      tooltip: {\n        showTitle: false,\n        formatter: (item) => ({ name: item.name, value: format(item.count) }),\n      },\n      label: {\n        content: (item) => {\n          return `${format(item?.count)}`;\n        },\n        layout: [\n          {\n            type: 'adjust-color',\n          },\n        ],\n      },\n    });\n\n    // Step 3: 渲染图表\n    bar.render();\n\n    const { chart } = bar;\n    const coord = chart.getCoordinate();\n    const xScale = chart.getXScale();\n\n    // 计算出每个bar左上角之间的间距\n    this.setState({ firstMargin: coord.convert({ x: xScale?.scale(data[0]?.name), y: 0 })?.y });\n    this.setState({\n      barMargin:\n        coord.convert({ x: xScale?.scale(data[1]?.name), y: 0 })?.y -\n        coord.convert({ x: xScale?.scale(data[0]?.name), y: 0 })?.y,\n    });\n  }\n\n  render() {\n    const { data, barMargin, firstMargin } = this.state;\n\n    return (\n      <section className={'wrapper'}>\n        <p className={'title'}>召回（PV）</p>\n        <div className={'yaxis-wrapper'}>\n          {data?.map((item, index) => {\n            return (\n              <p className={'yaxis'} style={index ? { marginTop: '24px' } : {}}>\n                {item.name}\n              </p>\n            );\n          })}\n        </div>\n\n        {data?.map((item, index) => {\n          return (\n            item?.hints?.length && (\n              <div className={'message-list'} style={{ top: `${index * barMargin + 94}px` }}>\n                <div>\n                  {item?.hints?.map((subItem) => {\n                    return (\n                      <Alert\n                        type=\"warning\"\n                        showIcon\n                        message={\n                          <span>\n                            <span>{subItem.message}</span>\n                            <Button type=\"link\">查看原因</Button>\n                          </span>\n                        }\n                      ></Alert>\n                    );\n                  })}\n                </div>\n              </div>\n            )\n          );\n        })}\n\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\ninsertCss(`\n.wrapper {\n  position: relative;\n  padding: 10px;\n}\n.wrapper .title {\n  font-size: 20px;\n}\n.wrapper .yaxis-wrapper {\n  width: 70px;\n  font-size: 14px;\n}\n.wrapper .yaxis {\n  position: relative;\n  display: -webkit-box;\n  width: 70px;\n  height: 43px;\n  overflow: hidden;\n  font-weight: 500;\n  line-height: 22px;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.wrapper .icon-question {\n  position: absolute;\n  top: 4px;\n  right: -6px;\n  color: #999;\n}\n.wrapper .chart-wrapper {\n  height: 340px;\n  position: absolute !important;\n  top: 40px;\n  right: 10px;\n  left: 96px;\n}\n.wrapper .message-list {\n  position: absolute;\n  right: 10px;\n  left: 186px;\n  z-index: 1;\n}\n.wrapper .message-list .ant-alert-icon {\n  position: relative;\n  top: 0;\n  left: 0;\n  margin-right: 8px;\n}\n.wrapper .message-list .ant-alert-warning {\n  height: 28px;\n  padding: 0 8px;\n  line-height: 28px;\n  border: none;\n  border-radius: 0;\n}\n`);\n\nReactDOM.render(<Funnel />, document.getElementById('container'));\n",title:{zh:"场景漏斗图",en:"Funnel Scenario"},filename:"funnel.jsx",isNew:!1},{id:"funnel-analysis",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/3jrUoywaYN/339d1657-af7b-47d0-8434-da69979d597d.png",source:"import React, { useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Funnel } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nconst formatter = (v) => `${(v * 100).toFixed(2)}%`;\n\nconst Plot = () => {\n  const data = [\n    { stage: '简历投递数', count: 3511 },\n    { stage: '简历评估通过数', count: 1024 },\n    { stage: '终面通过数', count: 148 },\n    { stage: 'offer 数', count: 119 },\n    { stage: '入职数', count: 70 },\n  ].map((d) => ({ ...d, _count: 1 }));\n\n  const chartNodeRef = useRef();\n  const plotRef = useRef();\n\n  const renderAnntations = (plot) => {\n    const { chart } = plot;\n    const coord = chart.getCoordinate();\n    const elements = chart.geometries[0].elements;\n    const parsePoints = [];\n    elements.forEach((ele, idx) => {\n      const { points, nextPoints } = ele.shape.get('origin');\n      if (nextPoints) {\n        let p0 = { y: (points[1].y + points[2].y) / 2 };\n        if (idx > 0) {\n          p0.x = parsePoints[idx - 1][1].x;\n        } else {\n          p0.x = (points[2].x + points[1].x) / 2;\n        }\n        let p3 = { x: (nextPoints[2].x + nextPoints[1].x) / 2, y: (nextPoints[2].y + nextPoints[1].y) / 2 };\n        parsePoints.push([p0, p3]);\n      }\n    });\n    let container = chart.getLayer('fore').findById('annotation-group');\n    if (!container) {\n      container = chart.getLayer('fore').addGroup({ id: 'annotation-group' });\n    } else {\n      container.clear();\n    }\n    parsePoints.forEach((point, idx) => {\n      const p0 = coord.convert(point[0]);\n      const p3 = coord.convert(point[1]);\n      const path = [\n        ['M', p0.x, p0.y],\n        ['L', p0.x + 15, p0.y],\n        ['L', p3.x + 15, p3.y - 2],\n        ['L', p3.x, p3.y - 2],\n      ];\n      container.addShape('path', {\n        attrs: {\n          path,\n          stroke: '#d3d3d3',\n          lineWidth: 1,\n        },\n      });\n      const fontSize = 10;\n      const offset = 5;\n      container.addShape('text', {\n        attrs: {\n          x: (path[0][1] + path[1][1]) / 2 + offset,\n          y: (path[1][2] + path[2][2] + fontSize) / 2,\n          text: `转化率：${formatter(data[idx + 1].count / data[idx].count)}`,\n          fontSize: 10,\n          fill: '#333',\n        },\n      });\n    });\n    chart.render(true);\n  };\n\n  useEffect(() => {\n    // Step 2: 创建图表\n    if (chartNodeRef && chartNodeRef.current) {\n      const plot = new Funnel(chartNodeRef.current, {\n        data: data,\n        xField: 'stage',\n        yField: '_count',\n        legend: false,\n        conversionTag: false,\n        dynamicHeight: true,\n        label: {\n          formatter: (text, item) => {\n            return `${item._origin.stage} ${item._origin.count}`;\n          },\n        },\n        tooltip: {\n          customItems: (items) => {\n            return items.map((d) => ({ ...d, value: d.data.count }));\n          },\n        },\n        funnelStyle: {\n          stroke: '#fff',\n          lineWidth: 3,\n        },\n      });\n\n      // Step 3: 渲染图表\n      plot.render();\n      plotRef.current = plot;\n    }\n  }, [chartNodeRef]);\n\n  useEffect(() => {\n    const plot = plotRef && plotRef.current;\n    if (plot) {\n      renderAnntations(plot);\n      plot.chart.on('afterchangesize', () => {\n        renderAnntations(plot);\n      });\n    }\n  }, [plotRef]);\n\n  return (\n    <section className={'wrapper'}>\n      <div ref={chartNodeRef} />\n    </section>\n  );\n};\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(``);\n\nReactDOM.render(<Plot />, document.getElementById('container'));\n",title:{zh:"自定义分析漏斗图",en:"Funnel analysis"},filename:"funnel-analysis.jsx",isNew:!1},{id:"conversion-funnel",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/81uizWIqmn/75bf097d-0c94-437f-aec9-5b5d9ba98cd2.png",source:"import { Column, G2, addWaterWave } from '@antv/g2plot';\n\nconst X_FIELD = 'stage';\nconst Y_FIELD = 'count';\nconst CONVERSTION_RATE = 'conversion-rate';\n\nconst data = [\n  { stage: '简历投递数', count: 556834 },\n  { stage: '简历评估通过数', count: 500000 },\n  { stage: '终面通过数', count: 400000 },\n  { stage: 'offer 数', count: 320000 },\n  { stage: '入职数', count: 114000 },\n];\n\n// 添加转化率\nfunction transformData(datas) {\n  return datas.reduce((result, d, idx) => {\n    if (idx > 0) {\n      result[idx - 1][CONVERSTION_RATE] = result[idx - 1][Y_FIELD] !== 0 ? d[Y_FIELD] / result[idx - 1][Y_FIELD] : '∞';\n    }\n    result.push(d);\n    return result;\n  }, []);\n}\n\nfunction getRectPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n  return path;\n}\nfunction getFillAttrs(cfg) {\n  const defaultAttrs = {\n    lineWidth: 0,\n    fill: '#1890FF',\n    fillOpacity: 0.85,\n  };\n\n  return {\n    ...defaultAttrs,\n    ...cfg.style,\n    fill: cfg.color,\n    stroke: cfg.color,\n    fillOpacity: cfg.opacity,\n  };\n}\n\n// 自定义 Shape\nG2.registerShape('interval', 'link-funnel', {\n  draw(shapeInfo, container) {\n    const attrs = getFillAttrs(shapeInfo);\n\n    const { points, nextPoints } = shapeInfo;\n    let rectPath = getRectPath(points);\n    rectPath = this.parsePath(rectPath);\n\n    const group = container.addGroup();\n\n    // 灰色背景\n    group.addShape('path', {\n      capture: false,\n      attrs: {\n        ...attrs,\n        fill: '#fff',\n        lineWidth: 1,\n        path: this.parsePath([\n          ['M', points[0].x, 0],\n          ['L', points[0].x, 1],\n          ['L', points[2].x, 1],\n          ['L', points[2].x, 0],\n        ]),\n      },\n    });\n\n    const boxPath = this.parsePath([\n      ['M', points[0].x, 0],\n      ['L', points[0].x, 1],\n      ['L', points[2].x, 1],\n      ['L', points[2].x, 0],\n      ['L', points[0].x, 0],\n    ]);\n\n    // 存在下一节点, 添加连接带\n    if (nextPoints) {\n      const linkPath = this.parsePath([\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n        ['L', nextPoints[1].x, nextPoints[1].y],\n      ]);\n      group.addShape('path', {\n        capture: false,\n        attrs: {\n          ...attrs,\n          // 设置透明度\n          fillOpacity: 0.25,\n          path: linkPath,\n        },\n      });\n      const rate = shapeInfo.data[CONVERSTION_RATE];\n      const point = this.parsePoint({\n        x: points[3].x + (nextPoints[0].x - points[3].x) / 2,\n        y: (nextPoints[1].y - nextPoints[0].y) / 2,\n      });\n      group.addShape('text', {\n        attrs: {\n          ...point,\n          text: `${(rate * 100).toFixed(0)}%`,\n          // 字体颜色\n          fill: '#666',\n          textAlign: 'center',\n        },\n      });\n    }\n\n    /** 水波 ---- */\n    const centerX = (rectPath[0][1] + rectPath[2][1]) / 2;\n    const centerY = (boxPath[0][2] + boxPath[1][2]) / 2;\n    const height = boxPath[0][2] - boxPath[1][2];\n    const r = 1 - (rectPath[0][2] - rectPath[1][2]) / height;\n    // 1. 绘制一个波\n    const waves = group.addGroup({\n      name: 'waves',\n    });\n\n    const waveLength = 30;\n    // 3. 波对应的 clip 裁剪形状\n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: boxPath,\n      },\n    });\n\n    // 4. 绘制波形\n    addWaterWave(\n      centerX,\n      centerY,\n      r,\n      2,\n      { fill: attrs.fill, opacity: 0.8 },\n      waves,\n      clipPath,\n      height,\n      waveLength,\n      undefined\n    );\n\n    return group;\n  },\n});\n\nconst columnPlot = new Column('container', {\n  data: transformData(data),\n  xField: X_FIELD,\n  yField: Y_FIELD,\n  seriesField: X_FIELD,\n  columnBackground: {},\n  xAxis: false,\n  yAxis: false,\n  meta: {\n    type: {\n      alias: '类别',\n      range: [0.07, 0.93],\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n  label: false,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n  },\n  shape: 'link-funnel',\n  appendPadding: [28, 0, 0, 0],\n  annotations: data.map((d) => {\n    return {\n      type: 'text',\n      position: [d[X_FIELD], 'max'],\n      content: d[Y_FIELD],\n      offsetY: -5,\n      style: {\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        fontSize: 18,\n      },\n    };\n  }),\n  interactions: [\n    {\n      type: 'tooltip',\n      cfg: {\n        // 重新定义 tooltip 的触发时机，只有hover到 name='column'(实际柱子)的时候，才展示 tooltip\n        start: [\n          {\n            trigger: 'column:mousemove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n          {\n            trigger: 'column:touchmove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n        ],\n        end: [\n          { trigger: 'column:mouseleave', action: 'tooltip:hide' },\n          { trigger: 'column:touchend', action: 'tooltip:hide' },\n          { trigger: 'plot:leave', action: 'tooltip:hide' },\n        ],\n      },\n    },\n  ],\n});\n\ncolumnPlot.render();\n",title:{zh:"转化漏斗图",en:"Conversion Funnel"},filename:"conversion-funnel.ts",isNew:!1},{id:"compare-funnel",screenshot:"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*gS12TpN1MN8AAAAAAAAAAAAAARQnAQ",source:"/**\n * @description 使用 G2Plot 自定义扩展的插件，来自定义图表：https://g2plot.antv.vision/zh/docs/manual/plugin\n */\n\nimport { G2, P } from '@antv/g2plot';\nimport { deepMix } from '@antv/util';\n\nconst name = ['本期', '对比期'];\nconst tooltipItemsName = ['本期留存', '本期流失', '对比期留存', '对比期流失'];\n\nconst columnColor = [\n  {\n    transformed: '#3b89ff',\n    'non-transformed': '#e1eeff',\n    increased: '#e1eeff',\n  },\n  {\n    transformed: '#4ccaa1',\n    'non-transformed': '#defbf1',\n    increased: '#defbf1',\n  },\n];\nconst rawData = [\n  { date: '2020-08-01', index: '投放点击用户数', type: '本期', value: 46893 },\n  { date: '2020-08-01', index: '会场曝光用户数', type: '本期', value: 37896 },\n  { date: '2020-08-01', index: '会场点击用户数', type: '本期', value: 34896 },\n  { date: '2020-08-01', index: '权益领取用户数', type: '本期', value: 28896 },\n  { date: '2020-08-01', index: '引导IUV', type: '本期', value: 14896 },\n  { date: '2020-08-01', index: '引导成交用户数', type: '本期', value: 4755 },\n  { date: '2020-07-06', index: '投放点击用户数', type: '对比期', value: 46893 },\n  { date: '2020-07-06', index: '会场曝光用户数', type: '对比期', value: 37896 },\n  { date: '2020-07-06', index: '会场点击用户数', type: '对比期', value: 34896 },\n  { date: '2020-07-06', index: '权益领取用户数', type: '对比期', value: 28896 },\n  { date: '2020-07-06', index: '引导IUV', type: '对比期', value: 36896 },\n  { date: '2020-07-06', index: '引导成交用户数', type: '对比期', value: 34896 },\n];\n\nfunction processData(rawData) {\n  const res = [];\n  [rawData.filter(({ type }) => type === '本期'), rawData.filter(({ type }) => type === '对比期')].forEach((data) => {\n    const len = data.length - 1;\n    for (let idx = 0; idx < data.length; idx += 1) {\n      const prevVal = data[idx === 0 ? 0 : idx - 1].value;\n      const nextVal = data[idx === len ? len : idx + 1].value;\n      const { date, index, value, type } = data[idx];\n      res.push({\n        index,\n        value,\n        type,\n        date,\n        flag: 'transformed',\n      });\n      const incFlag = value < nextVal;\n      res.push({\n        index,\n        type,\n        date,\n        value: Math.max(prevVal - value, 0),\n        flag: incFlag ? 'increased' : 'non-transformed',\n        rate: incFlag ? (nextVal - value) / value : nextVal / value,\n      });\n    }\n  });\n  return res;\n}\n\nfunction getRectPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n  return path;\n}\n\nfunction getFillAttrs(cfg) {\n  const defaultAttrs = {\n    lineWidth: 0,\n    fill: '#1890FF',\n    fillOpacity: 0.85,\n  };\n\n  return {\n    ...defaultAttrs,\n    ...cfg.style,\n    fill: cfg.color,\n    stroke: cfg.color,\n    fillOpacity: cfg.opacity,\n  };\n}\n\n// 自定义 Shape\nG2.registerShape('interval', 'contrast-funnel', {\n  draw(cfg, container) {\n    const attrs = getFillAttrs(cfg);\n    let rectPath = getRectPath(cfg.points);\n    rectPath = this.parsePath(rectPath);\n\n    const group = container.addGroup();\n    group.addShape('path', {\n      attrs: {\n        ...attrs,\n        path: rectPath,\n      },\n    });\n    const { flag } = cfg.data;\n    if (cfg.nextPoints && flag !== 'transformed') {\n      let linkPath = [\n        ['M', cfg.points[2].x, cfg.points[3].y],\n        ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y],\n      ];\n\n      if (cfg.nextPoints[0].y === 0) {\n        linkPath[1] = ['L', cfg.nextPoints[1].x, cfg.nextPoints[1].y];\n      }\n      linkPath = this.parsePath(linkPath);\n\n      const [[, x1, y1], [, x2, y2]] = linkPath;\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          stroke: '#c5d0d9',\n        },\n      });\n      const text = group.addShape('text', {\n        attrs: {\n          x: (x1 + x2) / 2,\n          y: (y1 + y2) / 2,\n          text: `${{ 'non-transformed': '▼转化率', increased: '▲增长率' }[flag]}${(cfg.data.rate * 100).toFixed(0)}%`,\n          fill: { 'non-transformed': '#009f86', increased: '#ff4737' }[flag],\n          textAlign: 'center',\n          textBaseline: 'middle',\n          fontSize: 14,\n        },\n        zIndex: 2,\n      });\n      const { x, y, width, height } = text.getBBox();\n      group.addShape('rect', {\n        attrs: {\n          x,\n          y,\n          width,\n          height,\n          fill: 'white',\n        },\n        zIndex: 1,\n      });\n      text.toFront();\n    }\n    return group;\n  },\n});\n\nconst defaultOptions = {};\n\nfunction adaptor(params) {\n  const { chart, options } = params;\n  const { data, theme } = options;\n\n  chart.data(data);\n  chart.legend(false);\n  chart.theme(deepMix({}, theme || G2.getTheme(theme)));\n  chart.scale('value', { nice: true });\n\n  chart.facet('mirror', {\n    fields: ['type'],\n    spacing: ['12%', 0],\n    transpose: true,\n    showTitle: false,\n    eachView: (view, facet) => {\n      const idx = facet.columnIndex;\n      // 关闭所有 axis\n      view.axis(false);\n      view.legend({\n        custom: true,\n        position: ['top-right', 'top-left'][idx],\n        items: [\n          {\n            name: name[idx],\n            marker: {\n              symbol: 'hyphen',\n              style: {\n                stroke: columnColor.map((c) => c.transformed)[idx],\n              },\n            },\n          },\n        ],\n      });\n      view\n        .coordinate()\n        .transpose()\n        .scale(...(idx === 0 ? [-1, -1] : [1, -1]));\n      view\n        .interval()\n        .adjust('stack')\n        .position('index*value')\n        .color('index*flag', (index, flag) => columnColor[idx][flag])\n        .label('value*flag', (value, flag) => {\n          if (flag !== 'transformed') return { content: '' };\n          return {\n            position: 'left',\n            content: value.toLocaleString(),\n            style: {\n              textAlign: ['end', 'start'][idx],\n              fill: '#fff',\n              shadowColor: '#212121',\n              shadowBlur: 5,\n            },\n          };\n        })\n        .shape('contrast-funnel');\n    },\n  });\n\n  chart.tooltip({\n    shared: true,\n    title: (item) => {\n      return `${item}`;\n    },\n    customItems: ([currSurplus, currLoss, compareSurplus, compareLoss]) => {\n      const [currColor, completeColor] = columnColor;\n      const [n1, n2, n3, n4] = tooltipItemsName;\n      return [\n        {\n          marker: true,\n          color: currColor.transformed,\n          name: `${n1}(${currSurplus.data.date})`,\n          value: Number(currSurplus.value).toLocaleString(),\n        },\n        {\n          marker: true,\n          color: currColor['non-transformed'],\n          name: `${n2}(${currLoss.data.date})`,\n          value: Number(currLoss.value).toLocaleString(),\n        },\n        {\n          marker: true,\n          color: completeColor.transformed,\n          name: `${n3}(${compareSurplus.data.date})`,\n          value: Number(compareSurplus.value).toLocaleString(),\n        },\n        {\n          marker: true,\n          color: completeColor['non-transformed'],\n          name: `${n4}(${compareLoss.data.date})`,\n          value: Number(compareLoss.value).toLocaleString(),\n        },\n      ];\n    },\n  });\n\n  rawData\n    .filter(({ type }) => type === '本期')\n    .forEach(({ index }, idx) => {\n      chart.annotation().text({\n        content: index,\n        style: { textAlign: 'center', textBaseline: 'middle' },\n        position: () => {\n          const { y: cY, height: cHeight } = chart.coordinateBBox;\n          const { y: vY, height: vHeight } = chart.views[0].coordinateBBox;\n          const yScale = chart.views[0].getScaleByField('index');\n          return ['50%', `${((vY - cY + vHeight * yScale.scale(index)) / cHeight) * 100}%`];\n        },\n      });\n    });\n\n  chart.removeInteraction('legend-filter'); // 移除图例过滤交互\n}\n\nconst funnel = new P('container', {}, adaptor, { data: processData(rawData) });\n\nfunnel.render();\n",title:{zh:"对比漏斗图",en:"Compare Funnel Diagram"},filename:"compare-funnel.ts",isNew:!1},{id:"trend-funnel",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/yYAiTdM%242e/case-funnel.png",source:"import { Funnel } from '@antv/g2plot';\nimport { insertCss } from 'insert-css';\n\nconst data = [\n  { stage: '触达次数', times: 789, uv: 1000, conversionUV: 0 },\n  { stage: '响应次数', times: 453, uv: 800, conversionUV: 600 },\n  { stage: '分享次数', times: 193, uv: 600, conversionUV: 200 },\n];\n\ninsertCss(`\n  .container{\n    margin: 16px -8px; display: flex;\n  }\n  .box{\n    padding: 0px 16px;\n  }\n  .title{\n    font-weight: bold;\n  }\n  .tooltip-item{\n    margin-top: 12px;\n    display: flex;\n    width: 120px;\n    justify-content: space-between;\n  }\n  .link{\n    display: inline-block;\n    margin-top: 12px;\n    color: #5B8FF9;\n    text-decoration: none;\n    cursor: pointer;\n  }\n  .link:hover{\n\n    color: #5D7092;\n  }\n`);\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'times',\n  legend: false,\n  conversionTag: false,\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  tooltip: {\n    follow: true,\n    enterable: true,\n    offset: 5,\n    customContent: (value, items) => {\n      if (!items || items.length <= 0) return;\n      const { data: itemData } = items[0];\n\n      return (\n        `<div class='container'>` +\n        `<div class='box' style='border-right: 1px solid #c2c2c2'>` +\n        `<div class='title'>转化</div>` +\n        `<div class='tooltip-item'><span>转化人数</span><span>${itemData.conversionUV}</span></div>` +\n        `<div class='tooltip-item'><span>转化率</span><span>${((itemData.conversionUV / itemData.uv) * 100).toFixed(\n          0\n        )}%</span></div>` +\n        `<a class='link'>查看转化详情</a>` +\n        `</div>` +\n        `<div class='box'>` +\n        `<div class='title'>未转化</div>` +\n        `<div class='tooltip-item'><span>未转化人数</span><span>${itemData.uv - itemData.conversionUV}</span></div>` +\n        `<div class='tooltip-item'><span>未转化率</span><span>${(\n          (1 - itemData.conversionUV / itemData.uv) *\n          100\n        ).toFixed(0)}%</span></div>` +\n        `<a class='link'>查看未转化详情</a>` +\n        `</div>` +\n        `</div>`\n      );\n    },\n  },\n});\n\nfunnelPlot.render();\n",title:{zh:"漏斗图(趋势)",en:"Statistical Charts-Funnel"},filename:"trend-funnel.ts",isNew:!1},{id:"pie",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*OOnhQI4Sme4AAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 1,\n  innerRadius: 0.64,\n  meta: {\n    value: {\n      formatter: (v) => `¥ ${v}`,\n    },\n  },\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    autoRotate: false,\n    style: { textAlign: 'center' },\n    formatter: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n  },\n  statistic: {\n    title: {\n      offsetY: -8,\n    },\n    content: {\n      offsetY: -4,\n    },\n  },\n  // 添加 中心统计文本 交互\n  interactions: [\n    { type: 'element-selected' },\n    { type: 'element-active' },\n    {\n      type: 'pie-statistic-active',\n      cfg: {\n        start: [\n          { trigger: 'element:mouseenter', action: 'pie-statistic:change' },\n          { trigger: 'legend-item:mouseenter', action: 'pie-statistic:change' },\n        ],\n        end: [\n          { trigger: 'element:mouseleave', action: 'pie-statistic:reset' },\n          { trigger: 'legend-item:mouseleave', action: 'pie-statistic:reset' },\n        ],\n      },\n    },\n  ],\n});\n\npiePlot.render();\n",title:{zh:"饼图(占比)",en:"Statistical Charts-Pie"},filename:"pie.ts",isNew:!1}],icon:"",id:"statistical-scenario",title:{en:"Statistical Scenario",zh:"统计场景"},childrenKey:"demos",order:0},{demos:[{id:"associate-pie-tooltip",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/VoiPvFL%26U5/pie-tooltip.gif",source:"import { Pie, G2 } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\n// We use 'insert-css' to insert custom styles\n// It is recommended to add the style to your own style sheet files\n// If you want to copy the code directly, please remember to install the npm package 'insert-css\ninsertCss(`\n#container {\n  display: flex;\n  flex-direction: row !important;\n  padding: 8px;\n}\n#container1, #container2 {\n  flex: 1;\n}\n`);\ninitContainer();\n\nconst { Util } = G2;\n\nconst plot1 = new Pie('container1', {\n  data: [\n    { type: '一线城市', value: 0.19 },\n    { type: '二线城市', value: 0.21 },\n    { type: '三线城市', value: 0.27 },\n    { type: '四线及以下', value: 0.33 },\n  ],\n  meta: {\n    value: {\n      formatter: (v) => `${(v * 100).toFixed(0)}%`,\n    },\n  },\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  legend: false,\n  label: { type: 'inner' },\n});\n\nconst plot2 = new Pie('container2', {\n  data: [\n    { type: '一线城市', value: 0.19 },\n    { type: '二线城市', value: 0.31 },\n    { type: '三线城市', value: 0.27 },\n    { type: '四线及以下', value: 0.12 },\n  ],\n  meta: {\n    value: {\n      formatter: (v) => `${(v * 100).toFixed(0)}%`,\n    },\n  },\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  innerRadius: 0.5,\n  legend: false,\n  label: { type: 'inner' },\n\n  statistic: {\n    title: false,\n    content: {\n      customHtml: (container, view, datum, data) => {\n        container.style.overflow = 'visible';\n        const text = datum\n          ? `${(datum.value * 100).toFixed(0)}%`\n          : `${(data.reduce((r, d) => r + d.value, 0) * 100).toFixed(0)}%`;\n        return text;\n      },\n    },\n  },\n  // Because interactions of 'statistic' will cause tooltip interaction not to work, so enable tooltip interaction explicitly.\n  interactions: [{ type: 'tooltip', enable: true }],\n});\n\nplot1.render();\nplot2.render();\n\n/**\n * 根据指定 切片数据 获取切片元素 element 的中心坐标点\n * @param view G2.View\n * @param xField string\n * @param activeValue string\n * @returns Point | null\n */\nfunction getPoint(view, xField, activeValue) {\n  const { elements, coordinate } = view.geometries[0];\n  const element = elements.find((ele) => ele.getModel().data[xField] === activeValue);\n  if (element) {\n    const { radius, innerRadius, polarRadius } = coordinate;\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n    const middleAngle = (startAngle + endAngle) / 2;\n    const r = (polarRadius * (radius + innerRadius)) / 2;\n    const x = r * Math.cos(middleAngle);\n    const y = r * Math.sin(middleAngle);\n\n    return {\n      x: center.x + x,\n      y: center.y + y,\n    };\n  }\n  return null;\n}\n\n// 监听事件，进行 Tooltip 联动\nlet inAction = null;\nplot1.on('tooltip:change', (e) => {\n  if (inAction !== 'plot2') {\n    const { data: eventData } = e;\n    const point = getPoint(plot2.chart, 'type', eventData.items?.[0]?.data?.type);\n    if (point) {\n      inAction = 'plot1';\n      plot2.chart.showTooltip(point);\n    } else {\n      plot2.chart.hideTooltip();\n    }\n  }\n});\n\nplot1.on('tooltip:hide', (e) => {\n  if (inAction) {\n    inAction = null;\n    plot2.chart.hideTooltip();\n  }\n});\n\nplot2.on('tooltip:change', (e) => {\n  if (inAction !== 'plot1') {\n    const { data: eventData } = e;\n    inAction = 'plot2';\n    const point = getPoint(plot1.chart, 'type', eventData.items?.[0]?.data?.type);\n    if (point) {\n      plot1.chart.showTooltip(point);\n    } else {\n      plot1.chart.hideTooltip();\n    }\n  }\n});\n\nplot2.on('tooltip:hide', (e) => {\n  if (inAction) {\n    inAction = null;\n    plot1.chart.hideTooltip();\n  }\n});\n\nfunction initContainer() {\n  const container = document.getElementById('container');\n  container.innerHTML = `\n    <div id=\"container1\"></div>\n    <div id=\"container2\"></div>\n  `;\n}\n",title:{zh:"联动 Tooltip (饼图)",en:"Associate Tooltip for Pie plot"},filename:"associate-pie-tooltip.ts",isNew:!1},{id:"associate-filter",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/tHF3bgalmB/association-filter.gif",source:"import { Column, Pie } from '@antv/g2plot';\nimport { each, groupBy } from '@antv/util';\nimport insertCss from 'insert-css';\n\n// We use 'insert-css' to insert custom styles\n// It is recommended to add the style to your own style sheet files\n// If you want to copy the code directly, please remember to install the npm package 'insert-css\ninsertCss(`\n#container {\n  display: flex;\n  flex-direction: column !important;\n  padding: 8px;\n}\n#container1, #container2 {\n  flex: 1;\n}\n`);\ninitContainer();\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const pieData = ((originData) => {\n      const groupData = groupBy(originData, 'type');\n      const result = [];\n      each(groupData, (values, k) => {\n        result.push({ type: k, value: values.reduce((a, b) => a + b.value, 0) });\n      });\n      return result;\n    })(data);\n\n    const pie = new Pie('container1', {\n      data: pieData,\n      colorField: 'type',\n      angleField: 'value',\n      label: { type: 'inner' },\n      tooltip: false,\n      state: {\n        // 设置【active】激活状态样式 - 无描边\n        active: {\n          style: {\n            lineWidth: 0,\n          },\n        },\n      },\n      interactions: [\n        {\n          type: 'element-highlight',\n          cfg: {\n            showEnable: [{ trigger: 'element:mouseenter', action: 'cursor:pointer' }],\n            end: [\n              { trigger: 'element:mouseleave', action: 'cursor:default' },\n              { trigger: 'element:mouseleave', action: 'element-highlight:reset' },\n            ],\n          },\n        },\n      ],\n    });\n\n    const column = new Column('container2', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      legend: false,\n      columnStyle: {\n        radius: [4, 4, 0, 0],\n      },\n    });\n\n    pie.render();\n    column.render();\n\n    pie.on('element:mouseover', (evt) => {\n      const eventData = evt.data;\n      if (eventData?.data) {\n        const type = eventData.data.type;\n        column.setState('selected', (datum) => datum.type === type);\n        column.setState('selected', (datum) => datum.type !== type, false);\n      }\n    });\n    pie.on('element:mouseleave', () => {\n      // 取消 selected 选中状态\n      column.setState('selected', () => true, false);\n    });\n\n    pie.on('element:click', (evt) => {\n      const eventData = evt.data;\n      if (eventData?.data) {\n        const type = eventData.data.type;\n        pie.chart.changeData(pieData.filter((datum) => datum.type === type));\n        column.chart.changeData(data.filter((datum) => datum.type === type));\n      }\n    });\n    // 双击，还原数据\n  pie.on('element:dblclick', () => {\n      pie.chart.changeData(pieData);\n      column.chart.changeData(data);\n    });\n  });\n\n  function initContainer() {\n    const container = document.getElementById('container');\n    container.innerHTML = `\n      <div id=\"container1\"></div>\n      <div id=\"container2\"></div>\n    `;\n  }\n  ",title:{zh:"联动筛选",en:"Associate Filter"},filename:"associate-filter.ts",isNew:!1},{id:"conversion-analysis-bar",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/p8r96Xc9o0/conversion-analysis-bar.gif",source:"import { Bar, G2 } from '@antv/g2plot';\n\nG2.registerInteraction('conversion-tag-active', {\n  start: [\n    {\n      isEnable: (context) => {\n        const element = context.event.data?.element as G2.Element;\n        const href = element?.data?.href;\n        if (href) {\n          return true;\n        }\n        return false;\n      },\n      trigger: 'conversion-tag-group:mouseenter',\n      action: (context) => {\n        const view = context.view;\n        // 设置鼠标样式\n        view.getCanvas().setCursor('pointer');\n        const tagGroup = context.event.gEvent.shape;\n        if (tagGroup) {\n          tagGroup.attr('fill', 'rgba(251,151,71,0.85)');\n        }\n      },\n    },\n    {\n      trigger: 'conversion-tag-group:mousedown',\n      action: (context) => {\n        const element = context.event.data?.element;\n        const href = element?.data?.href;\n        window.open(href);\n      },\n    },\n  ],\n  end: [\n    {\n      trigger: 'conversion-tag-group:mouseleave',\n      action: (context) => {\n        const view = context.view;\n        // 设置鼠标样式\n        view.getCanvas().setCursor('default');\n        const tagGroup = context.event.gEvent.shape;\n        if (tagGroup) {\n          tagGroup.attr('fill', '#efefef');\n        }\n      },\n    },\n  ],\n});\n\nconst plotData = [\n  { action: '浏览网站', pv: 50000, href: 'https://github.com/antvis/g2plot' },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000, href: 'https://github.com/antvis/g2' },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8500 },\n];\n\nconst plot = new Bar('container', {\n  data: plotData,\n  xField: 'pv',\n  yField: 'action',\n  conversionTag: {\n    offset: 0,\n    spacing: 8,\n    arrow: {\n      style: {\n        fill: '#efefef',\n      },\n    },\n  },\n  interactions: [{ type: 'active-region', enable: false }, { type: 'conversion-tag-active' }],\n});\n\nplot.render();\n",title:{zh:"带跳转转化分析图",en:"Conversion analysis bar"},filename:"conversion-analysis-bar.ts",isNew:!1},{id:"conversion-analysis",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/PojoRGFBN4/conversion-analysis-2.gif",source:"import { Bar, G2 } from '@antv/g2plot';\n\n// TODO 需要介绍下 convetsion-tag 的组成\nG2.registerInteraction('conversion-tag-active', {\n  start: [\n    {\n      isEnable: (context) => {\n        const element = context.event.data?.element as G2.Element;\n        const href = element?.data?.href;\n        if (href) {\n          return true;\n        }\n        return false;\n      },\n      trigger: 'conversion-tag-group:mouseenter',\n      action: (context) => {\n        const view = context.view;\n        // 设置鼠标样式\n        view.getCanvas().setCursor('pointer');\n        const tagArrow = context.event.gEvent.shape;\n        if (tagArrow.get('name') === 'conversion-tag-arrow') {\n          tagArrow.attr('fill', 'rgba(251,151,71,0.85)');\n        } else {\n          const siblings = tagArrow.get('parent').getChildren();\n          const shape = siblings[siblings.findIndex((c) => c.get('origin') === tagArrow.get('origin')) - 1];\n          shape?.attr('fill', 'rgba(251,151,71,0.85)');\n        }\n      },\n    },\n    {\n      trigger: 'conversion-tag-group:mousedown',\n      action: (context) => {\n        const element = context.event.data?.element;\n        const href = element?.data?.href;\n        window.open(href);\n      },\n    },\n  ],\n  end: [\n    {\n      trigger: 'conversion-tag-group:mouseleave',\n      action: (context) => {\n        const view = context.view;\n        // 设置鼠标样式\n        view.getCanvas().setCursor('default');\n        const tagArrow = context.event.gEvent.shape;\n        if (tagArrow.get('name') === 'conversion-tag-arrow') {\n          tagArrow.attr('fill', '#efefef');\n        }\n      },\n    },\n  ],\n});\n\nconst plotData = [\n  { action: '浏览网站', pv: 50000, href: 'https://github.com/antvis/g2plot' },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000, href: 'https://github.com/antvis/g2' },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8500 },\n];\n\nconst plot = new Bar('container', {\n  data: plotData,\n  xField: 'pv',\n  yField: 'action',\n  conversionTag: {\n    offset: 0,\n    spacing: 8,\n    arrow: {\n      style: {\n        fill: '#efefef',\n      },\n    },\n  },\n  interactions: [{ type: 'active-region', enable: false }, { type: 'conversion-tag-active' }],\n});\n\nplot.render();\n",title:{zh:"带跳转转化分析图2",en:"Conversion analysis bar2"},filename:"conversion-analysis.ts",isNew:!1}],icon:"",id:"advanced",title:{en:"Advanced usages",zh:"高级用法"},childrenKey:"demos",order:1},{demos:[{id:"desire-heatmap",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/4gOU7HlFcA/relixinnian.png",source:"import { Heatmap } from '@antv/g2plot';\n\n// 数据截取于: 2021-02-21 13:04:19, 前往参与游戏: https://antv-studio.antfin.com/bless-heatmap\nfetch('https://gw.alipayobjects.com/os/antfincdn/wOj8DF0KF0/desire-heatmap.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const COLS = 15;\n    const ROWS = 10;\n    function getSizeFactor() {\n      const box = document.getElementById('container').getBoundingClientRect();\n      const size = Math.min(box.width / COLS, box.height / ROWS);\n      return {\n        width: size * COLS,\n        height: size * ROWS,\n        size,\n      };\n    }\n    const { width, height, size } = getSizeFactor();\n    const plot = new Heatmap('container', {\n      data,\n      autoFit: false,\n      width,\n      height,\n      xField: 'row',\n      yField: 'col',\n      colorField: 'count',\n      shape: 'square',\n      sizeRatio: 1,\n      color: [\n        '#dcdcdc',\n        '#dad0bf',\n        '#d9c3a1',\n        '#d7b784',\n        '#d6aa67',\n        '#da9a54',\n        '#e3864c',\n        '#ec7344',\n        '#f65f3c',\n        '#ff4b34',\n      ],\n      tooltip: false,\n      xAxis: false,\n      yAxis: false,\n      meta: {\n        count: {\n          max: 200,\n        },\n      },\n      label: {\n        formatter: (datum) => datum.item,\n        layout: [{ type: 'adjust-color' }],\n        style: { fontWeight: 700, fontSize: (size / 36) * 14 * (size < 32 ? 1.2 : 1) },\n      },\n      theme: {\n        geometries: {\n          polygon: {\n            square: {\n              active: {\n                style: {\n                  stroke: '#fff',\n                },\n              },\n            },\n          },\n        },\n      },\n      interactions: [\n        {\n          type: 'element-active',\n          cfg: {\n            showEnable: [\n              { trigger: 'element:mouseenter', action: 'cursor:pointer' },\n              { trigger: 'element:mouseleave', action: 'cursor:default' },\n            ],\n          },\n        },\n      ],\n    });\n    plot.render();\n\n    window.addEventListener('resize', () => {\n      const { width, height, size } = getSizeFactor();\n      plot.changeSize(width, height);\n      if (plot.options.width / COLS !== size) {\n        plot.update({\n          label: {\n            formatter: (datum) => datum.item,\n            layout: [{ type: 'adjust-color' }],\n            style: { fontWeight: 700, fontSize: 14 * (size < 32 ? 0.8 : size < 40 ? 1.48 : 1.3) },\n          },\n        });\n      }\n    });\n  });\n",title:{zh:"心愿热力图",en:"Desire heatmap"},filename:"desire-heatmap.ts",isNew:!1},{id:"line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KDFF%24Vprlz/multi-plots.gif",source:"import { Mix } from '@antv/g2plot';\n\nfunction fetchAreaData() {\n  return fetch('https://gw.alipayobjects.com/os/bmw-prod/b6fde479-c353-47de-a4c0-442d58474b9d.json').then((data) =>\n    data.json()\n  );\n}\nfunction fetchTrendData() {\n  return fetch('https://gw.alipayobjects.com/os/bmw-prod/b0b850d4-a8ce-4abe-8466-232a677af79c.json').then((data) =>\n    data.json()\n  );\n}\n\nPromise.all([fetchAreaData(), fetchTrendData()]).then(([data1, data2]) => {\n  const uvData = data2.uniqueSessions.map((d, idx) => ({\n    date: `${idx}`,\n    uv: d,\n  }));\n  const pvData = data2.pageSessions.map((d, idx) => ({\n    date: `${idx}`,\n    pv: d,\n  }));\n  const directTrafficData = data2.directTraffic.map((d, idx) => ({\n    date: `${idx}`,\n    directTraffic: d,\n  }));\n  const referringSitesData = data2.referringSites.map((d, idx) => ({\n    date: `${idx}`,\n    referringSites: d,\n  }));\n  const plot = new Mix('container', {\n    height: 140,\n    appendPadding: [20, 0, 0, 0],\n    tooltip: false,\n    legend: { position: 'top-left' },\n  });\n\n  plot.update({\n    plots: [\n      {\n        type: 'area',\n        region: {\n          start: { x: 0, y: 0 },\n          end: { x: 1, y: 0.4 },\n        },\n        options: {\n          data: data1,\n          xField: 'sessions',\n          yField: 'visits',\n          seriesField: 'type',\n          isStack: false,\n          meta: {\n            visits: {\n              min: 30,\n              max: 180,\n              tickItnerval: 30,\n            },\n            sessions: {\n              range: [0, 1],\n            },\n          },\n          yAxis: {\n            grid: { line: { style: { lineDash: [4, 2], stroke: '#ddd' } } },\n            tickLine: { style: { stroke: '#ddd' } },\n          },\n          xAxis: false,\n          tooltip: { showMarkers: false, showCrosshairs: true, shared: true },\n          areaStyle: ({ type }) => {\n            const { colors10 } = plot.chart.getTheme();\n            return {\n              fill:\n                type === 'Current Month'\n                  ? `l(90) 0.3:${colors10[0]} 1:rgba(255,255,255,0.2)`\n                  : `l(90) 0.3:${colors10[1]}  1:rgba(255,255,255,0.2)`,\n            };\n          },\n          line: { style: { lineWidth: 1.5 } },\n        },\n      },\n      {\n        type: 'tiny-area',\n        region: { start: { x: 0, y: 0.5 }, end: { x: 11 / 24, y: 0.7 } },\n        options: {\n          data: uvData.map((d) => d.uv),\n          tooltip: {},\n          meta: {\n            iv: {\n              min: 20,\n            },\n          },\n          seriesField: '1',\n          color: () => {\n            const { colors10 } = plot.chart.getTheme();\n            return `l(90) 0:${colors10[0]} 1:rgba(255,255,255,0.2)`;\n          },\n          line: {\n            style: () => {\n              const { colors10 } = plot.chart.getTheme();\n              return { lineWidth: 1, stroke: colors10[0] };\n            },\n          },\n          annotations: [\n            {\n              type: 'text',\n              content: 'Unique Sessions',\n              position: ['min', 'max'],\n              offsetY: -8,\n              style: { textAlign: 'left' },\n            },\n            {\n              type: 'text',\n              content: `${uvData.reduce((a, b) => a + b.uv, 0)}`,\n              position: ['max', 'median'],\n              offsetX: 4,\n              style: { textAlign: 'left' },\n            },\n          ],\n        },\n      },\n      {\n        type: 'tiny-area',\n        region: { start: { x: 13 / 24, y: 0.5 }, end: { x: 17 / 18, y: 0.7 } },\n        options: {\n          data: pvData.map((d) => d.pv),\n          tooltip: {},\n          meta: {\n            pv: {\n              min: 20,\n            },\n          },\n          seriesField: '1',\n          color: () => {\n            const { colors10 } = plot.chart.getTheme();\n            return `l(90) 0:${colors10[0]} 1:rgba(255,255,255,0.2)`;\n          },\n          line: {\n            style: () => {\n              const { colors10 } = plot.chart.getTheme();\n              return { lineWidth: 1, stroke: colors10[0] };\n            },\n          },\n          annotations: [\n            {\n              type: 'text',\n              content: 'Page Sessions',\n              position: ['min', 'max'],\n              offsetY: -8,\n              style: { textAlign: 'left' },\n            },\n            {\n              type: 'text',\n              content: `${pvData.reduce((a, b) => a + b.pv, 0)}`,\n              position: ['max', 'median'],\n              offsetX: 8,\n              style: { textAlign: 'left' },\n            },\n          ],\n        },\n      },\n      {\n        type: 'tiny-area',\n        region: { start: { x: 0 / 24, y: 0.75 }, end: { x: 11 / 24, y: 0.98 } },\n        options: {\n          data: directTrafficData.map((d) => d.directTraffic),\n          tooltip: {},\n          meta: {\n            directTraffic: {\n              min: 2000,\n            },\n          },\n          seriesField: '1',\n          color: () => {\n            const { colors10 } = plot.chart.getTheme();\n            return `l(90) 0:${colors10[0]} 1:rgba(255,255,255,0.2)`;\n          },\n          line: {\n            style: () => {\n              const { colors10 } = plot.chart.getTheme();\n              return { lineWidth: 1, stroke: colors10[0] };\n            },\n          },\n          annotations: [\n            {\n              type: 'text',\n              content: 'Direct Traffic',\n              position: ['min', 'max'],\n              offsetY: -8,\n              style: { textAlign: 'left' },\n            },\n            {\n              type: 'text',\n              position: ['max', 'median'],\n              content: `${directTrafficData.reduce((a, b) => a + b.directTraffic, 0)}`,\n              offsetX: 8,\n              style: { textAlign: 'left' },\n            },\n          ],\n        },\n      },\n      {\n        type: 'tiny-area',\n        region: { start: { x: 13 / 24, y: 0.75 }, end: { x: 17 / 18, y: 0.98 } },\n        options: {\n          data: referringSitesData.map((d) => d.referringSites),\n          tooltip: {},\n          seriesField: '1',\n          color: () => {\n            const { colors10 } = plot.chart.getTheme();\n            return `l(90) 0:${colors10[0]} 1:rgba(255,255,255,0.2)`;\n          },\n          line: {\n            style: () => {\n              const { colors10 } = plot.chart.getTheme();\n              return { lineWidth: 1, stroke: colors10[0] };\n            },\n          },\n          annotations: [\n            {\n              type: 'text',\n              content: 'Referring Sites',\n              position: ['min', 'max'],\n              offsetY: -8,\n              style: { textAlign: 'left' },\n            },\n            {\n              type: 'text',\n              content: `${referringSitesData.reduce((a, b) => a + b.referringSites, 0)}`,\n              position: ['max', 'median'],\n              offsetX: 8,\n              style: { textAlign: 'left' },\n            },\n          ],\n        },\n      },\n    ],\n  });\n  plot.render();\n});\n",title:{zh:"用户会话（made by multi-plots）",en:"User session (made by multi-plots)"},filename:"line.ts",isNew:!1},{id:"customize-tooltip",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*5fg3Q7n3tFEAAAAAAAAAAAAAARQnAQ",source:"import { Line, Pie } from '@antv/g2plot';\nimport { last } from '@antv/util';\n\nconst divStyles = {\n  position: 'absolute',\n  background: 'rgba(255,255,255,0.95)',\n  boxShadow: 'rgb(174, 174, 174) 0px 0px 10px',\n  borderRadius: '4px',\n};\n\nconst setStyles = (container, styles) => {\n  for (const key in styles) {\n    container.style[key] = styles[key];\n  }\n};\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/5a209bb2-ee85-412f-a689-cdb16159a459.json')\n  .then((data) => data.json())\n  .then((data) =>\n    data.filter((d) => ['United States', 'France', 'Germany', 'Austria', 'Japan', 'Sweden'].includes(d.country))\n  )\n  .then((data) => {\n    const line = new Line('container', {\n      padding: 'auto',\n      appendPadding: [8, 10, 0, 10],\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'country',\n      smooth: true,\n      lineStyle: ({ country }) => {\n        const importantCountries = ['United States', 'France', 'Germany'];\n        const idx = importantCountries.indexOf(country);\n        return { lineWidth: idx !== -1 ? 2 : 1 };\n      },\n      interactions: [{ type: 'brush' }],\n      tooltip: {\n        follow: true,\n        enterable: true,\n        offset: 18,\n        shared: true,\n        marker: { lineWidth: 0.5, r: 3 },\n      },\n    });\n\n    line.render();\n\n    const createPie = (container, data) => {\n      const piePlot = new Pie(container, {\n        data,\n        width: 120,\n        height: 120,\n        appendPadding: 10,\n        autoFit: false,\n        angleField: 'value',\n        colorField: 'type',\n        legend: false,\n        tooltip: false,\n        animation: false,\n        color: line.chart.themeObject.colors10,\n        label: {\n          type: 'inner',\n          offset: '-10%',\n          content: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n        },\n      });\n      piePlot.render();\n    };\n    line.update({\n      tooltip: {\n        customContent: (value, items) => {\n          const pieData = items.map((item) => ({\n            type: item.name,\n            value: Number(item.value),\n          }));\n          const container = document.createElement('div');\n          const pieContainer = document.createElement('div');\n          setStyles(container, divStyles);\n          createPie(pieContainer, pieData);\n          container.appendChild(pieContainer);\n          return container;\n        },\n      },\n    });\n    // 初始化，默认激活\n    const point = line.chart.getXY(last(data.filter((d) => !!d.value)));\n    line.chart.showTooltip(point);\n  });\n",title:{zh:"自定义 Tooltip",en:"Custom tooltip"},filename:"customize-tooltip.ts",isNew:!1}],icon:"",id:"customize",title:{en:"Custom Charts",zh:"自定义图表"},childrenKey:"demos",order:2},{demos:[{id:"element-selected",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*nA_-SYUCA74AAAAAAAAAAAAADmJ7AQ/original",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    name: 'London',\n    月份: 'Jan.',\n    月均降雨量: 18.9,\n  },\n  {\n    name: 'London',\n    月份: 'Feb.',\n    月均降雨量: 28.8,\n  },\n  {\n    name: 'London',\n    月份: 'Mar.',\n    月均降雨量: 39.3,\n  },\n  {\n    name: 'London',\n    月份: 'Apr.',\n    月均降雨量: 81.4,\n  },\n  {\n    name: 'London',\n    月份: 'May',\n    月均降雨量: 47,\n  },\n  {\n    name: 'London',\n    月份: 'Jun.',\n    月均降雨量: 20.3,\n  },\n  {\n    name: 'London',\n    月份: 'Jul.',\n    月均降雨量: 24,\n  },\n  {\n    name: 'London',\n    月份: 'Aug.',\n    月均降雨量: 35.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jan.',\n    月均降雨量: 12.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Feb.',\n    月均降雨量: 23.2,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Mar.',\n    月均降雨量: 34.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Apr.',\n    月均降雨量: 99.7,\n  },\n  {\n    name: 'Berlin',\n    月份: 'May',\n    月均降雨量: 52.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jun.',\n    月均降雨量: 35.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jul.',\n    月均降雨量: 37.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Aug.',\n    月均降雨量: 42.4,\n  },\n];\n\nconst plot = new Column('container', {\n  data,\n  isGroup: true,\n  xField: '月份',\n  yField: '月均降雨量',\n  seriesField: 'name',\n  interactions: [{ type: 'element-selected' }]\n});\n\nplot.render();\n// 如果业务中还有单选联动，可以考虑使用按住某个键来区分交互 (或者多选之后，让用户自己去触发查询)\ndocument.addEventListener('keyup', (evt) => {\n  if (evt.key === 'Shift') {\n    const states = plot.getStates();\n    // 获取选中元素\n    // states.filter(d => d.state === 'selected')\n  }\n});\n\n",title:{zh:"元素多选交互",en:"Element selected"},filename:"element-selected.ts",isNew:!1},{id:"pie-element-selected",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*PqprTa8VPrEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.9,\n  label: {\n    type: 'inner',\n    offset: '-30%',\n    content: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n    style: {\n      fontSize: 14,\n      textAlign: 'center',\n    },\n  },\n  interactions: [{ type: 'element-active' }, { type: 'element-selected' }],\n});\n\npiePlot.render();\n// 如果业务中还有单选联动，可以考虑使用按住某个键来区分交互 (或者多选之后，让用户自己去触发查询)\ndocument.addEventListener('keyup', (evt) => {\n  if (evt.key === 'Shift') {\n    console.info(evt);\n    const states = piePlot.getStates();\n    console.info(states.filter((d) => d.state === 'selected'));\n    // 获取选中元素\n    // states.filter(d => d.state === 'selected')\n  }\n});\n",title:{zh:"饼图 元素多选交互",en:"Element selected"},filename:"pie-element-selected.ts",isNew:!1},{id:"funnel-element-selected",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WW79RIgfGesAAAAAAAAAAAAADmJ7AQ/original",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  legend: false,\n  interactions: [{ type: 'element-active' }, { type: 'element-selected' }],\n});\n\nfunnelPlot.render();\n// 如果业务中还有单选联动，可以考虑使用按住某个键来区分交互 (或者多选之后，让用户自己去触发查询)\ndocument.addEventListener('keyup', (evt) => {\n  if (evt.key === 'Shift') {\n    console.info(evt);\n    const states = funnelPlot.getStates();\n    console.info(states.filter((d) => d.state === 'selected'));\n    // 获取选中元素\n    // states.filter(d => d.state === 'selected')\n  }\n});\n",title:{zh:"漏斗图 元素多选交互",en:"Element selected"},filename:"funnel-element-selected.ts",isNew:!1}],icon:"",id:"interactions",title:{en:"Advanced interactions",zh:"高级交互"},childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"line",title:{zh:"折线图",en:"Line"},icon:"line",examples:[{demos:[{id:"line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/aiERL4ey%24U/08d95f7b-46cb-4bfd-89b2-be36343d44a1.png",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        // type: 'timeCat',\n        tickCount: 5,\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"基础折线图",en:"Basic line plot"},filename:"line.ts",isNew:!1},{id:"spline",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*DRzUQ4UkxjMAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        // type: 'timeCat',\n        tickCount: 5,\n      },\n      smooth: true,\n    });\n\n    line.render();\n  });\n",title:{zh:"基础曲线图",en:"Basic spline plot"},filename:"spline.ts",isNew:!1},{id:"line-point-style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*VN5SQYsPOaIAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nconst data = [\n  { year: '1991', value: 3 },\n  { year: '1992', value: 4 },\n  { year: '1993', value: 3.5 },\n  { year: '1994', value: 5 },\n  { year: '1995', value: 4.9 },\n  { year: '1996', value: 6 },\n  { year: '1997', value: 7 },\n  { year: '1998', value: 9 },\n  { year: '1999', value: 13 },\n];\n\nconst line = new Line('container', {\n  data,\n  xField: 'year',\n  yField: 'value',\n  label: {},\n  point: {\n    size: 5,\n    shape: 'diamond',\n    style: {\n      fill: 'white',\n      stroke: '#5B8FF9',\n      lineWidth: 2,\n    },\n  },\n  tooltip: { showMarkers: false },\n  state: {\n    active: {\n      style: {\n        shadowBlur: 4,\n        stroke: '#000',\n        fill: 'red',\n      },\n    },\n  },\n  interactions: [{ type: 'marker-active' }],\n});\n\nline.render();\n",title:{zh:"配置折线数据点样式",en:"Set style of line plot point"},filename:"line-point-style.ts",isNew:!1},{id:"reflect-y",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/f8CNbPpLQj/a0eaf523-7c9d-4cec-aaaf-74f6e29412e0.png",source:"import { Line } from '@antv/g2plot';\n\nconst data = [\n  { Date: '2021-10-01', rating: 1 },\n  { Date: '2021-10-02', rating: 3 },\n  { Date: '2021-10-03', rating: 8 },\n  { Date: '2021-10-04', rating: 12 },\n  { Date: '2021-10-05', rating: 30 },\n];\n\nconst line = new Line('container', {\n  data,\n  padding: 'auto',\n  xField: 'Date',\n  yField: 'rating',\n  reflect: 'y',\n  xAxis: {\n    // because coordinate is reflectY\n    position: 'top',\n  },\n});\n\nline.render();\n",title:{zh:"折线图 y 轴镜像反转",en:"Invert y-axis of line plot"},filename:"reflect-y.ts",isNew:!1},{id:"line-slider",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*r8MPQ4n9CIQAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        tickCount: 5,\n      },\n      slider: {\n        start: 0.1,\n        end: 0.5,\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"带缩略轴的折线",en:"Line plot with slider"},filename:"line-slider.ts",isNew:!1},{id:"line-with-data-marker",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/7jMv8M%26Dlh/dongtaigengxinzhexiantushuju.gif",source:"import { G2, Line } from '@antv/g2plot';\n\nG2.registerShape('point', 'breath-point', {\n  draw(cfg, container) {\n    const data = cfg.data;\n    const point = { x: cfg.x, y: cfg.y };\n    const group = container.addGroup();\n    if (data.time === '14.20' && data.date === 'today') {\n      const decorator1 = group.addShape('circle', {\n        attrs: {\n          x: point.x,\n          y: point.y,\n          r: 10,\n          fill: cfg.color,\n          opacity: 0.5,\n        },\n      });\n      const decorator2 = group.addShape('circle', {\n        attrs: {\n          x: point.x,\n          y: point.y,\n          r: 10,\n          fill: cfg.color,\n          opacity: 0.5,\n        },\n      });\n      const decorator3 = group.addShape('circle', {\n        attrs: {\n          x: point.x,\n          y: point.y,\n          r: 10,\n          fill: cfg.color,\n          opacity: 0.5,\n        },\n      });\n      decorator1.animate(\n        {\n          r: 20,\n          opacity: 0,\n        },\n        {\n          duration: 1800,\n          easing: 'easeLinear',\n          repeat: true,\n        }\n      );\n      decorator2.animate(\n        {\n          r: 20,\n          opacity: 0,\n        },\n        {\n          duration: 1800,\n          easing: 'easeLinear',\n          repeat: true,\n          delay: 600,\n        }\n      );\n      decorator3.animate(\n        {\n          r: 20,\n          opacity: 0,\n        },\n        {\n          duration: 1800,\n          easing: 'easeLinear',\n          repeat: true,\n          delay: 1200,\n        }\n      );\n      group.addShape('circle', {\n        attrs: {\n          x: point.x,\n          y: point.y,\n          r: 6,\n          fill: cfg.color,\n          opacity: 0.7,\n        },\n      });\n      group.addShape('circle', {\n        attrs: {\n          x: point.x,\n          y: point.y,\n          r: 1.5,\n          fill: cfg.color,\n        },\n      });\n    }\n\n    return group;\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/cpu-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Line('container', {\n      autoFit: true,\n      height: 500,\n      data,\n      meta: {\n        cpu: {\n          time: { type: 'cat' },\n          max: 100,\n          min: 0,\n        },\n      },\n      xField: 'time',\n      yField: 'cpu',\n      seriesField: 'date',\n      tooltip: { showMarkers: false },\n      point: {\n        shape: 'breath-point',\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"带标注点的折线图",en:"Line plot with dataMarker"},filename:"line-with-data-marker.ts",isNew:!1},{id:"line-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*7V6nSpj64uYAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      annotations: [\n        // 低于中位数颜色变化\n        {\n          type: 'regionFilter',\n          start: ['min', 'median'],\n          end: ['max', '0'],\n          color: '#F4664A',\n        },\n        {\n          type: 'text',\n          position: ['min', 'median'],\n          content: '中位数',\n          offsetY: -4,\n          style: {\n            textBaseline: 'bottom',\n          },\n        },\n        {\n          type: 'line',\n          start: ['min', 'median'],\n          end: ['max', 'median'],\n          style: {\n            stroke: '#F4664A',\n            lineDash: [2, 2],\n          },\n        },\n      ],\n    });\n\n    line.render();\n  });\n",title:{zh:"条件样式折线图",en:"Line plot with regionFilter"},filename:"line-annotation.ts",isNew:!1},{id:"custom-marker",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KgcySsCeI9/custom-marker.gif",source:"import { Line, G2 } from '@antv/g2plot';\nimport { each, findIndex } from '@antv/util';\n\nconst { InteractionAction, registerInteraction, registerAction } = G2;\n\nconst data = [\n  { year: '1991', value: 3 },\n  { year: '1992', value: 4 },\n  { year: '1993', value: 3.5 },\n  { year: '1994', value: 5 },\n  { year: '1995', value: 4.9 },\n  { year: '1996', value: 6 },\n  { year: '1997', value: 7 },\n  { year: '1998', value: 9 },\n  { year: '1999', value: 13 },\n];\n\nG2.registerShape('point', 'custom-point', {\n  draw(cfg, container) {\n    const point = { x: cfg.x, y: cfg.y };\n    const group = container.addGroup();\n    group.addShape('circle', {\n      name: 'outer-point',\n      attrs: {\n        x: point.x,\n        y: point.y,\n        fill: cfg.color || 'red',\n        opacity: 0.5,\n        r: 6,\n      },\n    });\n    group.addShape('circle', {\n      name: 'inner-point',\n      attrs: {\n        x: point.x,\n        y: point.y,\n        fill: cfg.color || 'red',\n        opacity: 1,\n        r: 2,\n      },\n    });\n    return group;\n  },\n});\n\nexport class CustomMarkerAction extends InteractionAction {\n  active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items: 数组对象，当前 tooltip 显示的每条内容\n      const { items } = evt.data;\n      const pointGeometries = view.geometries.filter((geom) => geom.type === 'point');\n      each(pointGeometries, (pointGeometry) => {\n        each(pointGeometry.elements, (pointElement, idx) => {\n          const active = findIndex(items, (item) => item.data === pointElement.data) !== -1;\n          const [point0, point1] = pointElement.shape.getChildren();\n\n          if (active) {\n            // outer-circle\n            point0.animate(\n              {\n                r: 10,\n                opacity: 0.2,\n              },\n              {\n                duration: 1800,\n                easing: 'easeLinear',\n                repeat: true,\n              }\n            );\n            // inner-circle\n            point1.animate(\n              {\n                r: 6,\n                opacity: 0.4,\n              },\n              {\n                duration: 800,\n                easing: 'easeLinear',\n                repeat: true,\n              }\n            );\n          } else {\n            this.resetElementState(pointElement);\n          }\n        });\n      });\n    }\n  }\n\n  reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point) => {\n      each(point.elements, (pointElement) => {\n        this.resetElementState(pointElement);\n      });\n    });\n  }\n\n  resetElementState(element) {\n    const [point0, point1] = element.shape.getChildren();\n    point0.stopAnimate();\n    point1.stopAnimate();\n    const { r, opacity } = point0.get('attrs');\n    point0.attr({ r, opacity });\n    const { r: r1, opacity: opacity1 } = point1.get('attrs');\n    point1.attr({ r: r1, opacity: opacity1 });\n  }\n\n  getView() {\n    return this.context.view;\n  }\n}\n\nregisterAction('custom-marker-action', CustomMarkerAction);\nregisterInteraction('custom-marker-interaction', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'custom-marker-action:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'custom-marker-action:reset',\n    },\n  ],\n});\n\nconst line = new Line('container', {\n  data,\n  xField: 'year',\n  yField: 'value',\n  label: {},\n  point: {\n    size: 5,\n    shape: 'custom-point',\n    style: {\n      fill: 'white',\n      stroke: '#5B8FF9',\n      lineWidth: 2,\n    },\n  },\n  tooltip: { showMarkers: false },\n  state: {\n    active: {\n      style: {\n        shadowBlur: 4,\n        stroke: '#000',\n        fill: 'red',\n      },\n    },\n  },\n  interactions: [{ type: 'custom-marker-interaction' }],\n});\n\nline.render();\n",title:{zh:"自定义折线图 marker 与交互",en:"Custom marker and interaction of line plot"},filename:"custom-marker.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Basic Line",zh:"基础折线图"},childrenKey:"demos",order:0},{demos:[{id:"line-large-data",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*IZ9nRq-a6fIAAAAAAAAAAABkARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/55424a73-7cb8-4f79-b60d-3ab627ac5698.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'category',\n      xAxis: {\n        type: 'time',\n      },\n      yAxis: {\n        label: {\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"二氧化碳排放量来源",en:"The causes of CO2 emissions"},filename:"line-large-data.ts",isNew:!1},{id:"line-grid",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*pDC0TIJFgvwAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/55424a73-7cb8-4f79-b60d-3ab627ac5698.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data: data\n        .slice(data.length - 90, data.length)\n        .filter((item) => item.category === 'Gas fuel' || item.category === 'Cement production'),\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'category',\n      // X 轴相关配置\n      xAxis: {\n        nice: true,\n        // tickCount: 8,\n        // 文本标签\n        label: {\n          // autoRotate: false,\n          rotate: Math.PI / 6,\n          offset: 10,\n          style: {\n            fill: '#aaa',\n            fontSize: 12,\n          },\n          formatter: (name) => name,\n        },\n        title: {\n          text: '年份',\n          style: {\n            fontSize: 16,\n          },\n        },\n        // 坐标轴线的配置项 null 表示不展示\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n        tickLine: {\n          style: {\n            lineWidth: 2,\n            stroke: '#aaa',\n          },\n          length: 5,\n        },\n        grid: {\n          line: {\n            style: {\n              stroke: '#ddd',\n              lineDash: [4, 2],\n            },\n          },\n          alternateColor: 'rgba(0,0,0,0.05)',\n        },\n      },\n      // Y 轴相关配置\n      yAxis: {\n        // max: 3000,\n        // 文本标签\n        label: {\n          autoRotate: false,\n          style: {\n            fill: '#aaa',\n            fontSize: 12,\n          },\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n        title: {\n          text: '排放量(顿)',\n          style: {\n            fontSize: 16,\n          },\n        },\n        // 坐标轴线的配置项 null 表示不展示\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n        tickLine: {\n          style: {\n            lineWidth: 2,\n            stroke: '#aaa',\n          },\n          length: 5,\n        },\n        grid: {\n          line: {\n            style: {\n              stroke: '#ddd',\n              lineDash: [4, 2],\n            },\n          },\n          alternateColor: 'rgba(0,0,0,0.05)',\n        },\n      },\n      // label\n      label: {\n        layout: [{ type: 'hide-overlap' }], // 隐藏重叠label\n        style: {\n          textAlign: 'right',\n        },\n        formatter: (item) => item.value,\n      },\n      // point\n      point: {\n        size: 5,\n        style: {\n          lineWidth: 1,\n          fillOpacity: 1,\n        },\n        shape: (item) => {\n          if (item.category === 'Cement production') {\n            return 'circle';\n          }\n          return 'diamond';\n        },\n      },\n      annotations: [\n        // 辅助线\n        {\n          type: 'line',\n          start: ['0%', '10%'],\n          end: ['100%', '10%'],\n          top: true,\n          style: {\n            stroke: 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff',\n            lineWidth: 2,\n          },\n        },\n        // 辅助区域\n        {\n          type: 'region',\n          start: ['0%', '0%'],\n          end: ['20%', '10%'],\n          top: true,\n          style: {\n            fill: '#1890ff',\n            fillOpacity: 1,\n            opacity: 1,\n          },\n        },\n        // 辅助文本\n        {\n          type: 'text',\n          position: ['10%', '5%'],\n          content: '二氧化碳排放量来源',\n          style: {\n            fill: '#fff',\n            fontSize: 12,\n            textAlign: 'center',\n            textBaseline: 'middle',\n            shadowColor: '#fff',\n            shadowOffsetX: 12,\n            shadowOffsetY: 12,\n            shadowBlur: 2,\n          },\n        }, // 辅助线\n        {\n          type: 'line',\n          start: ['min', 'median'],\n          end: ['max', 'median'],\n          style: {\n            stroke: 'Turquoise',\n            lineDash: [4, 2],\n          },\n        },\n      ],\n      legend: {\n        position: 'top-right',\n        itemName: {\n          style: {\n            fill: '#000',\n          },\n          formatter: (name) => name,\n        },\n      },\n      // 度量相关配置\n      meta: {\n        // year 对应 xField || yField\n        year: {\n          range: [0, 1],\n        },\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"网格填充",en:"Grid filled"},filename:"line-grid.ts",isNew:!1},{id:"line-label",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*3HyPSaIxw0gAAAAAAAAAAABkARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/e00d52f4-2fa6-47ee-a0d7-105dd95bde20.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const linePlot = new Line('container', {\n      data,\n      xField: 'year',\n      yField: 'gdp',\n      seriesField: 'name',\n      yAxis: {\n        label: {\n          formatter: (v) => `${(v / 10e8).toFixed(1)} B`,\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      smooth: true,\n      // @TODO 后续会换一种动画方式\n      animation: {\n        appear: {\n          animation: 'path-in',\n          duration: 5000,\n        },\n      },\n    });\n\n    linePlot.render();\n  });\n",title:{zh:"多折线动画",en:"Multiple line plot animation"},filename:"line-label.ts",isNew:!1},{id:"line-area",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/iQezVzeT%24x/line-area.gif",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/e00d52f4-2fa6-47ee-a0d7-105dd95bde20.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const linePlot = new Line('container', {\n      data,\n      xField: 'year',\n      yField: 'gdp',\n      seriesField: 'name',\n      yAxis: {\n        label: {\n          formatter: (v) => `${(v / 10e8).toFixed(1)} B`,\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      smooth: true,\n      // 配置折线趋势填充\n      area: {\n        style: {\n          fillOpacity: 0.15,\n        },\n      },\n      animation: {\n        appear: {\n          animation: 'wave-in',\n          duration: 3000,\n        },\n      },\n    });\n\n    linePlot.render();\n  });\n",title:{zh:"折线趋势填充",en:"Line with area fill"},filename:"line-area.ts",isNew:!1},{id:"line-color",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*IZ9nRq-a6fIAAAAAAAAAAABkARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/55424a73-7cb8-4f79-b60d-3ab627ac5698.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'category',\n      yAxis: {\n        label: {\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n      },\n      color: ['#1979C9', '#D62A0D', '#FAA219'],\n    });\n\n    line.render();\n  });\n",title:{zh:"指定折线颜色",en:"Set line color"},filename:"line-color.ts",isNew:!1},{id:"style-callback",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*iHQDSZ9g2fQAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/c48dbbb1-fccf-4a46-b68f-a3ddb4908b68.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      xField: 'date',\n      yField: 'value',\n      yAxis: {\n        label: {\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n      },\n      seriesField: 'type',\n      color: ({ type }) => {\n        return type === 'register' ? '#F4664A' : type === 'download' ? '#30BF78' : '#FAAD14';\n      },\n      lineStyle: ({ type }) => {\n        if (type === 'register') {\n          return {\n            lineDash: [4, 4],\n            opacity: 1,\n          };\n        }\n        return {\n          opacity: 0.5,\n        };\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"通过回调函数指定折线样式",en:"Set line style through callback"},filename:"style-callback.ts",isNew:!1},{id:"marker-active",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*MZvDRY7LH-sAAAAAAAAAAABkARQnAQ",source:"import { Line } from '@antv/g2plot';\nimport { uniq, findIndex } from '@antv/util';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/55424a73-7cb8-4f79-b60d-3ab627ac5698.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const COLOR_PLATE_10 = [\n      '#5B8FF9',\n      '#5AD8A6',\n      '#5D7092',\n      '#F6BD16',\n      '#E8684A',\n      '#6DC8EC',\n      '#9270CA',\n      '#FF9D4D',\n      '#269A99',\n      '#FF99C3',\n    ];\n\n    const container = document.getElementById('container');\n\n    const line = new Line(container, {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'category',\n      yAxis: {\n        label: {\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n      },\n      color: COLOR_PLATE_10,\n      point: {\n        shape: ({ category }) => {\n          return category === 'Gas fuel' ? 'square' : 'circle';\n        },\n        style: ({ year }) => {\n          return {\n            r: Number(year) % 4 ? 0 : 3, // 4 个数据示一个点标记\n          };\n        },\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"通过回调函数指定数据点样式",en:"Set point style through callback"},filename:"marker-active.ts",isNew:!1}],icon:"",id:"multiple",title:{en:"Multi Line",zh:"多折线图"},childrenKey:"demos",order:1},{demos:[{id:"line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*lOdVRrYL7UIAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nconst data = [\n  { year: '1991', value: 3 },\n  { year: '1992', value: 4 },\n  { year: '1993', value: 3.5 },\n  { year: '1994', value: 5 },\n  { year: '1995', value: 4.9 },\n  { year: '1996', value: 6 },\n  { year: '1997', value: 7 },\n  { year: '1998', value: 9 },\n  { year: '1999', value: 13 },\n  { year: '1999', value: 8 },\n];\nconst linePlot = new Line('container', {\n  data,\n  xField: 'year',\n  yField: 'value',\n  stepType: 'vh',\n});\n\nlinePlot.render();\n",title:{zh:"阶梯折线图",en:"Step line plot"},filename:"line.ts",isNew:!1},{id:"line-multiple",screenshot:"https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*qpizTrPVB-IAAAAAAAAAAABkARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nconst data = [\n  { month: 'Jan', key: 'series1', value: 125 },\n  { month: 'Jan', key: 'series2', value: 51 },\n  { month: 'Feb', key: 'series1', value: 132 },\n  { month: 'Feb', key: 'series2', value: 91 },\n  { month: 'Mar', key: 'series1', value: 141 },\n  { month: 'Mar', key: 'series2', value: 34 },\n  { month: 'Apr', key: 'series1', value: 158 },\n  { month: 'Apr', key: 'series2', value: 47 },\n  { month: 'May', key: 'series1', value: 133 },\n  { month: 'May', key: 'series2', value: 63 },\n  { month: 'June', key: 'series1', value: 143 },\n  { month: 'June', key: 'series2', value: 58 },\n  { month: 'July', key: 'series1', value: 176 },\n  { month: 'July', key: 'series2', value: 56 },\n  { month: 'Aug', key: 'series1', value: 194 },\n  { month: 'Aug', key: 'series2', value: 77 },\n  { month: 'Sep', key: 'series1', value: 115 },\n  { month: 'Sep', key: 'series2', value: 99 },\n  { month: 'Oct', key: 'series1', value: 134 },\n  { month: 'Oct', key: 'series2', value: 106 },\n  { month: 'Nov', key: 'series1', value: 110 },\n  { month: 'Nov', key: 'series2', value: 88 },\n  { month: 'Dec', key: 'series1', value: 91 },\n  { month: 'Dec', key: 'series2', value: 56 },\n];\nconst line = new Line('container', {\n  data,\n  xField: 'month',\n  yField: 'value',\n  legend: false,\n  seriesField: 'key',\n  stepType: 'hvh',\n});\n\nline.render();\n",title:{zh:"多阶梯折线图",en:"Step line multiple plot"},filename:"line-multiple.ts",isNew:!1}],icon:"",id:"step",title:{en:"Step Line",zh:"阶梯折线图"},childrenKey:"demos",order:2},{demos:[{id:"multiple-measures-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/dlVX%26qKJM8/5cd5a7a4-deeb-4093-b9b7-16642b6fd29c.png",source:"import { Line } from '@antv/g2plot';\n\nconst seriesKey = 'series';\nconst valueKey = 'value';\nfunction processData(data, yFields, meta) {\n  const result = [];\n  data.forEach((d) => {\n    yFields.forEach((yField) => {\n      const name = meta?.[yField]?.alias || yField;\n      result.push({ ...d, date: d.date, [seriesKey]: name, [valueKey]: d[yField] });\n    });\n  });\n  return result;\n}\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/nHVKXA8ClI/multiple-measures-line-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const meta = {\n      date: {\n        alias: '销售日期',\n      },\n      price: {\n        alias: '单价',\n      },\n      discount_price: {\n        alias: '折扣单价',\n      },\n    };\n    const line = new Line('container', {\n      data: processData(data, ['price', 'discount_price'], meta),\n      padding: 'auto',\n      xField: 'date',\n      yField: valueKey,\n      seriesField: seriesKey,\n      appendPadding: [0, 8, 0, 0],\n    });\n\n    line.render();\n  });\n",title:{zh:"多指标折线图",en:"Line plot with multiple measures"},filename:"multiple-measures-line.ts",isNew:!1},{id:"series-multiple-measures-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/yDIAapcDqv/53c603d6-c841-4564-86c1-cafa5865bde1.png",source:"import { Line } from '@antv/g2plot';\n\nconst seriesKey = 'series';\nconst valueKey = 'value';\nfunction processData(data, yFields, seriesField, meta) {\n  const result = [];\n  data.forEach((d) => {\n    yFields.forEach((yField) => {\n      const name = meta?.[yField]?.alias || yField;\n      result.push({ ...d, date: d.date, [seriesKey]: `${d[seriesField]}:${name}`, [valueKey]: d[yField] });\n    });\n  });\n  return result;\n}\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/UjzkGj7yin/multiple-measures-line-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const meta = {\n      date: {\n        alias: '销售日期',\n      },\n      price: {\n        alias: '单价',\n      },\n      discount_price: {\n        alias: '折扣单价',\n      },\n    };\n    const line = new Line('container', {\n      data: processData(data, ['price', 'discount_price'], 'channel', meta),\n      padding: 'auto',\n      xField: 'date',\n      yField: valueKey,\n      seriesField: seriesKey,\n      appendPadding: [0, 8, 0, 0],\n    });\n\n    line.render();\n  });\n",title:{zh:"带拆分的多指标折线图",en:"Line plot with multiple measures"},filename:"series-multiple-measures-line.ts",isNew:!1},{id:"derived-measures-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/3Fb00xBNEL/4c831eb3-2290-4c2c-b3c5-c51877beb157.png",source:"import { Line } from '@antv/g2plot';\n\nconst seriesKey = 'series';\nconst valueKey = 'value';\nfunction processData(data, yFields, seriesField, meta) {\n  const result = [];\n  data.forEach((d) => {\n    yFields.forEach((yField) => {\n      const name = meta?.[yField]?.alias || yField;\n      result.push({\n        ...d,\n        date: d.date,\n        [seriesKey]: `${d[seriesField]}:${name}`,\n        [valueKey]: d[yField],\n        isRCValue: meta?.[yField]?.isRCValue,\n      });\n    });\n  });\n  return result;\n}\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/Z5m0SU17O1/line-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const meta = {\n      date: {\n        alias: '销售日期',\n      },\n      price: {\n        alias: '单价',\n      },\n      price_monthRelativeValue: {\n        alias: '单价:月同比值',\n        isRCValue: true,\n      },\n      discount: {\n        alias: '折扣',\n      },\n      discount_monthRelativeValue: {\n        alias: '折扣:月同比值',\n        isRCValue: true,\n      },\n    };\n    const line = new Line('container', {\n      data: processData(\n        data,\n        ['price', 'discount', 'price_monthRelativeValue', 'discount_monthRelativeValue'],\n        'channel',\n        meta\n      ),\n      padding: 'auto',\n      appendPadding: [0, 8, 0, 0],\n      xField: 'date',\n      yField: valueKey,\n      seriesField: seriesKey,\n      rawFields: ['isRCValue'],\n      lineStyle: (datum) => {\n        if (datum['isRCValue']) {\n          return {\n            lineDash: [2, 4],\n          };\n        }\n      },\n    });\n\n    line.render();\n  });\n",title:{zh:"带衍生指标折线图",en:"Line plot with derived measures"},filename:"derived-measures-line.ts",isNew:!1}],icon:"",id:"scenario",title:{en:"Scenario Line",zh:"场景折线图"},childrenKey:"demos",order:3}],childrenKey:"examples"},{id:"area",title:{zh:"面积图",en:"Area"},icon:"area",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/6I8o7W3Gs7/a93dddbd-dc90-4f3e-ba8a-58918d0bfae7.png",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/360c3eae-0c73-46f0-a982-4746a6095010.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'timePeriod',\n      yField: 'value',\n      xAxis: {\n        range: [0, 1],\n      },\n    });\n    area.render();\n  });\n",title:{zh:"基础面积图",en:"Basic area plot"},filename:"basic.ts",isNew:!1},{id:"basic-gradients",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*4dnrSbNeOGQAAAAAAAAAAAAAARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        range: [0, 1],\n        tickCount: 5,\n      },\n      areaStyle: () => {\n        return {\n          fill: 'l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff',\n        };\n      },\n    });\n    area.render();\n  });\n",title:{zh:"渐变色面积图",en:"Gradients area plot"},filename:"basic-gradients.ts",isNew:!1},{id:"basic-slider",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*xXtxRLa2CHoAAAAAAAAAAAAAARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        tickCount: 5,\n      },\n      animation: false,\n      slider: {\n        start: 0.1,\n        end: 0.9,\n        trendCfg: {\n          isArea: true,\n        },\n      },\n    });\n    area.render();\n  });\n",title:{zh:"带缩略轴面积图",en:"Area plot with slider"},filename:"basic-slider.ts",isNew:!1},{id:"basic-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*7dkjRqqCukoAAAAAAAAAAAAAARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'Date',\n      yField: 'scales',\n      annotations: [\n        {\n          type: 'text',\n          position: ['min', 'median'],\n          content: '中位数',\n          offsetY: -4,\n          style: {\n            textBaseline: 'bottom',\n          },\n        },\n        {\n          type: 'line',\n          start: ['min', 'median'],\n          end: ['max', 'median'],\n          style: {\n            stroke: 'red',\n            lineDash: [2, 2],\n          },\n        },\n      ],\n    });\n    area.render();\n  });\n",title:{zh:"带中位线标注的基础面积图",en:"Basic area plot with line annotation"},filename:"basic-annotation.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Basic Area",zh:"基础面积图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*YYfSRoiOS_EAAAAAAAAAAABkARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/b21e7336-0b3e-486c-9070-612ede49284e.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'date',\n      yField: 'value',\n      seriesField: 'country',\n    });\n    area.render();\n  });\n",title:{zh:"堆叠面积图",en:"Stacked area plot"},filename:"basic.ts",isNew:!1},{id:"area-large-data",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*u6u1RqMG9coAAAAAAAAAAABkARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/55424a73-7cb8-4f79-b60d-3ab627ac5698.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'category',\n      color: ['#6897a7', '#8bc0d6', '#60d7a7', '#dedede', '#fedca9', '#fab36f', '#d96d6f'],\n      xAxis: {\n        type: 'time',\n        mask: 'YYYY',\n      },\n      yAxis: {\n        label: {\n          // 数值格式化为千分位\n          formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n    });\n\n    area.render();\n  });\n",title:{zh:"二氧化碳排放量来源",en:"The causes of CO2 emissions"},filename:"area-large-data.ts",isNew:!1},{id:"basic-slider",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*LGuMQ4uO_0EAAAAAAAAAAAAAARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/b21e7336-0b3e-486c-9070-612ede49284e.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'date',\n      yField: 'value',\n      seriesField: 'country',\n      slider: {\n        start: 0.1,\n        end: 0.9,\n      },\n    });\n    area.render();\n  });\n",title:{zh:"带缩略轴堆叠面积图",en:"Stacked area with slider"},filename:"basic-slider.ts",isNew:!1}],icon:"",id:"stacked",title:{en:"Stacked Area",zh:"堆积面积图"},childrenKey:"demos",order:1},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*vr8gQJiyNmQAAAAAAAAAAAAAARQnAQ",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/67ef5751-b228-417c-810a-962f978af3e7.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'country',\n      color: ['#82d1de', '#cb302d', '#e3ca8c'],\n      areaStyle: {\n        fillOpacity: 0.7,\n      },\n      appendPadding: 10,\n      isPercent: true,\n      yAxis: {\n        label: {\n          formatter: (value) => {\n            return value * 100;\n          },\n        },\n      },\n    });\n    area.render();\n  });\n",title:{zh:"百分比堆叠面积图",en:"Percent Stacked Area"},filename:"basic.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/jJsc4f2dCu/dcbe08bf-8f48-4a22-90e3-e3dd60369d0d.png",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/67ef5751-b228-417c-810a-962f978af3e7.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const area = new Area('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'country',\n      color: ['#82d1de', '#cb302d', '#e3ca8c'],\n      areaStyle: {\n        fillOpacity: 0.7,\n      },\n      appendPadding: 10,\n      isPercent: true,\n      yAxis: {\n        label: {\n          formatter: (value) => {\n            return value * 100;\n          },\n        },\n      },\n      pattern: {\n        type: 'line',\n      },\n    });\n    area.render();\n  });\n",title:{zh:"带贴图百分比堆叠面积图",en:"Percent Stacked Area with pattern"},filename:"pattern.ts",isNew:!1}],icon:"",id:"percent",title:{en:"Percented Area",zh:"百分比面积图"},childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"column",title:{zh:"柱形图",en:"Column"},icon:"column",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*KAg2TY-oYRUAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'sales',\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'top', 'bottom', 'middle',\n    // 配置样式\n    style: {\n      fill: '#FFFFFF',\n      opacity: 0.6,\n    },\n  },\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"基础柱状图",en:"Basic column plot"},filename:"basic.ts",isNew:!1},{id:"coordinate",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/pgIqf6yZuq/510565ac-e2d6-4869-b71e-da8c5c12bd87.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'sales',\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'top', 'bottom', 'middle',\n    // 配置样式\n    style: {\n      fill: '#FFFFFF',\n      opacity: 0.6,\n    },\n  },\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n  coordinate: [{ type: 'reflectY' }],\n});\n\ncolumnPlot.render();\n",title:{zh:"倒转柱状图",en:"Column plot reflectY"},filename:"coordinate.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*dr27SafKNzIAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '1-3秒', value: 0.16 },\n  { type: '4-10秒', value: 0.125 },\n  { type: '11-30秒', value: 0.24 },\n  { type: '31-60秒', value: 0.19 },\n  { type: '1-3分', value: 0.22 },\n  { type: '3-10分', value: 0.05 },\n  { type: '10-30分', value: 0.01 },\n  { type: '30+分', value: 0.015 },\n];\n\nconst paletteSemanticRed = '#F4664A';\nconst brandColor = '#5B8FF9';\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'value',\n  seriesField: '',\n  color: ({ type }) => {\n    if (type === '10-30分' || type === '30+分') {\n      return paletteSemanticRed;\n    }\n    return brandColor;\n  },\n  label: {\n    content: (originData) => {\n      const val = parseFloat(originData.value);\n      if (val < 0.05) {\n        return (val * 100).toFixed(1) + '%';\n      }\n    },\n    offset: 10,\n  },\n  legend: false,\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"自定义柱状图颜色",en:"Column plot color"},filename:"color.ts",isNew:!1},{id:"width-ratio",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*92VnSrkQLeAAAAAAAAAAAABkARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'sales',\n  columnWidthRatio: 0.8,\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"指定柱状图宽度比例",en:"Specify column plot widthRatio"},filename:"width-ratio.ts",isNew:!1},{id:"width",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/VXpimaHvuV/6fbe7c39-c14a-493c-ad45-4b335ab24ba9.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'sales',\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n  minColumnWidth: 20,\n  maxColumnWidth: 20,\n});\n\ncolumnPlot.render();\n",title:{zh:"指定柱状图最小最大宽度",en:"Column plot with customize width"},filename:"width.ts",isNew:!1},{id:"slider",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*QhoHQ4QIts0AAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/be63e0a2-d2be-4c45-97fd-c00f752a66d4.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: '城市',\n      yField: '销售额',\n      xAxis: {\n        label: {\n          autoRotate: false,\n        },\n      },\n      slider: {\n        start: 0.1,\n        end: 0.2,\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"带缩略轴柱状图",en:"Column plot with slider"},filename:"slider.ts",isNew:!1},{id:"scrollbar",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*IkdWTaXf4vAAAAAAAAAAAABkARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/be63e0a2-d2be-4c45-97fd-c00f752a66d4.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: '城市',\n      yField: '销售额',\n      xAxis: {\n        label: {\n          autoRotate: false,\n        },\n      },\n      scrollbar: {\n        type: 'horizontal',\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"带滚动条柱状图",en:"Column plot with scrollbar"},filename:"scrollbar.ts",isNew:!1},{id:"conversion-tag",screenshot:"https://gw.alicdn.com/tfs/TB1u3.cvUY1gK0jSZFMXXaWcVXa-1638-1228.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { action: '浏览网站', pv: 50000 },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000 },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8500 },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'action',\n  yField: 'pv',\n  conversionTag: {},\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"带转化率柱状图",en:"Column plot with conversion tag"},filename:"conversion-tag.ts",isNew:!1},{id:"region-annotation",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/ceFSs9FuNn/2922d5e4-df5f-4512-8f8f-6f2ec258c7b8.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { month: '1', value: 1078 },\n  { month: '2', value: 1216 },\n  { month: '3', value: 758 },\n  { month: '4', value: 623 },\n  { month: '5', value: 319 },\n  { month: '6', value: 422 },\n  { month: '7', value: -4 },\n  { month: '8', value: -217 },\n  { month: '9', value: -358 },\n  { month: '10', value: 1513 },\n  { month: '11', value: 1388 },\n  { month: '12', value: 597 },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  padding: 'auto',\n  xField: 'month',\n  yField: 'value',\n  meta: {\n    value: {\n      max: 2000,\n      min: -1000,\n    },\n    month: {\n      formatter: (val) => `${val} 月`,\n    },\n  },\n  annotations: [\n    {\n      type: 'region',\n      start: (xScale) => {\n        const ratio = xScale.ticks ? 1 / xScale.ticks.length : 1;\n        const x = xScale.scale('7') - ratio / 2;\n        return [`${x * 100}%`, '0%'];\n      },\n      end: (xScale) => {\n        const ratio = xScale.ticks ? 1 / xScale.ticks.length : 1;\n        const x = xScale.scale('9') + ratio / 2;\n        return [`${x * 100}%`, '100%'];\n      },\n    },\n  ],\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"带辅助框标注的基础柱状图",en:"Basic column plot with region annotation"},filename:"region-annotation.ts",isNew:!1},{id:"custom-shape",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/98KdFZxO4I/blink-interval.gif",source:"import { G2, Column } from '@antv/g2plot';\n\nconst LATEST_FLAG = 'LATEST_FLAG';\n\nfunction getIntervalRectPath(points, isClosed = true) {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  // 对于 shape=\"line\" path 不应该闭合，否则会造成 lineCap 绘图属性失效\n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n  }\n  return path;\n}\n\nG2.registerAnimation('label-update', (element, animateCfg, cfg) => {\n  const startX = element.attr('x');\n  const startY = element.attr('y');\n  // @ts-ignore\n  const finalX = cfg.toAttrs.x;\n  // @ts-ignore\n  const finalY = cfg.toAttrs.y;\n\n  const labelContent = element.attr('text');\n  // @ts-ignore\n  const finalContent = cfg.toAttrs.text;\n\n  const distanceX = finalX - startX;\n  const distanceY = finalY - startY;\n  const numberDiff = +finalContent - +labelContent;\n\n  element.animate((ratio) => {\n    const positionX = startX + distanceX * ratio;\n    const positionY = startY + distanceY * ratio;\n    const value = +labelContent + numberDiff * ratio;\n\n    return {\n      x: positionX,\n      y: positionY,\n      text: value.toFixed(0),\n    };\n  }, animateCfg);\n});\n\nG2.registerShape('interval', 'blink-interval', {\n  draw(cfg, container) {\n    const group = container.addGroup();\n    const path = this.parsePath(getIntervalRectPath(cfg.points));\n    const { color, style = {}, defaultStyle } = cfg;\n    const fillColor = color || style.fill || defaultStyle.fill;\n\n    const height = path[1][2] - path[0][2];\n    const width = path[3][1] - path[0][1];\n    const x = path[0][1];\n    const y = path[0][2];\n    group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        fill: fillColor,\n        x,\n        y,\n        width,\n        height,\n      },\n      name: 'interval',\n    });\n\n    const data = cfg.data;\n    group.addShape('rect', {\n      attrs: {\n        x,\n        y,\n        width,\n        height,\n        fill: `l(90) 0:${fillColor} 1:rgba(255,255,255,0.23)`,\n        opacity: data[LATEST_FLAG] ? 1 : 0,\n      },\n      name: 'blink-interval',\n    });\n\n    return group;\n  },\n});\n\nG2.registerAnimation('appear-interval', (shape, animateCfg, cfg) => {\n  const growInY = G2.getAnimation('scale-in-y');\n  growInY(shape, animateCfg, cfg);\n\n  const blinkShape = shape.getParent().findAllByName('blink-interval')[0];\n  if (blinkShape) {\n    const { height } = blinkShape.attr();\n    blinkShape.attr('height', 0);\n    blinkShape.animate(\n      {\n        height: height,\n      },\n      {\n        duration: 1000,\n        easing: 'easeQuadOut',\n        repeat: true,\n      }\n    );\n  }\n});\n\nG2.registerAnimation('blink-interval', (element, animateCfg, cfg) => {\n  const container = element.getParent();\n\n  const shape = container.findAllByName('interval')[0];\n  const blinkShape = container.findAllByName('blink-interval')[0];\n\n  if (shape && cfg.toAttrs.path) {\n    shape.animate(cfg.toAttrs, animateCfg);\n  }\n\n  if (blinkShape) {\n    blinkShape.stopAnimate(true);\n    blinkShape.attr({ x: cfg.toAttrs.x, y: cfg.toAttrs.y });\n    blinkShape.attr({ height: 0, width: cfg.toAttrs.width });\n    blinkShape.animate(\n      {\n        height: cfg.toAttrs.height,\n      },\n      {\n        duration: 1000,\n        easing: 'easeQuadOut',\n        delay: 50,\n        repeat: true,\n      }\n    );\n  }\n});\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/xXg6cUV0lV/column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data: data.map((d, idx) => ({ ...d, [LATEST_FLAG]: idx === data.length - 1 })),\n      xField: 'month',\n      yField: 'value',\n      appendPadding: [10],\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'top', // 'top', 'bottom', 'middle',\n        offset: 4,\n        animate: {\n          update: {\n            animation: 'label-update',\n            duration: 300,\n            easing: 'easeLinear',\n          },\n        },\n      },\n      xAxis: {\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      meta: {\n        month: {\n          alias: '月份',\n        },\n        value: {\n          alias: '销售额',\n          nice: true,\n        },\n      },\n      shape: 'blink-interval',\n      animation: {\n        appear: {\n          animation: 'appear-interval',\n        },\n        update: {\n          animation: 'blink-interval',\n        },\n      },\n    });\n\n    plot.render();\n    let timer = 0;\n    const interval = setInterval(() => {\n      const chartData = plot.chart.getData();\n      plot.chart.changeData(\n        chartData.map((d) => ({ ...d, value: d[LATEST_FLAG] ? d.value + ((Math.random() * 250) | 0) : d.value }))\n      );\n\n      timer++;\n      if (timer > 500) {\n        clearInterval(interval);\n      }\n    }, 2000);\n  });\n",title:{zh:"自定义柱状图图形元素展示",en:"Custom column shape"},filename:"custom-shape.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Basic Column",zh:"基础柱状图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KLJB0t7S9W/93ca0482-9d1d-42e9-b99c-c70d87517888.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stackedColumnPlot = new Column('container', {\n      data,\n      isStack: true,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'bottom', 'middle'\n        // 可配置附加的布局方法\n        layout: [\n          // 柱形图数据标签位置自动调整\n          { type: 'interval-adjust-position' },\n          // 数据标签防遮挡\n          { type: 'interval-hide-overlap' },\n          // 数据标签文颜色自动调整\n          { type: 'adjust-color' },\n        ],\n      },\n    });\n\n    stackedColumnPlot.render();\n  });\n",title:{zh:"堆叠柱状图",en:"Stacked column plot"},filename:"basic.ts",isNew:!1},{id:"connect-area",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KLJB0t7S9W/93ca0482-9d1d-42e9-b99c-c70d87517888.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stackedColumnPlot = new Column('container', {\n      data,\n      isStack: true,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'bottom', 'middle'\n      },\n      interactions: [{ type: 'active-region', enable: false }],\n      connectedArea: {\n        style: (oldStyle, element) => {\n          return { fill: 'rgba(0,0,0,0.25)', stroke: oldStyle.fill, lineWidth: 0.5 };\n        },\n      },\n    });\n\n    stackedColumnPlot.render();\n  });\n",title:{zh:"自定义联通区域样式柱状图",en:"Stacked column plot with connectedArea"},filename:"connect-area.ts",isNew:!1},{id:"annotation-label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/h5ZnxOZaVR/f4495644-e5b3-4130-8a8f-686cf6241267.png",source:"import { Column } from '@antv/g2plot';\n// 也可以在项目中直接使用 lodash\nimport { each, groupBy } from '@antv/util';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const annotations = [];\n    each(groupBy(data, 'year'), (values, k) => {\n      const value = values.reduce((a, b) => a + b.value, 0);\n      annotations.push({\n        type: 'text',\n        position: [k, value],\n        content: `${value}`,\n        style: { textAlign: 'center', fontSize: 14, fill: 'rgba(0,0,0,0.85)' },\n        offsetY: -10,\n      });\n    });\n\n    const plot = new Column('container', {\n      data,\n      isStack: true,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'bottom', 'middle'\n        // 可配置附加的布局方法\n        layout: [\n          // 柱形图数据标签位置自动调整\n          { type: 'interval-adjust-position' },\n          // 数据标签防遮挡\n          { type: 'interval-hide-overlap' },\n          // 数据标签文颜色自动调整\n          { type: 'adjust-color' },\n        ],\n      },\n      // 使用 annotation （图形标注）来展示：总数的 label\n      annotations,\n    });\n\n    plot.render();\n  });\n",title:{zh:"借助图形标注展示总计 label",en:"Show total label with annotations"},filename:"annotation-label.ts",isNew:!1},{id:"column-background",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/pgOqla53EK/column-background.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stackedColumnPlot = new Column('container', {\n      data,\n      isStack: true,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'bottom', 'middle'\n      },\n      interactions: [{ type: 'active-region', enable: false }],\n      columnBackground: {\n        style: {\n          fill: 'rgba(0,0,0,0.1)',\n        },\n      },\n    });\n\n    stackedColumnPlot.render();\n  });\n",title:{zh:"设置柱状图背景色",en:"Column plot with background"},filename:"column-background.ts",isNew:!1}],icon:"",id:"stacked",title:{en:"Stacked Column",zh:"堆叠柱状图"},childrenKey:"demos",order:1},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*cE7xSYYgqCcAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    name: 'London',\n    月份: 'Jan.',\n    月均降雨量: 18.9,\n  },\n  {\n    name: 'London',\n    月份: 'Feb.',\n    月均降雨量: 28.8,\n  },\n  {\n    name: 'London',\n    月份: 'Mar.',\n    月均降雨量: 39.3,\n  },\n  {\n    name: 'London',\n    月份: 'Apr.',\n    月均降雨量: 81.4,\n  },\n  {\n    name: 'London',\n    月份: 'May',\n    月均降雨量: 47,\n  },\n  {\n    name: 'London',\n    月份: 'Jun.',\n    月均降雨量: 20.3,\n  },\n  {\n    name: 'London',\n    月份: 'Jul.',\n    月均降雨量: 24,\n  },\n  {\n    name: 'London',\n    月份: 'Aug.',\n    月均降雨量: 35.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jan.',\n    月均降雨量: 12.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Feb.',\n    月均降雨量: 23.2,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Mar.',\n    月均降雨量: 34.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Apr.',\n    月均降雨量: 99.7,\n  },\n  {\n    name: 'Berlin',\n    月份: 'May',\n    月均降雨量: 52.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jun.',\n    月均降雨量: 35.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jul.',\n    月均降雨量: 37.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Aug.',\n    月均降雨量: 42.4,\n  },\n];\n\nconst stackedColumnPlot = new Column('container', {\n  data,\n  isGroup: true,\n  xField: '月份',\n  yField: '月均降雨量',\n  seriesField: 'name',\n  /** 设置颜色 */\n  //color: ['#1ca9e6', '#f88c24'],\n  /** 设置间距 */\n  // marginRatio: 0.1,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'top', 'middle', 'bottom'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n});\n\nstackedColumnPlot.render();\n",title:{zh:"分组柱状图",en:"Grouped column plot"},filename:"basic.ts",isNew:!1},{id:"corner-radius",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/vA%26pfMx397/0d8d9a6e-51ba-48f2-bc6d-091d77d94e2e.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      columnStyle: {\n        radius: [20, 20, 0, 0],\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"圆角柱状图",en:"Column plot with corner-radius"},filename:"corner-radius.ts",isNew:!1},{id:"stacked",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/9ExrwrpVrA/908eff62-1132-4dbb-8c3c-9cbe8183c6d8.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/mor%26R5yBI9/stack-group-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: 'product_type',\n      yField: 'order_amt',\n      isGroup: true,\n      isStack: true,\n      seriesField: 'product_sub_type',\n      groupField: 'sex',\n    });\n\n    column.render();\n  });\n",title:{zh:"堆叠分组柱状图",en:"Stacked grouped column plot"},filename:"stacked.ts",isNew:!1},{id:"tooltip-formatter",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*zDnZQLk2L5wAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/mor%26R5yBI9/stack-group-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: 'product_type',\n      yField: 'order_amt',\n      isGroup: true,\n      isStack: true,\n      seriesField: 'product_sub_type',\n      groupField: 'sex',\n      tooltip: {\n        formatter: (datum) => ({\n          name: `${datum.product_sub_type} ${datum.sex === '男' ? '👦' : '👧'}`,\n          value: datum.order_amt,\n        }),\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"对 Tooltip 进行 formatter",en:"Formatter for tooltip"},filename:"tooltip-formatter.ts",isNew:!1},{id:"stacked2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/mp10Ax%24Mvx/4c6f19b4-2549-4023-8756-bce61bf6c50e.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/cK%24sTxSsah/stack-group-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: 'month',\n      yField: 'value',\n      isGroup: true,\n      isStack: true,\n      seriesField: 'type',\n      groupField: 'name',\n    });\n\n    column.render();\n  });\n",title:{zh:"堆叠分组柱状图",en:"Stacked grouped column plot"},filename:"stacked2.ts",isNew:!1},{id:"dodge-padding",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/VL8xZlzwm5/2d96f1be-83c6-47c8-8a02-6023ecdbe035.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/iPY8JFnxdb/dodge-padding.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      isGroup: true,\n      xField: '月份',\n      yField: '月均降雨量',\n      seriesField: 'name',\n      // 分组柱状图 组内柱子间的间距 (像素级别)\n      dodgePadding: 2,\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'middle', 'bottom'\n        // 可配置附加的布局方法\n        layout: [\n          // 柱形图数据标签位置自动调整\n          { type: 'interval-adjust-position' },\n          // 数据标签防遮挡\n          { type: 'interval-hide-overlap' },\n          // 数据标签文颜色自动调整\n          { type: 'adjust-color' },\n        ],\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"分组柱状图像素级组内柱子间距",en:"DodgePadding of grouped column plot"},filename:"dodge-padding.ts",isNew:!1},{id:"interval-padding",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/lRokVhHkrr/61d333f8-9d15-4327-b70f-8e026453cf70.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/iPY8JFnxdb/dodge-padding.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      isGroup: true,\n      xField: '月份',\n      yField: '月均降雨量',\n      seriesField: 'name',\n      // 分组柱状图 组内柱子间的间距 (像素级别)\n      dodgePadding: 2,\n      // 分组柱状图 组间的间距 (像素级别)\n      intervalPadding: 20,\n      label: {\n        // 可手动配置 label 数据标签位置\n        position: 'middle', // 'top', 'middle', 'bottom'\n        // 可配置附加的布局方法\n        layout: [\n          // 柱形图数据标签位置自动调整\n          { type: 'interval-adjust-position' },\n          // 数据标签防遮挡\n          { type: 'interval-hide-overlap' },\n          // 数据标签文颜色自动调整\n          { type: 'adjust-color' },\n        ],\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"分组柱状图像素级组间间距",en:"IntervalPadding of grouped column plot"},filename:"interval-padding.ts",isNew:!1},{id:"rc-tooltip",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/djrdqmlrYh/rc-tooltip.png",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Column } from '@antv/g2plot';\nimport { get } from '@antv/util';\nimport { Tooltip } from 'rc-for-plots';\n\nconst Plot = () => {\n  const $container = React.useRef();\n  const $plot = React.useRef();\n  let $tooltipId;\n  const [data, changeData] = React.useState([]);\n\n  React.useEffect(() => {\n    // 建议使用 uniqueId\n    $tooltipId = `tooltip${Math.random()}`;\n    const div = document.createElement('div');\n    div.id = $tooltipId;\n    document.body.appendChild(div);\n\n    return () => {\n      document.body.removeChild(div);\n    };\n  }, []);\n\n  // 初始化加载，fetch 数据\n  React.useEffect(() => {\n    fetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n      .then((data) => data.json())\n      .then((data) => {\n        changeData(data);\n      });\n  }, []);\n\n  const options = React.useMemo(() => {\n    const seriesField = 'type';\n    const yField = 'value';\n\n    return {\n      data: [],\n      isGroup: true,\n      xField: 'city',\n      yField,\n      seriesField: 'type',\n      tooltip: {\n        // 使用该方式，无法设置 enterable. 若有的话，可以考虑监听 tooltip show/hide/change 事件，进行展示\n        customContent: (title, items) => {\n          let container = document.getElementById($tooltipId);\n          if (!container) {\n            container = document.createElement('div');\n            container.id = $tooltipId;\n          }\n          const plotBox = $container.current?.getBoundingClientRect();\n          if (items.length && plotBox) {\n            const position = { x: items[0].x, y: items[0].y };\n            const total = items.reduce((sum, d) => sum + (d.data[yField] || null), 0);\n            const portal = ReactDOM.createPortal(\n              // 可以使用自定义的 react tooltip 组件\n              <Tooltip\n                x={position.x + plotBox.x}\n                y={position.y + plotBox.y - 36}\n                header={false}\n                details={\n                  <Tooltip.Detail\n                    data={[\n                      { label: '城市', value: title },\n                      ...items.map((item) => ({\n                        label: get(item, ['data', seriesField]),\n                        value: get(item, ['data', yField]),\n                      })),\n                    ]}\n                  />\n                }\n                footer={<Tooltip.Footer tip={`总计: ${total}`} />}\n              />,\n              container\n            );\n            ReactDOM.render(portal, container);\n          }\n\n          return container;\n        },\n      },\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!$container?.current) return;\n    const newOptions = { ...options, data };\n    if (!$plot?.current) {\n      $plot.current = new Column($container.current, newOptions);\n      $plot.current.render();\n    } else {\n      $plot.current.update(newOptions);\n    }\n  }, [options]);\n\n  React.useEffect(() => {\n    if ($plot?.current) {\n      $plot.current.changeData(data);\n    }\n  }, [data]);\n\n  return <div ref={$container} />;\n};\n\nReactDOM.render(<Plot />, document.getElementById('container'));\n",title:{zh:"自定义 react tooltip",en:"Customize React Tooltip"},filename:"rc-tooltip.jsx",isNew:!1}],icon:"",id:"grouped",title:{en:"Grouped Column",zh:"分组柱状图"},childrenKey:"demos",order:3},{demos:[],icon:"",id:"scenario",title:{en:"Scenario Column",zh:"场景柱状图"},childrenKey:"demos",order:3},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*fFEqTrpsNQQAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  {\n    country: 'Asia',\n    year: '1750',\n    value: 502,\n  },\n  {\n    country: 'Asia',\n    year: '1800',\n    value: 635,\n  },\n  {\n    country: 'Asia',\n    year: '1850',\n    value: 809,\n  },\n  {\n    country: 'Asia',\n    year: '1900',\n    value: 947,\n  },\n  {\n    country: 'Asia',\n    year: '1950',\n    value: 1402,\n  },\n  {\n    country: 'Asia',\n    year: '1999',\n    value: 3634,\n  },\n  {\n    country: 'Asia',\n    year: '2050',\n    value: 5268,\n  },\n  {\n    country: 'Africa',\n    year: '1750',\n    value: 106,\n  },\n  {\n    country: 'Africa',\n    year: '1800',\n    value: 107,\n  },\n  {\n    country: 'Africa',\n    year: '1850',\n    value: 111,\n  },\n  {\n    country: 'Africa',\n    year: '1900',\n    value: 133,\n  },\n  {\n    country: 'Africa',\n    year: '1950',\n    value: 221,\n  },\n  {\n    country: 'Africa',\n    year: '1999',\n    value: 767,\n  },\n  {\n    country: 'Africa',\n    year: '2050',\n    value: 1766,\n  },\n  {\n    country: 'Europe',\n    year: '1750',\n    value: 163,\n  },\n  {\n    country: 'Europe',\n    year: '1800',\n    value: 203,\n  },\n  {\n    country: 'Europe',\n    year: '1850',\n    value: 276,\n  },\n  {\n    country: 'Europe',\n    year: '1900',\n    value: 408,\n  },\n  {\n    country: 'Europe',\n    year: '1950',\n    value: 547,\n  },\n  {\n    country: 'Europe',\n    year: '1999',\n    value: 729,\n  },\n  {\n    country: 'Europe',\n    year: '2050',\n    value: 628,\n  },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'year',\n  yField: 'value',\n  seriesField: 'country',\n  isPercent: true,\n  isStack: true,\n  label: {\n    position: 'middle',\n    content: (item) => {\n      return item.value.toFixed(2);\n    },\n    style: {\n      fill: '#fff',\n    },\n  },\n});\n\ncolumnPlot.render();\n",title:{zh:"百分比柱状图",en:"Percent Column plot"},filename:"basic.ts",isNew:!1},{id:"interaction",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*mzUITqjjyBIAAAAAAAAAAAAAARQnAQ",source:"import { Column, G2 } from '@antv/g2plot';\n\nG2.registerInteraction('element-link', {\n  start: [{ trigger: 'interval:mouseenter', action: 'element-link-by-color:link' }],\n  end: [{ trigger: 'interval:mouseleave', action: 'element-link-by-color:unlink' }],\n});\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/jSRiL%26YNql/percent-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const columnPlot = new Column('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      isPercent: true,\n      isStack: true,\n      meta: {\n        value: {\n          min: 0,\n          max: 1,\n        },\n      },\n      label: {\n        position: 'middle',\n        content: (item) => {\n          return `${(item.value * 100).toFixed(2)}%`;\n        },\n        style: {\n          fill: '#fff',\n        },\n      },\n      tooltip: false,\n      interactions: [{ type: 'element-highlight-by-color' }, { type: 'element-link' }],\n    });\n\n    columnPlot.render();\n  });\n",title:{zh:"带联动区域的百分比柱状图",en:"Percent Column plot with interaction"},filename:"interaction.ts",isNew:!1}],icon:"",id:"percent",title:{en:"Percent Column",zh:"百分比柱状图"},childrenKey:"demos",order:4},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Il5JQZkHxiIAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', values: [76, 100] },\n  { type: '分类二', values: [56, 108] },\n  { type: '分类三', values: [38, 129] },\n  { type: '分类四', values: [58, 155] },\n  { type: '分类五', values: [45, 120] },\n  { type: '分类六', values: [23, 99] },\n  { type: '分类七', values: [18, 56] },\n  { type: '分类八', values: [18, 34] },\n];\n\nconst barPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'values',\n  isRange: true,\n  label: {\n    position: 'middle',\n    layout: [{ type: 'adjust-color' }],\n  },\n});\n\nbarPlot.render();\n",title:{zh:"区间柱状图",en:"Range column plot"},filename:"basic.ts",isNew:!1}],icon:"",id:"range",title:{en:"Range column",zh:"区间柱状图"},childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"bar",title:{zh:"条形图",en:"Bar"},icon:"bar",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/rWp4Sq5ofk/10256978-7f35-4a4c-b67c-39aaad269bc2.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { year: '1951 年', value: 38 },\n  { year: '1952 年', value: 52 },\n  { year: '1956 年', value: 61 },\n  { year: '1957 年', value: 145 },\n  { year: '1958 年', value: 48 },\n];\n\nconst bar = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'year',\n  legend: {\n    position: 'top-left',\n  },\n});\n\nbar.render();\n",title:{zh:"基础条形图",en:"Basic bar plot"},filename:"basic.ts",isNew:!1},{id:"coordinate",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/l41r3at5bs/becb13e0-3dc7-41e2-9458-651f6da6cdc3.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { year: '1951 年', value: 38 },\n  { year: '1952 年', value: 52 },\n  { year: '1956 年', value: 61 },\n  { year: '1957 年', value: 145 },\n  { year: '1958 年', value: 48 },\n];\n\nconst bar = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'year',\n  legend: {\n    position: 'top-left',\n  },\n  coordinate: [{ type: 'reflectX' }, { type: 'reflectY' }],\n});\n\nbar.render();\n",title:{zh:"条形图设置坐标转换",en:"Bar plot with coordinate transformations"},filename:"coordinate.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/Gkgl6eYL%26g/e34c6f77-d32b-408b-ae4d-d8bc07074fc5.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst barPlot = new Bar('container', {\n  data,\n  xField: 'sales',\n  yField: 'type',\n  seriesField: 'type',\n  color: ({ type }) => {\n    return type === '美容洗护' ? '#FAAD14' : '#5B8FF9';\n  },\n  legend: false,\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n});\n\nbarPlot.render();\n",title:{zh:"自定义条形图颜色",en:"Bar plot color"},filename:"color.ts",isNew:!1},{id:"width-ratio",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%24MveD8UKQW/ddcd45c9-7bbb-4f4e-b290-c225996e687a.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst barPlot = new Bar('container', {\n  data,\n  xField: 'sales',\n  yField: 'type',\n  barWidthRatio: 0.8,\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n});\n\nbarPlot.render();\n",title:{zh:"指定条形图宽度比例",en:"Bar plot column width"},filename:"width-ratio.ts",isNew:!1},{id:"width",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/9SlsILDGRX/4f0f9f55-e48d-4348-9193-366326e6514d.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    type: '家具家电',\n    sales: 38,\n  },\n  {\n    type: '粮油副食',\n    sales: 52,\n  },\n  {\n    type: '生鲜水果',\n    sales: 61,\n  },\n  {\n    type: '美容洗护',\n    sales: 145,\n  },\n  {\n    type: '母婴用品',\n    sales: 48,\n  },\n  {\n    type: '进口食品',\n    sales: 38,\n  },\n  {\n    type: '食品饮料',\n    sales: 38,\n  },\n  {\n    type: '家庭清洁',\n    sales: 38,\n  },\n];\n\nconst barPlot = new Bar('container', {\n  data,\n  xField: 'sales',\n  yField: 'type',\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    sales: {\n      alias: '销售额',\n    },\n  },\n  minBarWidth: 20,\n  maxBarWidth: 20,\n});\n\nbarPlot.render();\n",title:{zh:"指定条形图最小最大宽度",en:"Bar plot with customize width"},filename:"width.ts",isNew:!1},{id:"shape",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/ZTl%26D3SI7D/fa6b9790-658e-4d7e-982e-57d9db8a12b8.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { year: '1951 年', value: 38 },\n  { year: '1952 年', value: 52 },\n  { year: '1956 年', value: 61 },\n  { year: '1957 年', value: 145 },\n  { year: '1958 年', value: 48 },\n];\n\nconst bar = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'year',\n  legend: {\n    position: 'top-left',\n  },\n  // 自定义 shape\n  shape: 'hollow-rect',\n});\n\nbar.render();\n",title:{zh:"自定义条形图 shape",en:"Csutomize shape of bar plot"},filename:"shape.ts",isNew:!1},{id:"scrollbar",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/asCTjytOVw/6f871384-bba2-4fd6-97ba-7f741e51af7b.png",source:"import { Bar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/be63e0a2-d2be-4c45-97fd-c00f752a66d4.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const column = new Bar('container', {\n      data,\n      yField: '城市',\n      xField: '销售额',\n      yAxis: {\n        label: {\n          autoRotate: false,\n        },\n      },\n      scrollbar: {\n        type: 'vertical',\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"带滚动条的条形图",en:"Bar chart with scrollbar"},filename:"scrollbar.ts",isNew:!1},{id:"conversion-tag",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KhabP6L2tr/cf602236-7932-4ef7-b3d6-d98a219c798e.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { action: '浏览网站', pv: 50000 },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000 },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8500 },\n];\n\nconst barPlot = new Bar('container', {\n  data,\n  xField: 'pv',\n  yField: 'action',\n  conversionTag: {},\n});\n\nbarPlot.render();\n",title:{zh:"带转化率条形图",en:"Bar plot conversion tag"},filename:"conversion-tag.ts",isNew:!1},{id:"bar-background",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/t6ut5YQMPB/bar-background.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { type: '家具家电', sales: 38 },\n  { type: '粮油副食', sales: 52 },\n  { type: '生鲜水果', sales: 61 },\n  { type: '美容洗护', sales: 145 },\n  { type: '母婴用品', sales: 48 },\n  { type: '进口食品', sales: 38 },\n  { type: '食品饮料', sales: 38 },\n  { type: '家庭清洁', sales: 38 },\n];\n\nconst bar = new Bar('container', {\n  data,\n  xField: 'sales',\n  yField: 'type',\n  legend: {\n    position: 'top-left',\n  },\n  barBackground: {\n    style: {\n      fill: 'rgba(0,0,0,0.1)',\n    },\n  },\n  interactions: [{ type: 'active-region', enable: false }],\n});\n\nbar.render();\n",title:{zh:"设置条形图背景色",en:"Bar plot with backgorund"},filename:"bar-background.ts",isNew:!1},{id:"dynamic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%24MveD8UKQW/ddcd45c9-7bbb-4f4e-b290-c225996e687a.png",source:"import { Bar, G2 } from '@antv/g2plot';\n\n// 背景动效的时间 ms\nconst BLINK_TIME = 1600;\n// 动效间隔时间 ms\nconst BLIANK_INTERVAL_TIME = 400;\n// 动效贝塞尔曲线 缓动缓动缓动缓动缓动缓动\nconst BLINK_BEZIER = 'cubic-bezier(0.65,0,1,1)';\n// 动效宽度 px\nconst BLINK_WIDTH = 64;\n// 颜色\nconst blinkFill = `l(0) 0:rgba(255,255,255,0) .5:rgba(255,255,255,0.24) 1:rgba(255,255,255,0)`;\n\n// 初始 动画时间 ms\nconst APPEAR_TIME = 200;\n\n// 动效缓动规则\nconst BLIANK_EASING = 'easeLinear';\n\n// 更新 每次动画时间 ms\nconst UPDATE_TIME = 800;\n\n// 数据更新间隔时间 ms\nconst DATA_UPDATE = 3000;\n\nfunction threeBezier(t, cp1, cp2) {\n  const [x1, y1] = [0, 0];\n  const [x2, y2] = [1, 1];\n  const [cx1, cy1] = cp1;\n  const [cx2, cy2] = cp2;\n  const x =\n    x1 * (1 - t) * (1 - t) * (1 - t) + 3 * cx1 * t * (1 - t) * (1 - t) + 3 * cx2 * t * t * (1 - t) + x2 * t * t * t;\n  const y =\n    y1 * (1 - t) * (1 - t) * (1 - t) + 3 * cy1 * t * (1 - t) * (1 - t) + 3 * cy2 * t * t * (1 - t) + y2 * t * t * t;\n  return [x, y];\n}\n\nfunction getBezier(BezierString) {\n  const p1 = [];\n  const p2 = [];\n  BezierString.replace(/(\\d|\\.)+/g, (v) => {\n    p1.length == 2 ? p2.push(Number(v)) : p1.push(Number(v));\n  });\n  return [p1, p2];\n}\n\nG2.registerAnimation('label-appear', (element, animateCfg, cfg) => {\n  const label = element.getChildren()[0];\n  const coordinate = cfg.coordinate;\n  const startX = coordinate.start.x;\n  const finalX = label.attr('x');\n  const labelContent = label.attr('text');\n\n  label.attr('x', startX);\n  label.attr('text', 0);\n\n  const distance = finalX - startX;\n  label.animate((ratio) => {\n    const position = startX + distance * ratio;\n    const text = (labelContent * ratio).toFixed(0);\n\n    return {\n      x: position,\n      text,\n    };\n  }, animateCfg);\n});\n\nG2.registerAnimation('label-update', (element, animateCfg, cfg) => {\n  const startX = element.attr('x');\n  // @ts-ignore\n  const finalX = cfg.toAttrs.x;\n  const labelContent = element.attr('text');\n  // @ts-ignore\n  const finalContent = cfg.toAttrs.text;\n\n  const distanceX = finalX - startX;\n  const numberDiff = +finalContent - +labelContent;\n\n  element.animate(\n    (ratio) => {\n      const positionX = startX + distanceX * ratio;\n      const text = (+labelContent + numberDiff * ratio).toFixed(0);\n      return {\n        x: positionX,\n        text,\n      };\n    },\n    {\n      ...animateCfg,\n      duration: UPDATE_TIME,\n    }\n  );\n});\n\nG2.registerAnimation('element-update', (element, animateCfg, cfg) => {\n  if (element.cfg.name !== 'interval') return;\n  const nowPath = element.attr('path');\n  const toPath = cfg.toAttrs.path;\n  const toWidth = toPath[1][1] - nowPath[1][1];\n\n  const path = toPath;\n  // 宽度更新\n  element.animate((ratio) => {\n    // 当前变化的宽度\n    const changeWidth = ratio * toWidth;\n    path[1][1] = nowPath[1][1] + changeWidth;\n    path[2][1] = nowPath[2][1] + changeWidth;\n\n    return {\n      path,\n    };\n  }, animateCfg);\n});\n\nfunction getRectPath(points, isClosed = true) {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  // 对于 shape=\"line\" path 不应该闭合，否则会造成 lineCap 绘图属性失效\n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n  }\n  return path;\n}\n\nconst [p1, p2] = getBezier(BLINK_BEZIER);\n\nfunction blinkShapeAnimate(shape, delay) {\n  shape.animate(\n    (radio) => {\n      const blinkRadio = threeBezier(radio, p1, p2)[1];\n\n      const path = shape.getParent().findAllByName('interval')[0].attr('path');\n      const toWidth = path[1][1] - path[0][1] + BLINK_WIDTH;\n\n      const width = toWidth * blinkRadio;\n      const x = path[0][1];\n\n      return {\n        width: blinkRadio === 1 ? 0 : Math.min(width, BLINK_WIDTH),\n        x: width <= BLINK_WIDTH ? x : x + width - BLINK_WIDTH,\n      };\n    },\n    {\n      delay,\n      duration: BLINK_TIME,\n      callback: () => {\n        blinkShapeAnimate(shape, BLIANK_INTERVAL_TIME);\n      },\n    }\n  );\n}\n\nG2.registerShape('interval', 'blink-interval', {\n  draw(cfg, container) {\n    const group = container.addGroup();\n\n    const path = this.parsePath(getRectPath(cfg.points));\n    const { color, style = {}, defaultStyle } = cfg;\n    const height = path[2][2] - path[1][2];\n    const x = path[0][1];\n    const y = path[0][2];\n    const fillColor = color || style.fill || defaultStyle.fill;\n    group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        fill: fillColor,\n        x,\n        y,\n      },\n      name: 'interval',\n    });\n\n    const blinkShape = group.addShape('rect', {\n      attrs: {\n        x,\n        y,\n        width: 0,\n        height,\n        // ✅ 主色到 30% 透明的白色渐变\n        fill: blinkFill,\n      },\n      name: `blink-interval-${cfg.data.animateKey}`,\n    });\n\n    blinkShapeAnimate(blinkShape, 0);\n\n    return group;\n  },\n});\n\nlet year = 1981;\n\nlet data = [\n  { year: `${year}年`, value: 266, type: 'type1' },\n  { year: `${year}年`, value: 252, type: 'type2' },\n  { year: `${year}年`, value: 161, type: 'type3' },\n  { year: `${year}年`, value: 100, type: 'type4' },\n  { year: `${year}年`, value: 90, type: 'type5' },\n  { year: `${year}年`, value: 88, type: 'type6' },\n  { year: `${year}年`, value: 10, type: 'type7' },\n  { year: `${year}年`, value: 5, type: 'type8' },\n  { year: `${year}年`, value: 0, type: 'type9' },\n  { year: `${year}年`, value: 0, type: 'type10' },\n];\n\nfunction processData(data, yField) {\n  return data.map((item) => ({\n    animateKey: item[yField],\n    ...item,\n  }));\n}\n\nconst newData = processData(data, 'type');\n\nconst bar = new Bar('container', {\n  data: newData,\n  xField: 'value',\n  yField: 'type',\n  padding: [10, 40, 30, 50],\n  legend: false,\n  label: {\n    position: 'right',\n    animate: {\n      appear: {\n        animation: 'label-appear',\n        delay: 0,\n        duration: APPEAR_TIME,\n        easing: BLIANK_EASING,\n      },\n      update: {\n        animation: 'label-update',\n        duration: UPDATE_TIME,\n        easing: BLIANK_EASING,\n      },\n    },\n  },\n  shape: 'blink-interval',\n  yAxis: {\n    nice: false,\n  },\n  barStyle: {\n    fillOpacity: 0.9,\n  },\n  animation: {\n    appear: {\n      duration: APPEAR_TIME,\n      easing: BLIANK_EASING,\n    },\n    update: {\n      animation: 'element-update',\n      duration: UPDATE_TIME,\n      easing: BLIANK_EASING,\n    },\n  },\n});\n\nbar.render();\n\nfunction updateData() {\n  year++;\n  data = data.map(({ type, value }) => ({\n    type,\n    year: `${year}年`,\n    value: value + Math.floor(Math.random() * 50),\n  }));\n\n  setTimeout(() => {\n    bar.changeData(processData(data, 'type'));\n\n    if (year !== 2003) {\n      updateData();\n    }\n  }, DATA_UPDATE);\n}\n\nupdateData();\n",title:{zh:"动态条形图",en:"Dynamic Bar"},filename:"dynamic.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Basic Bar",zh:"基础条形图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*BHyQS6T_qucAAAAAAAAAAAAAARQnAQ",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    year: '1991',\n    value: 3,\n    type: 'Lon',\n  },\n  {\n    year: '1992',\n    value: 4,\n    type: 'Lon',\n  },\n  {\n    year: '1993',\n    value: 3.5,\n    type: 'Lon',\n  },\n  {\n    year: '1994',\n    value: 5,\n    type: 'Lon',\n  },\n  {\n    year: '1995',\n    value: 4.9,\n    type: 'Lon',\n  },\n  {\n    year: '1996',\n    value: 6,\n    type: 'Lon',\n  },\n  {\n    year: '1997',\n    value: 7,\n    type: 'Lon',\n  },\n  {\n    year: '1998',\n    value: 9,\n    type: 'Lon',\n  },\n  {\n    year: '1999',\n    value: 13,\n    type: 'Lon',\n  },\n  {\n    year: '1991',\n    value: 3,\n    type: 'Bor',\n  },\n  {\n    year: '1992',\n    value: 4,\n    type: 'Bor',\n  },\n  {\n    year: '1993',\n    value: 3.5,\n    type: 'Bor',\n  },\n  {\n    year: '1994',\n    value: 5,\n    type: 'Bor',\n  },\n  {\n    year: '1995',\n    value: 4.9,\n    type: 'Bor',\n  },\n  {\n    year: '1996',\n    value: 6,\n    type: 'Bor',\n  },\n  {\n    year: '1997',\n    value: 7,\n    type: 'Bor',\n  },\n  {\n    year: '1998',\n    value: 9,\n    type: 'Bor',\n  },\n  {\n    year: '1999',\n    value: 13,\n    type: 'Bor',\n  },\n];\n\nconst stackedBarPlot = new Bar('container', {\n  data: data.reverse(),\n  isStack: true,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'type',\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'left', 'middle', 'right'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n});\n\nstackedBarPlot.render();\n",title:{zh:"堆叠条形图",en:"Stacked bar plot"},filename:"basic.ts",isNew:!1}],icon:"",id:"stacked",title:{en:"Stacked Bar",zh:"堆叠条形图"},childrenKey:"demos",order:1},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/dfnmnp5KDb/4c47dfc9-534c-42b5-b25b-12219c854e0f.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    label: 'Mon.',\n    type: 'series1',\n    value: 2800,\n  },\n  {\n    label: 'Mon.',\n    type: 'series2',\n    value: 2260,\n  },\n  {\n    label: 'Tues.',\n    type: 'series1',\n    value: 1800,\n  },\n  {\n    label: 'Tues.',\n    type: 'series2',\n    value: 1300,\n  },\n  {\n    label: 'Wed.',\n    type: 'series1',\n    value: 950,\n  },\n  {\n    label: 'Wed.',\n    type: 'series2',\n    value: 900,\n  },\n  {\n    label: 'Thur.',\n    type: 'series1',\n    value: 500,\n  },\n  {\n    label: 'Thur.',\n    type: 'series2',\n    value: 390,\n  },\n  {\n    label: 'Fri.',\n    type: 'series1',\n    value: 170,\n  },\n  {\n    label: 'Fri.',\n    type: 'series2',\n    value: 100,\n  },\n];\n\nconst stackedBarPlot = new Bar('container', {\n  data,\n  isGroup: true,\n  xField: 'value',\n  yField: 'label',\n  /** 自定义颜色 */\n  // color: ['#1383ab', '#c52125'],\n  seriesField: 'type',\n  marginRatio: 0,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'left', 'middle', 'right'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n});\n\nstackedBarPlot.render();\n",title:{zh:"分组条形图",en:"Grouped bar plot"},filename:"basic.ts",isNew:!1},{id:"corner-radius",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/vFQNz1dCaD/21d77486-a9a3-4287-bc49-24fc40ad4800.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    label: 'Mon.',\n    type: 'series1',\n    value: 2800,\n  },\n  {\n    label: 'Mon.',\n    type: 'series2',\n    value: 2260,\n  },\n  {\n    label: 'Tues.',\n    type: 'series1',\n    value: 1800,\n  },\n  {\n    label: 'Tues.',\n    type: 'series2',\n    value: 1300,\n  },\n  {\n    label: 'Wed.',\n    type: 'series1',\n    value: 950,\n  },\n  {\n    label: 'Wed.',\n    type: 'series2',\n    value: 900,\n  },\n  {\n    label: 'Thur.',\n    type: 'series1',\n    value: 500,\n  },\n  {\n    label: 'Thur.',\n    type: 'series2',\n    value: 390,\n  },\n  {\n    label: 'Fri.',\n    type: 'series1',\n    value: 170,\n  },\n  {\n    label: 'Fri.',\n    type: 'series2',\n    value: 100,\n  },\n];\n\nconst stackedBarPlot = new Bar('container', {\n  data,\n  isGroup: true,\n  xField: 'value',\n  yField: 'label',\n  seriesField: 'type',\n  marginRatio: 0,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'right', // 'left', 'middle', 'right'\n    offset: 4,\n  },\n  barStyle: { radius: [2, 2, 0, 0] },\n});\n\nstackedBarPlot.render();\n",title:{zh:"圆角条形图",en:"Bar plot with corner-radius"},filename:"corner-radius.ts",isNew:!1},{id:"dodge-padding",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/pb4RmT767Q/953ed207-ec9b-4d0b-8f19-dadd7e016610.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    label: 'Mon.',\n    type: 'series1',\n    value: 2800,\n  },\n  {\n    label: 'Mon.',\n    type: 'series2',\n    value: 2260,\n  },\n  {\n    label: 'Tues.',\n    type: 'series1',\n    value: 1800,\n  },\n  {\n    label: 'Tues.',\n    type: 'series2',\n    value: 1300,\n  },\n  {\n    label: 'Wed.',\n    type: 'series1',\n    value: 950,\n  },\n  {\n    label: 'Wed.',\n    type: 'series2',\n    value: 900,\n  },\n  {\n    label: 'Thur.',\n    type: 'series1',\n    value: 500,\n  },\n  {\n    label: 'Thur.',\n    type: 'series2',\n    value: 390,\n  },\n  {\n    label: 'Fri.',\n    type: 'series1',\n    value: 170,\n  },\n  {\n    label: 'Fri.',\n    type: 'series2',\n    value: 100,\n  },\n];\n\nconst stackedBarPlot = new Bar('container', {\n  data,\n  isGroup: true,\n  xField: 'value',\n  yField: 'label',\n  seriesField: 'type',\n  dodgePadding: 4,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'left', 'middle', 'right'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n});\n\nstackedBarPlot.render();\n",title:{zh:"分组条形图像素级组内柱子间距",en:"DodgePadding of grouped bar plot"},filename:"dodge-padding.ts",isNew:!1},{id:"interval-padding",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%24aj8gaJ%267H/8d4e1840-3aa0-44af-bae4-6f6aa4de47e0.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    label: 'Mon.',\n    type: 'series1',\n    value: 2800,\n  },\n  {\n    label: 'Mon.',\n    type: 'series2',\n    value: 2260,\n  },\n  {\n    label: 'Tues.',\n    type: 'series1',\n    value: 1800,\n  },\n  {\n    label: 'Tues.',\n    type: 'series2',\n    value: 1300,\n  },\n  {\n    label: 'Wed.',\n    type: 'series1',\n    value: 950,\n  },\n  {\n    label: 'Wed.',\n    type: 'series2',\n    value: 900,\n  },\n  {\n    label: 'Thur.',\n    type: 'series1',\n    value: 500,\n  },\n  {\n    label: 'Thur.',\n    type: 'series2',\n    value: 390,\n  },\n  {\n    label: 'Fri.',\n    type: 'series1',\n    value: 170,\n  },\n  {\n    label: 'Fri.',\n    type: 'series2',\n    value: 100,\n  },\n];\n\nconst stackedBarPlot = new Bar('container', {\n  data,\n  isGroup: true,\n  xField: 'value',\n  yField: 'label',\n  seriesField: 'type',\n  dodgePadding: 4,\n  intervalPadding: 20,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'left', 'middle', 'right'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n});\n\nstackedBarPlot.render();\n",title:{zh:"分组条形图像素级组间间距",en:"IntervalPadding of grouped bar plot"},filename:"interval-padding.ts",isNew:!1}],icon:"",id:"grouped",title:{en:"Grouped Bar",zh:"分组条形图"},childrenKey:"demos",order:3},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*l8JuSrkrOIkAAAAAAAAAAAAAARQnAQ",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  {\n    country: 'Asia',\n    year: '1750',\n    value: 502,\n  },\n  {\n    country: 'Asia',\n    year: '1800',\n    value: 635,\n  },\n  {\n    country: 'Asia',\n    year: '1850',\n    value: 809,\n  },\n  {\n    country: 'Asia',\n    year: '1900',\n    value: 947,\n  },\n  {\n    country: 'Asia',\n    year: '1950',\n    value: 1402,\n  },\n  {\n    country: 'Asia',\n    year: '1999',\n    value: 3634,\n  },\n  {\n    country: 'Asia',\n    year: '2050',\n    value: 5268,\n  },\n  {\n    country: 'Africa',\n    year: '1750',\n    value: 106,\n  },\n  {\n    country: 'Africa',\n    year: '1800',\n    value: 107,\n  },\n  {\n    country: 'Africa',\n    year: '1850',\n    value: 111,\n  },\n  {\n    country: 'Africa',\n    year: '1900',\n    value: 133,\n  },\n  {\n    country: 'Africa',\n    year: '1950',\n    value: 221,\n  },\n  {\n    country: 'Africa',\n    year: '1999',\n    value: 767,\n  },\n  {\n    country: 'Africa',\n    year: '2050',\n    value: 1766,\n  },\n  {\n    country: 'Europe',\n    year: '1750',\n    value: 163,\n  },\n  {\n    country: 'Europe',\n    year: '1800',\n    value: 203,\n  },\n  {\n    country: 'Europe',\n    year: '1850',\n    value: 276,\n  },\n  {\n    country: 'Europe',\n    year: '1900',\n    value: 408,\n  },\n  {\n    country: 'Europe',\n    year: '1950',\n    value: 547,\n  },\n  {\n    country: 'Europe',\n    year: '1999',\n    value: 729,\n  },\n  {\n    country: 'Europe',\n    year: '2050',\n    value: 628,\n  },\n];\n\nconst barPlot = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'country',\n  isPercent: true,\n  isStack: true,\n  /** 自定义颜色 */\n  // color: ['#2582a1', '#f88c24', '#c52125', '#87f4d0'],\n  label: {\n    position: 'middle',\n    content: (item) => {\n      return item.value.toFixed(2);\n    },\n    style: {\n      fill: '#fff',\n    },\n  },\n});\n\nbarPlot.render();\n",title:{zh:"百分比条形图",en:"Percent bar plot"},filename:"basic.ts",isNew:!1}],icon:"",id:"percent",title:{en:"Percent Bar",zh:"百分比条形图"},childrenKey:"demos",order:4},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/N2boElBq2d/1b0ea416-5ad2-44cc-ae1a-f1efd06b8ad5.png",source:"import { Bar } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', values: [76, 100] },\n  { type: '分类二', values: [56, 108] },\n  { type: '分类三', values: [38, 129] },\n  { type: '分类四', values: [58, 155] },\n  { type: '分类五', values: [45, 120] },\n  { type: '分类六', values: [23, 99] },\n  { type: '分类七', values: [18, 56] },\n  { type: '分类八', values: [18, 34] },\n];\n\nconst barPlot = new Bar('container', {\n  data: data.reverse(),\n  xField: 'values',\n  yField: 'type',\n  isRange: true,\n  label: {\n    position: 'middle',\n    layout: [{ type: 'adjust-color' }],\n  },\n});\n\nbarPlot.render();\n",title:{zh:"区间条形图",en:"Range bar plot"},filename:"basic.ts",isNew:!1}],icon:"",id:"range",title:{en:"Range Bar",zh:"区间条形图"},childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"pie",title:{zh:"饼图",en:"Pie"},icon:"pie",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*wmldRZZj9lIAAAAAAAAAAABkARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.9,\n  label: {\n    type: 'inner',\n    offset: '-30%',\n    content: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n    style: {\n      fontSize: 14,\n      textAlign: 'center',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"饼图",en:"Basic pie plot"},filename:"basic.ts",isNew:!1},{id:"outer-label",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*ZztJQa4RLwoAAAAAAAAAAABkARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  label: {\n    type: 'outer',\n  },\n  interactions: [{ type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"饼图-外部图形标签",en:"Pie plot - outer label"},filename:"outer-label.ts",isNew:!1},{id:"spider-label",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*QyXPRK-URmUAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.75,\n  label: {\n    type: 'spider',\n    labelHeight: 28,\n    content: '{name}\\n{percentage}',\n  },\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"饼图-蜘蛛布局标签",en:"Pie plot - spider label"},filename:"spider-label.ts",isNew:!1},{id:"pie-custome-label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/2SfPlGTkFv/0d1d3e53-59f3-4ecb-a0ec-e0b9609e864c.png",source:"import { Pie, G2 } from '@antv/g2plot';\nconst G = G2.getEngine('canvas');\n\nconst data = [\n  { type: '分类一', value: 100 },\n  { type: '分类二', value: 200 },\n  { type: '分类三', value: 300 },\n  { type: '分类四', value: 100 },\n  { type: '分类五', value: 100 },\n  { type: '其他', value: 200 },\n];\n\nconst cfg = {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.75,\n  legend: false,\n  label: {\n    type: 'spider',\n    labelHeight: 40,\n    formatter: (data, mappingData) => {\n      const group = new G.Group({});\n      group.addShape({\n        type: 'circle',\n        attrs: {\n          x: 0,\n          y: 0,\n          width: 40,\n          height: 50,\n          r: 5,\n          fill: mappingData.color\n        },\n      });\n      group.addShape({\n        type: 'text',\n        attrs: {\n          x: 10,\n          y: 8,\n          text: `${data.type}`,\n          fill: mappingData.color,\n        },\n      });\n      group.addShape({\n        type: 'text',\n        attrs: {\n          x: 0,\n          y: 25,\n          text: `${data.value}个 ${data.percent * 100}%`,\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontWeight: 700,\n        },\n      });\n      return group;\n    },\n  },\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n}\nconst piePlot = new Pie('container', cfg);\npiePlot.render();\n",title:{en:"Pie plot - custome label",zh:"饼图-个性化标签"},filename:"pie-custome-label.ts",isNew:!1},{id:"quarter-circle",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/bzXrKEyk6T/f334d3fa-4494-41b7-9260-c469588555a6.png",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 1,\n  // 设置圆弧起始角度\n  startAngle: Math.PI,\n  endAngle: Math.PI * 1.5,\n  label: {\n    type: 'inner',\n    offset: '-8%',\n    content: '{name}',\n    style: { fontSize: 18 },\n  },\n  interactions: [{ type: 'element-active' }],\n  pieStyle: {\n    lineWidth: 0,\n  },\n});\n\npiePlot.render();\n",title:{zh:"四分之一圆",en:"Quarter circle pie"},filename:"quarter-circle.ts",isNew:!1},{id:"legend-interaction",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*xZtSQocP4kYAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  label: {\n    type: 'outer',\n    content: '{name} {percentage}',\n  },\n  interactions: [{ type: 'pie-legend-active' }, { type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"饼图-图例交互",en:"Pie interaction with legend action"},filename:"legend-interaction.ts",isNew:!1},{id:"pie-texture",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/SUQSZupP5X/c2076423-44ca-41d2-b8fa-a221b6a8fcf2.png",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { sex: '男', sold: 0.45 },\n  { sex: '女', sold: 0.55 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'sold',\n  colorField: 'sex',\n  radius: 0.8,\n  legend: false,\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    style: {\n      fill: '#fff',\n      fontSize: 18,\n      textAlign: 'center',\n    },\n  },\n  pieStyle: ({ sex }) => {\n    if (sex === '男') {\n      return {\n        fill: 'p(a)https://gw.alipayobjects.com/zos/antfincdn/FioHMFgIld/pie-wenli1.png',\n      };\n    }\n    return {\n      fill: 'p(a)https://gw.alipayobjects.com/zos/antfincdn/Ye2DqRx%2627/pie-wenli2.png',\n    };\n  },\n  tooltip: false,\n  interactions: [{ type: 'element-single-selected' }],\n});\n\npiePlot.render();\n",title:{en:"Pie plot fill with texture",zh:"带纹理的饼图"},filename:"pie-texture.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Pie",zh:"饼图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*65WIQK5T4c8AAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 1,\n  innerRadius: 0.6,\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    content: '{value}',\n    style: {\n      textAlign: 'center',\n      fontSize: 14,\n    },\n  },\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n  statistic: {\n    title: false,\n    content: {\n      style: {\n        whiteSpace: 'pre-wrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n      },\n      content: 'AntV\\nG2Plot',\n    },\n  },\n});\n\npiePlot.render();\n",title:{zh:"基础环图",en:"Basic donut plot"},filename:"basic.ts",isNew:!1},{id:"statistics",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*5f9ESplug4IAAAAAAAAAAAAAARQnAQ",source:"import { Pie, measureTextWidth } from '@antv/g2plot';\n\nfunction renderStatistic(containerWidth, text, style) {\n  const textWidth = measureTextWidth(text, style);\n  const textHeight = style.lineHeight || style.fontSize\n  const R = containerWidth / 2;\n  // r^2 = (w / 2)^2 + (h - offsetY)^2\n  let scale = 1;\n  if (containerWidth < textWidth) {\n    scale = Math.min(Math.sqrt(Math.abs(Math.pow(R, 2) / (Math.pow(textWidth / 2, 2) + Math.pow(textHeight, 2)))), 1);\n  }\n  const textStyleStr = `width:${containerWidth}px;`;\n  return `<div style=\"${textStyleStr};font-size:${scale}em;line-height:${scale < 1 ? 1 : 'inherit'};\">${text}</div>`;\n}\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 1,\n  innerRadius: 0.64,\n  meta: {\n    value: {\n      formatter: (v) => `${v} ¥`,\n    },\n  },\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    style: {\n      textAlign: 'center',\n    },\n    autoRotate: false,\n    content: '{value}',\n  },\n  statistic: {\n    title: {\n      offsetY: -4,\n      customHtml: (container, view, datum) => {\n        const { width, height } = container.getBoundingClientRect();\n        const d = Math.sqrt(Math.pow(width / 2, 2) + Math.pow(height / 2, 2));\n        const text = datum ? datum.type : '总计';\n        return renderStatistic(d, text, { fontSize: 28 });\n      },\n    },\n    content: {\n      offsetY: 4,\n      style: {\n        fontSize: '32px',\n      },\n      customHtml: (container, view, datum, data) => {\n        const { width } = container.getBoundingClientRect();\n\n        const text = datum ? `¥ ${datum.value}` : `¥ ${data.reduce((r, d) => r + d.value, 0)}`;\n        return renderStatistic(width, text, { fontSize: 32 });\n      },\n    },\n  },\n  // 添加 中心统计文本 交互\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }, { type: 'pie-statistic-active' }],\n});\n\npiePlot.render();\n",title:{zh:"环图统计指标卡",en:"Donut plot with statistics"},filename:"statistics.ts",isNew:!1}],icon:"",id:"donut",title:{en:"Donut",zh:"环图"},childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"dual-axes",title:{zh:"双轴图",en:"Dual Axes"},icon:"line",examples:[{demos:[{id:"dual-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*HS5DT4j34XEAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { year: '1991', value: 3, count: 10 },\n  { year: '1992', value: 4, count: 4 },\n  { year: '1993', value: 3.5, count: 5 },\n  { year: '1994', value: 5, count: 5 },\n  { year: '1995', value: 4.9, count: 4.9 },\n  { year: '1996', value: 6, count: 35 },\n  { year: '1997', value: 7, count: 7 },\n  { year: '1998', value: 9, count: 1 },\n  { year: '1999', value: 13, count: 20 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'year',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'line',\n      color: '#5B8FF9',\n    },\n    {\n      geometry: 'line',\n      color: '#5AD8A6',\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"双折线图",en:"Dual line"},filename:"dual-line.ts",isNew:!1},{id:"custom-dual-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*FtUXRLU3mUgAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { year: '1991', value: 3, count: 10 },\n  { year: '1992', value: 4, count: 4 },\n  { year: '1993', value: 3.5, count: 5 },\n  { year: '1994', value: 5, count: 5 },\n  { year: '1995', value: 4.9, count: 4.9 },\n  { year: '1996', value: 6, count: 35 },\n  { year: '1997', value: 7, count: 7 },\n  { year: '1998', value: 9, count: 1 },\n  { year: '1999', value: 13, count: 20 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'year',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'line',\n      smooth: false,\n      color: '#5B8FF9',\n      label: {\n        formatter: (datum) => {\n          return `${datum.value}个`;\n        },\n      },\n      lineStyle: {\n        lineWidth: 3,\n        lineDash: [5, 5],\n      },\n    },\n    {\n      geometry: 'line',\n      smooth: true,\n      color: '#5AD8A6',\n      lineStyle: {\n        lineWidth: 4,\n        opacity: 0.5,\n      },\n      label: {\n        formatter: (datum) => {\n          return `${datum.count}个`;\n        },\n      },\n      point: {\n        shape: 'circle',\n        size: 4,\n        style: {\n          opacity: 0.5,\n          stroke: '#5AD8A6',\n          fill: '#fff',\n        },\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"双折线图 - 自定义折线样式",en:"Dual line with style"},filename:"custom-dual-line.ts",isNew:!1},{id:"dual-step-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*5qvZTIy44UIAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { year: '1991', value: 3, count: 10 },\n  { year: '1992', value: 4, count: 4 },\n  { year: '1993', value: 3.5, count: 5 },\n  { year: '1994', value: 5, count: 5 },\n  { year: '1995', value: 4.9, count: 4.9 },\n  { year: '1996', value: 6, count: 35 },\n  { year: '1997', value: 7, count: 7 },\n  { year: '1998', value: 9, count: 1 },\n  { year: '1999', value: 13, count: 20 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'year',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'line',\n      smooth: false,\n      color: '#29cae4',\n      stepType: 'vh',\n    },\n    {\n      geometry: 'line',\n      color: '#586bce',\n      smooth: true,\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"双折线图 - 阶梯折线",en:"Dual Step Line"},filename:"dual-step-line.ts",isNew:!1},{id:"dual-multi-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*BzyZQapC7ucAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800, name: 'a' },\n  { time: '2019-04', count: 600, name: 'a' },\n  { time: '2019-05', count: 400, name: 'a' },\n  { time: '2019-06', count: 380, name: 'a' },\n  { time: '2019-07', count: 220, name: 'a' },\n  { time: '2019-03', count: 750, name: 'b' },\n  { time: '2019-04', count: 650, name: 'b' },\n  { time: '2019-05', count: 450, name: 'b' },\n  { time: '2019-06', count: 400, name: 'b' },\n  { time: '2019-07', count: 320, name: 'b' },\n  { time: '2019-03', count: 900, name: 'c' },\n  { time: '2019-04', count: 600, name: 'c' },\n  { time: '2019-05', count: 450, name: 'c' },\n  { time: '2019-06', count: 300, name: 'c' },\n  { time: '2019-07', count: 200, name: 'c' },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'line',\n      seriesField: 'type',\n      lineStyle: {\n        lineWidth: 3,\n        lineDash: [5, 5],\n      },\n      smooth: true,\n    },\n    {\n      geometry: 'line',\n      seriesField: 'name',\n      point: {},\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"双折线图 - 多折线",en:"Dual multi line"},filename:"dual-multi-line.ts",isNew:!1}],icon:"",id:"dual-line",title:{en:"Dual Line",zh:"双折线图"},childrenKey:"demos",order:0},{demos:[{id:"column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*M4ldTo75WeEAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2019-03', value: 350, count: 800 },\n  { time: '2019-04', value: 900, count: 600 },\n  { time: '2019-05', value: 300, count: 400 },\n  { time: '2019-06', value: 450, count: 380 },\n  { time: '2019-07', value: 470, count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n    },\n    {\n      geometry: 'line',\n      lineStyle: {\n        lineWidth: 2,\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表",en:"Column line"},filename:"column-line.ts",isNew:!1},{id:"custom-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*vTPGSLODwLEAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2019-03', value: 350, count: 800 },\n  { time: '2019-04', value: 900, count: 600 },\n  { time: '2019-05', value: 300, count: 400 },\n  { time: '2019-06', value: 450, count: 380 },\n  { time: '2019-07', value: 470, count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['value', 'count'],\n  yAxis: {\n    // 格式化左坐标轴\n    value: {\n      min: 0,\n      label: {\n        formatter: (val) => `${val}个`,\n      },\n    },\n    // 隐藏右坐标轴\n    count: false,\n  },\n  geometryOptions: [\n    {\n      geometry: 'column',\n      color: '#5B8FF9',\n      columnWidthRatio: 0.4,\n      label: {\n        position: 'middle',\n      },\n    },\n    {\n      geometry: 'line',\n      smooth: true,\n      color: '#5AD8A6',\n    },\n  ],\n  // 更改柱线交互，默认为 [{type: 'active-region'}]\n  interactions: [\n    {\n      type: 'element-highlight',\n    },\n    {\n      type: 'active-region',\n    },\n  ],\n  annotations: {\n    value: [\n      {\n        type: 'text',\n        position: ['2019-06', 'max'],\n        content: '柱线混合图',\n      },\n    ],\n    count: [\n      {\n        type: 'dataMarker',\n        top: true,\n        position: ['2019-05', 400],\n        line: {\n          length: 20,\n        },\n        text: {\n          content: '2019-05, 发布新版本',\n          style: {\n            textAlign: 'left',\n          },\n        },\n      },\n    ],\n  },\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表-自定义样式",en:"Custom column line"},filename:"custom-column-line.ts",isNew:!1},{id:"range-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*MEdZR5UQzosAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2019-03', value: [200, 350], count: 800 },\n  { time: '2019-04', value: [400, 650], count: 600 },\n  { time: '2019-05', value: [150, 350], count: 400 },\n  { time: '2019-06', value: [100, 450], count: 380 },\n  { time: '2019-07', value: [500, 550], count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      color: '#5B8FF9',\n      isRange: true,\n    },\n    {\n      geometry: 'line',\n      color: '#5AD8A6',\n      lineStyle: {\n        lineWidth: 2,\n        stroke: '#5AD8A6',\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表-区间柱",en:"range-column-line"},filename:"range-column-line.ts",isNew:!1},{id:"column-multi-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*FfmvR5_sLAEAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvData = [\n  { time: '2019-03', value: 35 },\n  { time: '2019-04', value: 90 },\n  { time: '2019-05', value: 30 },\n  { time: '2019-06', value: 45 },\n  { time: '2019-07', value: 47 },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800, name: 'a' },\n  { time: '2019-04', count: 600, name: 'a' },\n  { time: '2019-05', count: 400, name: 'a' },\n  { time: '2019-06', count: 380, name: 'a' },\n  { time: '2019-07', count: 220, name: 'a' },\n  { time: '2019-03', count: 750, name: 'b' },\n  { time: '2019-04', count: 650, name: 'b' },\n  { time: '2019-05', count: 450, name: 'b' },\n  { time: '2019-06', count: 400, name: 'b' },\n  { time: '2019-07', count: 320, name: 'b' },\n  { time: '2019-03', count: 900, name: 'c' },\n  { time: '2019-04', count: 600, name: 'c' },\n  { time: '2019-05', count: 450, name: 'c' },\n  { time: '2019-06', count: 300, name: 'c' },\n  { time: '2019-07', count: 200, name: 'c' },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      columnWidthRatio: 0.4,\n    },\n    {\n      geometry: 'line',\n      seriesField: 'name',\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表-显示多折线",en:"Column multi line"},filename:"column-multi-line.ts",isNew:!1},{id:"demo-more-1",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*_-QESLpPhPcAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2020-08-20', consumeTime: 10868, completeTime: 649.483 },\n  { time: '2020-08-21', consumeTime: 8786, completeTime: 1053.7 },\n  { time: '2020-08-22', consumeTime: 10824, completeTime: 679.817 },\n  { time: '2020-08-23', consumeTime: 7860, completeTime: 638.117 },\n  { time: '2020-08-24', consumeTime: 13253, completeTime: 843.3 },\n  { time: '2020-08-25', consumeTime: 17015, completeTime: 1092.983 },\n  { time: '2020-08-26', consumeTime: 19298, completeTime: 1036.317 },\n  { time: '2020-08-27', consumeTime: 13937, completeTime: 1031.9 },\n  { time: '2020-08-28', consumeTime: 11541, completeTime: 803.467 },\n  { time: '2020-08-29', consumeTime: 15244, completeTime: 830.733 },\n  { time: '2020-08-30', consumeTime: 14247, completeTime: 709.867 },\n  { time: '2020-08-31', consumeTime: 9402, completeTime: 665.233 },\n  { time: '2020-09-01', consumeTime: 10440, completeTime: 696.367 },\n  { time: '2020-09-02', consumeTime: 9345, completeTime: 692.867 },\n  { time: '2020-09-03', consumeTime: 18459, completeTime: 936.017 },\n  { time: '2020-09-04', consumeTime: 9763, completeTime: 782.867 },\n  { time: '2020-09-05', consumeTime: 11074, completeTime: 653.8 },\n  { time: '2020-09-06', consumeTime: 11770, completeTime: 856.683 },\n  { time: '2020-09-07', consumeTime: 12206, completeTime: 777.15 },\n  { time: '2020-09-08', consumeTime: 11434, completeTime: 773.283 },\n  { time: '2020-09-09', consumeTime: 16218, completeTime: 833.3 },\n  { time: '2020-09-10', consumeTime: 11914, completeTime: 793.517 },\n  { time: '2020-09-11', consumeTime: 16781, completeTime: 894.45 },\n  { time: '2020-09-12', consumeTime: 10555, completeTime: 725.55 },\n  { time: '2020-09-13', consumeTime: 10899, completeTime: 709.967 },\n  { time: '2020-09-14', consumeTime: 10713, completeTime: 787.6 },\n  { time: '2020-09-15', consumeTime: 0, completeTime: 644.183 },\n  { time: '2020-09-16', consumeTime: 0, completeTime: 1066.65 },\n  { time: '2020-09-17', consumeTime: 20357, completeTime: 932.45 },\n  { time: '2020-09-18', consumeTime: 10424, completeTime: 753.583 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['consumeTime', 'completeTime'],\n  meta: {\n    consumeTime: {\n      alias: '产出耗时',\n      formatter: (v) => {\n        return Number((v / 60).toFixed(2));\n      },\n    },\n    completeTime: {\n      alias: '完成时间',\n      formatter: (v) => {\n        return Number((v / 100).toFixed(1));\n      },\n    },\n  },\n  geometryOptions: [\n    {\n      geometry: 'column',\n      color: '#586bce',\n    },\n    {\n      geometry: 'line',\n      color: '#29cae4',\n    },\n  ],\n  xAxis: {\n    label: {\n      autoRotate: true,\n      autoHide: false,\n      autoEllipsis: false,\n    },\n    tickCount: data.length / 2,\n  },\n  yAxis: {\n    consumeTime: {\n      label: {\n        formatter: (v) => {\n          return `${v}分`;\n        },\n      },\n    },\n    completeTime: {\n      label: {\n        formatter: (v) => {\n          return `${v}`;\n        },\n      },\n    },\n  },\n  legend: {\n    itemName: {\n      formatter: (text, item) => {\n        return item.value === 'consumeTime' ? '产出耗时(分)' : '完成时间(分)';\n      },\n    },\n  },\n  annotations: {\n    consumeTime: [\n      {\n        type: 'line',\n        top: true,\n        start: ['2020-08-26', 'min'],\n        end: ['2020-08-26', 'max'],\n        text: {\n          content: '发布时间点',\n          position: 'end',\n          autoRotate: false,\n          style: {\n            textAlign: 'start',\n          },\n        },\n      },\n    ],\n    completeTime: [\n      {\n        type: 'line',\n        top: true,\n        start: ['min', 1000],\n        end: ['max', 1000],\n        style: {\n          lineWidth: 1,\n          lineDash: [3, 3],\n        },\n        text: {\n          content: '完成时间阈值(1000s)',\n          position: 'end',\n          style: {\n            textAlign: 'end',\n          },\n        },\n      },\n    ],\n  },\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表-更多示例",en:"Other column line"},filename:"demo-more-1.ts",isNew:!1},{id:"slider-column-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/fxukGXuXfg/89ea37e5-e00d-4424-b75e-1aba3ff8b633.png",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2020-08-20', consumeTime: 10868, completeTime: 649.483 },\n  { time: '2020-08-21', consumeTime: 8786, completeTime: 1053.7 },\n  { time: '2020-08-22', consumeTime: 10824, completeTime: 679.817 },\n  { time: '2020-08-23', consumeTime: 7860, completeTime: 638.117 },\n  { time: '2020-08-24', consumeTime: 13253, completeTime: 843.3 },\n  { time: '2020-08-25', consumeTime: 17015, completeTime: 1092.983 },\n  { time: '2020-08-26', consumeTime: 19298, completeTime: 1036.317 },\n  { time: '2020-08-27', consumeTime: 13937, completeTime: 1031.9 },\n  { time: '2020-08-28', consumeTime: 11541, completeTime: 803.467 },\n  { time: '2020-08-29', consumeTime: 15244, completeTime: 830.733 },\n  { time: '2020-08-30', consumeTime: 14247, completeTime: 709.867 },\n  { time: '2020-08-31', consumeTime: 9402, completeTime: 665.233 },\n  { time: '2020-09-01', consumeTime: 10440, completeTime: 696.367 },\n  { time: '2020-09-02', consumeTime: 9345, completeTime: 692.867 },\n  { time: '2020-09-03', consumeTime: 18459, completeTime: 936.017 },\n  { time: '2020-09-04', consumeTime: 9763, completeTime: 782.867 },\n  { time: '2020-09-05', consumeTime: 11074, completeTime: 653.8 },\n  { time: '2020-09-06', consumeTime: 11770, completeTime: 856.683 },\n  { time: '2020-09-07', consumeTime: 12206, completeTime: 777.15 },\n  { time: '2020-09-08', consumeTime: 11434, completeTime: 773.283 },\n  { time: '2020-09-09', consumeTime: 16218, completeTime: 833.3 },\n  { time: '2020-09-10', consumeTime: 11914, completeTime: 793.517 },\n  { time: '2020-09-11', consumeTime: 16781, completeTime: 894.45 },\n  { time: '2020-09-12', consumeTime: 10555, completeTime: 725.55 },\n  { time: '2020-09-13', consumeTime: 10899, completeTime: 709.967 },\n  { time: '2020-09-14', consumeTime: 10713, completeTime: 787.6 },\n  { time: '2020-09-15', consumeTime: 0, completeTime: 644.183 },\n  { time: '2020-09-16', consumeTime: 0, completeTime: 1066.65 },\n  { time: '2020-09-17', consumeTime: 20357, completeTime: 932.45 },\n  { time: '2020-09-18', consumeTime: 10424, completeTime: 753.583 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['consumeTime', 'completeTime'],\n  limitInPlot: false,\n  padding: [10, 20, 80, 30], // 需要设置底部 padding 值，同 css\n  slider: {},\n  meta: {\n    time: {\n      sync: false, // 开启之后 slider 无法重绘\n    },\n  },\n  geometryOptions: [\n    {\n      geometry: 'column',\n    },\n    {\n      geometry: 'line',\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"柱线混合图表-滑块",en:"Slider with column line"},filename:"slider-column-line.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/iMCSWEAapb/d19f59e0-788a-4945-8fbb-85b921a6e654.png",source:"import { DualAxes } from '@antv/g2plot';\n\nconst data = [\n  { time: '2019-03', value: 350, count: 800 },\n  { time: '2019-04', value: 900, count: 600 },\n  { time: '2019-05', value: 300, count: 400 },\n  { time: '2019-06', value: 450, count: 380 },\n  { time: '2019-07', value: 470, count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [data, data],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      pattern: { type: 'line' },\n    },\n    {\n      geometry: 'line',\n      lineStyle: {\n        lineWidth: 2,\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"带贴图图案的柱线混合图表",en:"column line with pattern"},filename:"pattern.ts",isNew:!1}],icon:"",id:"column-line",title:{en:"Column Line",zh:"柱线混合图"},childrenKey:"demos",order:1},{demos:[{id:"stacked-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*R2j7SIpYvDsAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isStack: true,\n      seriesField: 'type',\n    },\n    {\n      geometry: 'line',\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"堆叠柱线图表",en:"Stacked column line"},filename:"stacked-column-line.ts",isNew:!1},{id:"custom-stacked-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*RCl4Tr-4TqwAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes, G2 } from '@antv/g2plot';\n\nconst { registerTheme } = G2;\n\nregisterTheme('custom-theme', {\n  colors10: ['#FACDAA', '#F4A49E', '#EE7B91', '#E85285', '#BE408C', '#BE408C'],\n  /** 20色板 */\n  colors20: ['#FACDAA', '#F4A49E', '#EE7B91', '#E85285', '#BE408C', '#BE408C', '#942D93'],\n});\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isStack: true,\n      seriesField: 'type',\n      columnWidthRatio: 0.4,\n      label: {},\n    },\n    {\n      geometry: 'line',\n    },\n  ],\n  legend: {\n    marker: {\n      symbol: 'circle',\n      style: {\n        lineWidth: 2,\n        r: 6,\n        stroke: '#5AD8A6',\n        fill: '#fff',\n      },\n    },\n    layout: 'vertical',\n    position: 'right',\n    itemName: {\n      formatter: (val) => `@${val}`,\n      style: {\n        fill: '#333',\n      },\n    },\n  },\n  interactions: [\n    {\n      type: 'element-highlight',\n    },\n    {\n      type: 'active-region',\n    },\n  ],\n  animation: false,\n  theme: 'custom-theme',\n});\n\ndualAxes.render();\n",title:{zh:"堆叠柱线图表-自定义样式",en:"Custom stacked column line"},filename:"custom-stacked-column-line.ts",isNew:!1},{id:"stacked-percent-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*w_VfQ5sDvS0AAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isStack: true,\n      isPercent: true,\n      seriesField: 'type',\n    },\n    {\n      geometry: 'line',\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"百分比堆叠柱线图表",en:"stacked-percent-column-line"},filename:"stacked-percent-column-line.ts",isNew:!1},{id:"stacked-column-multi-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*I_bmR6CZJScAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800, name: 'a' },\n  { time: '2019-04', count: 600, name: 'a' },\n  { time: '2019-05', count: 400, name: 'a' },\n  { time: '2019-06', count: 380, name: 'a' },\n  { time: '2019-07', count: 220, name: 'a' },\n  { time: '2019-03', count: 750, name: 'b' },\n  { time: '2019-04', count: 650, name: 'b' },\n  { time: '2019-05', count: 450, name: 'b' },\n  { time: '2019-06', count: 400, name: 'b' },\n  { time: '2019-07', count: 320, name: 'b' },\n  { time: '2019-03', count: 900, name: 'c' },\n  { time: '2019-04', count: 600, name: 'c' },\n  { time: '2019-05', count: 450, name: 'c' },\n  { time: '2019-06', count: 300, name: 'c' },\n  { time: '2019-07', count: 200, name: 'c' },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isStack: true,\n      seriesField: 'type',\n      columnWidthRatio: 0.4,\n    },\n    {\n      geometry: 'line',\n      seriesField: 'name',\n      lineStyle: ({ name }) => {\n        if (name === 'a') {\n          return {\n            lineDash: [1, 4],\n            opacity: 1,\n          };\n        }\n        return {\n          opacity: 0.5,\n        };\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"堆叠柱线图表-显示多折线",en:"Stacked column multi line"},filename:"stacked-column-multi-line.ts",isNew:!1}],icon:"",id:"stacked-column-line",title:{en:"Stacked Column + Line",zh:"堆叠柱 + 折线混合图表"},childrenKey:"demos",order:2},{demos:[{id:"grouped-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*ydQDSpPe9B0AAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isGroup: true,\n      seriesField: 'type',\n    },\n    {\n      geometry: 'line',\n      lineStyle: {\n        lineWidth: 2,\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"分组柱线图表",en:"Grouped column line"},filename:"grouped-column-line.ts",isNew:!1},{id:"custom-grouped-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Ogg7R6trDvgAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isGroup: true,\n      seriesField: 'type',\n      columnWidthRatio: 0.4,\n      label: {},\n      color: ['#5B8FF9', '#5D7092'],\n    },\n    {\n      geometry: 'line',\n      color: '#5AD8A6',\n    },\n  ],\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: 'uv',\n        name: 'uv',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: 'bill',\n        name: '账单',\n        marker: { symbol: 'square', style: { fill: '#5D7092', r: 5 } },\n      },\n      {\n        value: 'count',\n        name: '数值',\n        marker: { symbol: 'square', style: { fill: '#5AD8A6', r: 5 } },\n      },\n    ],\n  },\n});\n\ndualAxes.render();\n",title:{zh:"分组柱线图表-自定义样式",en:"Custom grouped column line"},filename:"custom-grouped-column-line.ts",isNew:!1},{id:"pattern-with-callback",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/SL3QbumEbL/6131d19d-56b8-42bb-9609-8d0640a77d4a.png",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800 },\n  { time: '2019-04', count: 600 },\n  { time: '2019-05', count: 400 },\n  { time: '2019-06', count: 380 },\n  { time: '2019-07', count: 220 },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isGroup: true,\n      seriesField: 'type',\n      columnWidthRatio: 0.4,\n      label: {},\n      color: ['#5B8FF9', '#5D7092'],\n      pattern: ({ type }) => {\n        return { type: type === 'bill' ? 'square' : 'line' };\n      },\n    },\n    {\n      geometry: 'line',\n      color: '#5AD8A6',\n    },\n  ],\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: 'uv',\n        name: 'uv',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: 'bill',\n        name: '账单',\n        marker: { symbol: 'square', style: { fill: '#5D7092', r: 5 } },\n      },\n      {\n        value: 'count',\n        name: '数值',\n        marker: { symbol: 'square', style: { fill: '#5AD8A6', r: 5 } },\n      },\n    ],\n  },\n});\n\ndualAxes.render();\n",title:{zh:"带贴图的分组柱线图表",en:"Grouped column line with pattern"},filename:"pattern-with-callback.ts",isNew:!1},{id:"grouped-column-multi-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*xzh4RYzYTFcAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst uvBillData = [\n  { time: '2019-03', value: 350, type: 'uv' },\n  { time: '2019-04', value: 900, type: 'uv' },\n  { time: '2019-05', value: 300, type: 'uv' },\n  { time: '2019-06', value: 450, type: 'uv' },\n  { time: '2019-07', value: 470, type: 'uv' },\n  { time: '2019-03', value: 220, type: 'bill' },\n  { time: '2019-04', value: 300, type: 'bill' },\n  { time: '2019-05', value: 250, type: 'bill' },\n  { time: '2019-06', value: 220, type: 'bill' },\n  { time: '2019-07', value: 362, type: 'bill' },\n];\n\nconst transformData = [\n  { time: '2019-03', count: 800, name: 'a' },\n  { time: '2019-04', count: 600, name: 'a' },\n  { time: '2019-05', count: 400, name: 'a' },\n  { time: '2019-06', count: 380, name: 'a' },\n  { time: '2019-07', count: 220, name: 'a' },\n  { time: '2019-03', count: 750, name: 'b' },\n  { time: '2019-04', count: 650, name: 'b' },\n  { time: '2019-05', count: 450, name: 'b' },\n  { time: '2019-06', count: 400, name: 'b' },\n  { time: '2019-07', count: 320, name: 'b' },\n  { time: '2019-03', count: 900, name: 'c' },\n  { time: '2019-04', count: 600, name: 'c' },\n  { time: '2019-05', count: 450, name: 'c' },\n  { time: '2019-06', count: 300, name: 'c' },\n  { time: '2019-07', count: 200, name: 'c' },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [uvBillData, transformData],\n  xField: 'time',\n  yField: ['value', 'count'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isGroup: true,\n      seriesField: 'type',\n      columnWidthRatio: 0.4,\n    },\n    {\n      geometry: 'line',\n      seriesField: 'name',\n      lineStyle: ({ name }) => {\n        if (name === 'a') {\n          return {\n            lineDash: [1, 4],\n            opacity: 1,\n          };\n        }\n        return {\n          opacity: 0.5,\n        };\n      },\n    },\n  ],\n});\n\ndualAxes.render();\n",title:{zh:"分组柱线图表-显示多折线",en:"Grouped column multi line"},filename:"grouped-column-multi-line.ts",isNew:!1}],icon:"",id:"grouped-column-line",title:{en:"Grouped Column Line",zh:"分组柱 + 折线混合图表"},childrenKey:"demos",order:3},{demos:[{id:"stacked-grouped-column-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*9Pl8SrMreqkAAAAAAAAAAAAAARQnAQ",source:"import { DualAxes } from '@antv/g2plot';\n\nconst columnData = [\n  { name: 'London', month: 'Jan.', value: 12.9, type: '语文' },\n  { name: 'London', month: 'Jan.', value: 10.9, type: '数学' },\n  { name: 'London', month: 'Jan.', value: 120.9, type: '英语' },\n  { name: 'Berlin', month: 'Jan.', value: 12.4, type: '美术' },\n  { name: 'Berlin', month: 'Jan.', value: 12.4, type: '线性代数' },\n  { name: 'beijing', month: 'Jan.', value: 12.4, type: '高数' },\n  { name: 'London', month: 'Feb.', value: 2.9, type: '语文' },\n  { name: 'London', month: 'Feb.', value: 5.9, type: '数学' },\n  { name: 'London', month: 'Feb.', value: 10.9, type: '英语' },\n  { name: 'Berlin', month: 'Feb.', value: 22.4, type: '美术' },\n  { name: 'Berlin', month: 'Feb.', value: 32.4, type: '线性代数' },\n  { name: 'beijing', month: 'Feb.', value: 42.4, type: '高数' },\n  { name: 'London', month: 'Mar.', value: 2.9, type: '语文' },\n  { name: 'London', month: 'Mar.', value: 5.9, type: '数学' },\n  { name: 'Berlin', month: 'Mar.', value: 22.4, type: '美术' },\n  { name: 'Berlin', month: 'Mar.', value: 32.4, type: '线性代数' },\n  { name: 'beijing', month: 'Mar.', value: 42.4, type: '高数' },\n];\n\nconst lineData = [\n  { name: '福老师', month: 'Jan.', value: 12.9, type: '美术' },\n  { name: '逍老师', month: 'Jan.', value: 1.4, type: '线性代数' },\n  { name: '新老师', month: 'Jan.', value: 2.4, type: '高数' },\n  { name: '福老师', month: 'Feb.', value: 18.9, type: '美术' },\n  { name: '逍老师', month: 'Feb.', value: 13.4, type: '线性代数' },\n  { name: '新老师', month: 'Feb.', value: 15.4, type: '高数' },\n  { name: '福老师', month: 'Mar.', value: 8.9, type: '美术' },\n  { name: '逍老师', month: 'Mar.', value: 6.4, type: '线性代数' },\n  { name: '新老师', month: 'Mar.', value: 5.4, type: '高数' },\n];\n\nconst dualAxes = new DualAxes('container', {\n  data: [columnData, lineData],\n  xField: 'month',\n  yField: ['value', 'value'],\n  geometryOptions: [\n    {\n      geometry: 'column',\n      isGroup: true,\n      isStack: true,\n      seriesField: 'type',\n      groupField: 'name',\n    },\n    {\n      geometry: 'line',\n      seriesField: 'name',\n      isStack: true,\n      smooth: true,\n    },\n  ],\n  tooltip: false,\n});\n\ndualAxes.render();\n",title:{zh:"堆叠分组柱状图-折线图",en:"Stacked and Grouped column line"},filename:"stacked-grouped-column-line.ts",isNew:!1}],icon:"",id:"grouped-stacked-line",title:{en:"Stacked and Grouped column line",zh:"堆叠分组柱 + 折线混合图表"},childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"progress-plots",title:{zh:"进度图",en:"Progress Plots"},icon:"gauge",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/xDdGhZK84X/9746c5d8-4341-4c04-9528-87bcab55eedb.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  range: {\n    color: '#30BF78',\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  axis: {\n    label: {\n      formatter(v) {\n        return Number(v) * 100;\n      },\n    },\n    subTickLine: {\n      count: 3,\n    },\n  },\n  statistic: {\n    content: {\n      formatter: ({ percent }) => `Rate: ${(percent * 100).toFixed(0)}%`,\n      style: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 48,\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"仪表盘",en:"Basic gauge plot"},filename:"basic.ts",isNew:!1},{id:"range-width",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/8NlQkXxCw8/gauge-range-width.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  radius: 0.75,\n  range: {\n    color: '#30BF78',\n    width: 12,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  statistic: {\n    content: {\n      formatter: ({ percent }) => `Rate: ${(percent * 100).toFixed(0)}%`,\n    },\n    style: {\n      fontSize: 60,\n    },\n  },\n  gaugeStyle: {\n    lineCap: 'round',\n  },\n});\n\ngauge.render();\n",title:{zh:"设置仪表盘的辅助圆弧宽度",en:"Set range width of gauge"},filename:"range-width.ts",isNew:!1},{id:"single-gradient",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/pe4K9%26vl6Y/f79762f9-7ff4-4e6d-a11d-bf79be45d83f.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  range: {\n    color: 'l(0) 0:#B8E1FF 1:#3D76DD',\n  },\n  startAngle: Math.PI,\n  endAngle: 2 * Math.PI,\n  indicator: null,\n  statistic: {\n    title: {\n      offsetY: -36,\n      style: {\n        fontSize: '36px',\n        color: '#4B535E',\n      },\n      formatter: () => '70%',\n    },\n    content: {\n      style: {\n        fontSize: '24px',\n        lineHeight: '44px',\n        color: '#4B535E',\n      },\n      formatter: () => '加载进度',\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"仪表盘(单色渐变)",en:"Gradient gauge plot"},filename:"single-gradient.ts",isNew:!1},{id:"custom-color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/Uev7Dpt5C5/4a829ac9-2fb3-4ac8-8a5d-f17ad4483518.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  range: {\n    ticks: [0, 1 / 3, 2 / 3, 1],\n    color: ['#F4664A', '#FAAD14', '#30BF78'],\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  statistic: {\n    content: {\n      style: {\n        fontSize: '36px',\n        lineHeight: '36px',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"仪表盘(多色)",en:"Gauge plot with custom color"},filename:"custom-color.ts",isNew:!1},{id:"complex",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*LVeFSYBPDBAAAAAAAAAAAAAAARQnAQ",source:"import { Gauge } from '@antv/g2plot';\n\nconst ticks = [0, 1 / 3, 2 / 3, 1];\nconst color = ['#F4664A', '#FAAD14', '#30BF78'];\n\nconst gauge = new Gauge('container', {\n  percent: 0,\n  range: {\n    ticks: [0, 1],\n    color: ['l(0) 0:#F4664A 0.5:#FAAD14 1:#30BF78'],\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  statistic: {\n    title: {\n      formatter: ({ percent }) => {\n        if (percent < ticks[1]) {\n          return '差';\n        }\n        if (percent < ticks[2]) {\n          return '中';\n        }\n        return '优';\n      },\n      style: ({ percent }) => {\n        return {\n          fontSize: '36px',\n          lineHeight: 1,\n          color: percent < ticks[1] ? color[0] : percent < ticks[2] ? color[1] : color[2],\n        };\n      },\n    },\n    content: {\n      offsetY: 36,\n      style: {\n        fontSize: '24px',\n        color: '#4B535E',\n      },\n      formatter: () => '系统表现',\n    },\n  },\n});\n\ngauge.render();\nlet data = 0.7;\nconst interval = setInterval(() => {\n  if (data >= 1.5) {\n    clearInterval(interval);\n  }\n  data += 0.005;\n  gauge.changeData(data > 1 ? data - 1 : data);\n}, 100);\n",title:{zh:"仪表盘(渐变色)",en:"Multiple gradient gauge plot"},filename:"complex.ts",isNew:!1},{id:"meter-gauge",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/hJeVJVaTpf/6aea13fd-6a5a-4a2b-b612-5c3ceb8a280b.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  type: 'meter',\n  innerRadius: 0.75,\n  range: {\n    ticks: [0, 1 / 3, 2 / 3, 1],\n    color: ['#F4664A', '#FAAD14', '#30BF78'],\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  statistic: {\n    content: {\n      style: {\n        fontSize: '36px',\n        lineHeight: '36px',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"米轨仪表盘",en:"Meter gauge plot"},filename:"meter-gauge.ts",isNew:!1},{id:"custom-meter-step",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/wqWYdQwQlc/demo1.gif",source:"import { Gauge } from '@antv/g2plot';\n\nconst ticks = [0, 1 / 3, 2 / 3, 1];\nconst color = ['#F4664A', '#FAAD14', '#30BF78'];\nconst gauge = new Gauge('container', {\n  percent: 0,\n  innerRadius: 0.75,\n  type: 'meter',\n  // 自定义 meter 总步数 以及 step 占比\n  meter: {\n    steps: 50,\n    stepRatio: 0.6,\n  },\n  range: {\n    ticks: [0, 1],\n    color: ['l(0) 0:#F4664A 0.5:#FAAD14 1:#30BF78'],\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  statistic: {\n    title: {\n      formatter: ({ percent }) => {\n        if (percent < ticks[1]) {\n          return '差';\n        }\n        if (percent < ticks[2]) {\n          return '中';\n        }\n        return '优';\n      },\n      style: ({ percent }) => {\n        return {\n          fontSize: '36px',\n          lineHeight: 1,\n          color: percent < ticks[1] ? color[0] : percent < ticks[2] ? color[1] : color[2],\n        };\n      },\n    },\n    content: {\n      offsetY: 36,\n      style: {\n        fontSize: '24px',\n        color: '#4B535E',\n      },\n      formatter: () => '系统表现',\n    },\n  },\n});\n\ngauge.render();\nlet data = 0.7;\nconst interval = setInterval(() => {\n  if (data >= 1.5) {\n    clearInterval(interval);\n  }\n  data += 0.005;\n  gauge.changeData(data > 1 ? data - 1 : data);\n}, 100);\n",title:{zh:"米轨仪表盘(自定义步数和大小)",en:"Meter gauge plot (custom steps and stepRatio)"},filename:"custom-meter-step.ts",isNew:!1},{id:"custom-indicator",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/DUTCv9MXHO/71a294f0-99ed-4c41-9592-83add57871bc.png",source:"import { Gauge, G2 } from '@antv/g2plot';\n\nconst { registerShape, Util } = G2;\n\n// 自定义 Shape 部分\nregisterShape('point', 'custom-gauge-indicator', {\n  draw(cfg, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer } = indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      const { startAngle, endAngle } = Util.getAngle(cfg, this.coordinate);\n      const radius = this.coordinate.getRadius();\n      const midAngle = (startAngle + endAngle) / 2;\n      const { x: x1, y: y1 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle + 1 / Math.PI);\n      const { x: x2, y: y2 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle - 1 / Math.PI);\n      const { x, y } = Util.polarToCartesian(center.x, center.y, radius * 0.65, midAngle);\n\n      const path = [['M', center.x, center.y], ['L', x1, y1], ['L', x, y], ['L', x2, y2], ['Z']];\n      // pointer\n      group.addShape('path', {\n        name: 'pointer',\n        attrs: {\n          path,\n          fill: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    return group;\n  },\n});\n\nconst gauge = new Gauge('container', {\n  percent: 0.78,\n  range: {\n    color: '#30BF78',\n  },\n  indicator: {\n    shape: 'custom-gauge-indicator',\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n        lineWidth: 1,\n        fill: '#D0D0D0',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"自定义仪表盘指示器",en:"Custom gauge indicator"},filename:"custom-indicator.ts",isNew:!1},{id:"custom-indicator2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%26tVjT99wV1/6dae1f99-b160-4c6d-9769-b0972d02fd19.png",source:"import { Gauge, G2 } from '@antv/g2plot';\n\nconst { registerShape, Util } = G2;\n\n// 自定义 Shape 部分\nregisterShape('point', 'custom-gauge-indicator2', {\n  draw(cfg, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      const { startAngle, endAngle } = Util.getAngle(cfg, this.coordinate);\n      const radius = this.coordinate.getRadius();\n      const midAngle = (startAngle + endAngle) / 2;\n      const { x: x1, y: y1 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle + 1 / Math.PI);\n      const { x: x2, y: y2 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle - 1 / Math.PI);\n      const { x, y } = Util.polarToCartesian(center.x, center.y, radius * 0.65, midAngle);\n      const { x: x0, y: y0 } = Util.polarToCartesian(center.x, center.y, radius * 0.1, midAngle + Math.PI);\n\n      const path = [['M', x0, y0], ['L', x1, y1], ['L', x, y], ['L', x2, y2], ['Z']];\n      // pointer\n      group.addShape('path', {\n        name: 'pointer',\n        attrs: {\n          path,\n          fill: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    if (pin) {\n      const pinStyle = pin.style || {};\n      const { lineWidth = 2, fill = defaultColor, stroke = defaultColor } = pinStyle;\n      const r = 6;\n      group.addShape('circle', {\n        name: 'pin-outer',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          ...pin.style,\n          fill: 'transparent',\n          r: r * 1.5,\n          lineWidth,\n          stroke: stroke,\n        },\n      });\n\n      group.addShape('circle', {\n        name: 'pin-inner',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          r,\n          stroke: 'transparent',\n          fill,\n        },\n      });\n    }\n\n    return group;\n  },\n});\n\nconst gauge = new Gauge('container', {\n  percent: 0.78,\n  range: {\n    color: '#30BF78',\n  },\n  indicator: {\n    shape: 'custom-gauge-indicator2',\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n        lineWidth: 1,\n        fill: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        lineWidth: 2,\n        stroke: '#D0D0D0',\n        fill: '#D0D0D0',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"自定义仪表盘指示器",en:"Custom gauge indicator"},filename:"custom-indicator2.ts",isNew:!1},{id:"custom-indicator3",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/mgM7BC01Fk/9505de5d-484a-4577-b433-e40cc1bd4b0d.png",source:"import { Gauge, G2 } from '@antv/g2plot';\n\nconst { Util, registerShape } = G2;\n// 自定义 Shape 部分\nregisterShape('point', 'custom-gauge-indicator', {\n  draw(cfg, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n\n    if (pin) {\n      const pinStyle = pin.style || {};\n      const { lineWidth = 2, fill = defaultColor } = pinStyle;\n      const r = 6;\n      group.addShape('circle', {\n        name: 'pin-outer',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          ...pin.style,\n          fill,\n          r: r * 1.5,\n          lineWidth,\n        },\n      });\n    }\n    // 绘制指针\n    if (pointer) {\n      const { startAngle, endAngle } = Util.getAngle(cfg, this.coordinate);\n      const radius = this.coordinate.getRadius();\n      const midAngle = (startAngle + endAngle) / 2;\n      const { x: x1, y: y1 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle + 1 / Math.PI);\n      const { x: x2, y: y2 } = Util.polarToCartesian(center.x, center.y, radius / 15, midAngle - 1 / Math.PI);\n      const { x, y } = Util.polarToCartesian(center.x, center.y, radius * 0.65, midAngle);\n      const { x: x0, y: y0 } = Util.polarToCartesian(center.x, center.y, radius * 0.1, midAngle + Math.PI);\n      const sa = Math.PI / 2 + midAngle;\n      const r1 = 5.5;\n      const p1 = {\n        x: center.x + Math.cos(sa) * r1,\n        y: center.y + Math.sin(sa) * r1,\n      };\n      const p2 = {\n        x: center.x - Math.cos(sa) * r1,\n        y: center.y - Math.sin(sa) * r1,\n      };\n      const r2 = r1 / 4;\n      const p11 = {\n        x: x + Math.cos(sa) * r2,\n        y: y + Math.sin(sa) * r2,\n      };\n      const p21 = {\n        x: x - Math.cos(sa) * r2,\n        y: y - Math.sin(sa) * r2,\n      };\n\n      const path = [\n        ['M', p21.x, p21.y],\n        // 参数信息: cx, cy, .., .., .., endPointX, endPointY\n        ['A', r2, r2, 0, 0, 1, p11.x, p11.y],\n        ['L', p1.x, p1.y],\n        ['A', r1, r1, 0, 0, 1, p2.x, p2.y],\n        ['Z'],\n      ];\n      // pointer\n      group.addShape('path', {\n        name: 'pointer',\n        attrs: {\n          path,\n          fill: defaultColor,\n          lineCap: 'round',\n          ...pointer.style,\n        },\n      });\n      // pointer\n      group.addShape('circle', {\n        name: 'pointer-center',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          r: 2,\n          fill: '#fff',\n        },\n      });\n    }\n\n    return group;\n  },\n});\n\nconst gauge = new Gauge('container', {\n  percent: 0.75,\n  range: {\n    ticks: [0, 1 / 4, 1 / 2, 3 / 4, 1],\n    color: ['#F4664A', '#FAAD14', '#30BF78', '#000'],\n  },\n  startAngle: -Math.PI,\n  endAngle: 0,\n  gaugeStyle: {\n    // 因为圆角是借助重叠去实现的，所以建议填充色不要有透明度\n    fillOpacity: 1,\n    lineCap: 'round',\n    stroke: '#fff',\n    lineWidth: 4,\n  },\n  indicator: {\n    shape: 'custom-gauge-indicator',\n    pointer: {\n      style: {\n        stroke: '#30BF78',\n        lineWidth: 1,\n        fill: '#30BF78',\n      },\n    },\n    pin: {\n      style: {\n        lineWidth: 2,\n        stroke: '#D0D0D0',\n        fill: '#D0D0D0',\n      },\n    },\n  },\n  // 为底部预留 annotation 的位置\n  appendPadding: [0, 0, 80, 0],\n  statistic: {\n    content: {\n      offsetY: 70,\n      customHtml: () => {\n        // 提示信息，可以考虑不在这里展示，用其它方案代替。\n        // 否则，方案1: 考虑这里返回一个 div，然后用 createPortal 搞上去\n        // 方案2: 监听事件，动态增加一个 tooltip 信息提示\n        return `\n          <div><span>安全</span>\n            <span className=\"info-icon\" data-info=\"安全指标\" style=\"line-height:26px;\"><img width=\"16\" src=\"https://gw.alipayobjects.com/zos/antfincdn/wKEJBoEf4w/question-circle-o.png\"></span>\n          </div>\n        `;\n      },\n      style: {\n        fontSize: '24px',\n        lineHeight: '26px',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"自定义仪表盘指示器",en:"Custom gauge indicator"},filename:"custom-indicator3.ts",isNew:!1},{id:"simple-indicator",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/2RRg9bSnn2/380b6b20-aed3-44e2-9afe-5532b1f9daea.png",source:"import { Gauge, G2 } from '@antv/g2plot';\n\nconst { registerShape, Util } = G2;\n\n// 自定义 Shape 部分\nregisterShape('point', 'triangle-gauge-indicator', {\n  draw(cfg, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer } = indicator;\n\n    const group = container.addGroup();\n\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      const { startAngle, endAngle } = Util.getAngle(cfg, this.coordinate);\n      const radius = this.coordinate.getRadius();\n      const midAngle = (startAngle + endAngle) / 2;\n\n      const { x: x1, y: y1 } = Util.polarToCartesian(center.x, center.y, radius * 0.52, midAngle + Math.PI / 30);\n      const { x: x2, y: y2 } = Util.polarToCartesian(center.x, center.y, radius * 0.52, midAngle - Math.PI / 30);\n      const { x, y } = Util.polarToCartesian(center.x, center.y, radius * 0.6, midAngle);\n\n      const path = [['M', x1, y1], ['L', x, y], ['L', x2, y2], ['Z']];\n      // pointer\n      group.addShape('path', {\n        name: 'pointer',\n        attrs: {\n          path,\n          fill: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    return group;\n  },\n});\n\nconst gauge = new Gauge('container', {\n  percent: 0.48,\n  range: {\n    color: '#30BF78',\n  },\n  indicator: {\n    shape: 'triangle-gauge-indicator',\n    pointer: {\n      style: {\n        fill: '#30BF78',\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"简易仪表盘指示器",en:"Custom simple gauge indicator"},filename:"simple-indicator.ts",isNew:!1},{id:"tooltip-gauge",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/xDdGhZK84X/9746c5d8-4341-4c04-9528-87bcab55eedb.png",source:"import { Gauge } from '@antv/g2plot';\n\nconst gauge = new Gauge('container', {\n  tooltip: {\n    containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n    domStyles: {\n      'g2-tooltip': {\n        padding: '4px 8px',\n        fontSize: '10px',\n      },\n    },\n    customContent: (x, data) => {\n      return `${(Number(data?.[0]?.value || 0) * 100).toFixed(2)}%`;\n    },\n  },\n  percent: 0.75,\n  range: {\n    color: '#30BF78',\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  axis: {\n    label: {\n      formatter(v) {\n        return Number(v) * 100;\n      },\n    },\n    subTickLine: {\n      count: 3,\n    },\n  },\n  statistic: {\n    content: {\n      formatter: ({ percent }) => `Rate: ${(percent * 100).toFixed(0)}%`,\n      style: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 48,\n      },\n    },\n  },\n});\n\ngauge.render();\n",title:{zh:"仪表盘 自定义 tooltip",en:"Gauge Customize React Tooltip"},filename:"tooltip-gauge.ts",isNew:!1}],icon:"",id:"gauge",title:{en:"Gauge",zh:"仪表盘"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/cK%24GQZR7gg/e4a23f17-d007-4767-ba76-88667a64cbc1.png",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  percent: 0.25,\n  outline: {\n    border: 4,\n    distance: 8,\n  },\n  wave: {\n    length: 128,\n  },\n});\nliquidPlot.render();\n",title:{zh:"水波图",en:"Liquid plot"},filename:"basic.ts",isNew:!1},{id:"rect",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/QHxzt6bLeR/rect-liquid.gif",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  percent: 0.25,\n  shape: 'rect',\n  outline: {\n    border: 2,\n    distance: 4,\n  },\n  wave: {\n    length: 128,\n  },\n});\n\nliquidPlot.render();\n",title:{zh:"矩形水波图",en:"Liquid plot - rect shape"},filename:"rect.ts",isNew:!1},{id:"diamond",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*IzMHQL12utQAAAAAAAAAAAAAARQnAQ",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  percent: 0.25,\n  shape: 'diamond',\n  outline: {\n    border: 4,\n    distance: 8,\n  },\n  wave: {\n    length: 128,\n  },\n});\n\nliquidPlot.render();\n",title:{zh:"钻石水波图",en:"Liquid plot - diamond shape"},filename:"diamond.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/6uQnXA6lU2/4916bed6-3aeb-427b-ad86-51e3db07c0a1.png",source:"import { Liquid } from '@antv/g2plot';\n\nconst plot = new Liquid('container', {\n  percent: 0.65,\n  shape: 'diamond',\n  outline: {\n    border: 4,\n    distance: 8,\n  },\n  wave: {\n    length: 128,\n  },\n  pattern: { type: 'line' },\n});\n\nplot.render();\n",title:{zh:"带贴图的水波图",en:"Liquid plot with pattern"},filename:"pattern.ts",isNew:!1},{id:"outline-style",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/30%26URi8Zcp/star-liquid.gif",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  percent: 0.25,\n  shape: (x, y, width, height) => {\n    const path = [];\n    const w = Math.min(width, height);\n\n    for (let i = 0; i < 5; i++) {\n      path.push([\n        i === 0 ? 'M' : 'L',\n        (Math.cos(((18 + i * 72) * Math.PI) / 180) * w) / 2 + x,\n        (-Math.sin(((18 + i * 72) * Math.PI) / 180) * w) / 2 + y,\n      ]);\n      path.push([\n        'L',\n        (Math.cos(((54 + i * 72) * Math.PI) / 180) * w) / 4 + x,\n        (-Math.sin(((54 + i * 72) * Math.PI) / 180) * w) / 4 + y,\n      ]);\n    }\n    path.push(['Z']);\n    return path;\n  },\n  outline: {\n    border: 2,\n    distance: 4,\n    style: {\n      stroke: '#FFC100',\n      strokeOpacity: 0.65,\n    },\n  },\n  wave: {\n    length: 128,\n  },\n  theme: {\n    styleSheet: {\n      brandColor: '#FAAD14',\n    },\n  },\n});\n\nliquidPlot.render();\n",title:{zh:"自定义 outline 外框样式",en:"Liquid plot - custom outline style"},filename:"outline-style.ts",isNew:!1},{id:"custom",screenshot:"https://mdn.alipayobjects.com/huamei_twhmfu/afts/img/A*NvzFTJjCr3MAAAAAAAAAAAAADu2HAQ/original",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  percent: 0.25,\n  shape: function (x, y, width, height) {\n    const r = width / 4;\n    const dx = x - width / 2;\n    const dy = y - height / 2;\n    return [\n      ['M', dx, dy + r * 2],\n      ['A', r, r, 0, 0, 1, x, dy + r],\n      ['A', r, r, 0, 0, 1, dx + width, dy + r * 2],\n      ['L', x, dy + height],\n      ['L', dx, dy + r * 2],\n      ['Z'],\n    ];\n  },\n  shapeStyle: {\n    fill: 'pink',\n  },\n  outline: {\n    border: 4,\n    distance: 8,\n  },\n  wave: {\n    length: 128,\n  },\n});\n\nliquidPlot.render();\n",title:{zh:"形状自定义的水波图",en:"Liquid plot - custom shape"},filename:"custom.ts",isNew:!1},{id:"style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*DIzzR6M4T94AAAAAAAAAAAAAARQnAQ",source:"import { Liquid, measureTextWidth } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid(document.getElementById('container'), {\n  percent: 0.26,\n  radius: 0.8,\n  statistic: {\n    title: {\n      formatter: () => '盈利率',\n      style: ({ percent }) => ({\n        fill: percent > 0.65 ? 'white' : 'rgba(44,53,66,0.85)',\n      }),\n    },\n    content: {\n      style: ({ percent }) => ({\n        fontSize: 60,\n        lineHeight: 1,\n        fill: percent > 0.65 ? 'white' : 'rgba(44,53,66,0.85)',\n      }),\n      customHtml: (container, view, { percent }) => {\n        const { width, height } = container.getBoundingClientRect();\n        const d = Math.sqrt(Math.pow(width / 2, 2) + Math.pow(height / 2, 2));\n        const text = `占比 ${(percent * 100).toFixed(0)}%`;\n        const textWidth = measureTextWidth(text, { fontSize: 60 });\n        const scale = Math.min(d / textWidth, 1);\n        return `<div style=\"width:${d}px;display:flex;align-items:center;justify-content:center;font-size:${scale}em;line-height:${\n          scale <= 1 ? 1 : 'inherit'\n        }\">${text}</div>`;\n      },\n    },\n  },\n  liquidStyle: ({ percent }) => {\n    return {\n      fill: percent > 0.45 ? '#5B8FF9' : '#FAAD14',\n      stroke: percent > 0.45 ? '#5B8FF9' : '#FAAD14',\n    };\n  },\n  color: () => '#5B8FF9',\n});\nliquidPlot.render();\n\nlet data = 0.25;\nconst interval = setInterval(() => {\n  data += Math.min(Math.random() * 0.1, 0.1);\n  if (data < 0.75) {\n    liquidPlot.changeData(data);\n  } else {\n    clearInterval(interval);\n  }\n}, 500);\n",title:{zh:"样式自定义的水波图",en:"Liquid plot - custom style"},filename:"style.ts",isNew:!1}],icon:"",id:"liquid",title:{en:"Liquid",zh:"水波图"},childrenKey:"demos",order:1},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Vk43S5pvUJcAAAAAAAAAAABkARQnAQ",source:"import { Bullet } from '@antv/g2plot';\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: [100],\n    measures: [80],\n    target: 85,\n  },\n];\n\nconst bulletPlot = new Bullet('container', {\n  data,\n  measureField: 'measures',\n  rangeField: 'ranges',\n  targetField: 'target',\n  xField: 'title',\n  color: {\n    range: '#f0efff',\n    measure: '#5B8FF9',\n    target: '#3D76DD',\n  },\n  xAxis: {\n    line: null,\n  },\n  yAxis: {\n    tickMethod: ({ max }) => {\n      const interval = Math.ceil(max / 5);\n      // 自定义刻度 ticks\n      return [0, interval, interval * 2, interval * 3, interval * 4, max];\n    },\n  },\n  // 自定义 legend\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: '实际值',\n        name: '实际值',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: '目标值',\n        name: '目标值',\n        marker: { symbol: 'line', style: { stroke: '#3D76DD', r: 5 } },\n      },\n    ],\n  },\n});\n\nbulletPlot.render();\n",title:{zh:"基础子弹图-水平方向",en:"Basic bullet plot - horizontal"},filename:"basic.ts",isNew:!1},{id:"layout",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*BSeHR45zAxEAAAAAAAAAAAAAARQnAQ",source:"import { Bullet } from '@antv/g2plot';\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: [100],\n    measures: [80],\n    target: 85,\n  },\n];\n\n// @TODO 差一张垂直方向的缩略图\nconst bulletPlot = new Bullet('container', {\n  data,\n  measureField: 'measures',\n  rangeField: 'ranges',\n  targetField: 'target',\n  xField: 'title',\n  color: {\n    range: '#f0efff',\n    measure: '#5B8FF9',\n    target: '#3D76DD',\n  },\n  xAxis: {\n    line: null,\n  },\n  yAxis: false,\n  layout: 'vertical',\n  label: {\n    measure: {\n      position: 'middle',\n      style: {\n        fill: '#fff',\n      },\n    },\n  },\n  // 自定义 legend\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: '实际值',\n        name: '实际值',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: '目标值',\n        name: '目标值',\n        marker: { symbol: 'line', style: { stroke: '#3D76DD', r: 5 } },\n      },\n    ],\n  },\n});\n\nbulletPlot.render();\n",title:{zh:"基础子弹图-垂直方向",en:"Basic bullet plot - vertical"},filename:"layout.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*dL-9TKrcJcEAAAAAAAAAAABkARQnAQ",source:"import { Bullet } from '@antv/g2plot';\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: [40, 70, 100],\n    measures: [80],\n    target: 85,\n  },\n];\n\nconst bulletPlot = new Bullet('container', {\n  data,\n  measureField: 'measures',\n  rangeField: 'ranges',\n  targetField: 'target',\n  xField: 'title',\n  color: {\n    range: ['#FFbcb8', '#FFe0b0', '#bfeec8'],\n    measure: '#5B8FF9',\n    target: '#39a3f4',\n  },\n  xAxis: {\n    line: null,\n  },\n  yAxis: false,\n  label: {\n    target: true,\n  },\n  // 自定义 legend\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: '差',\n        name: '差',\n        marker: { symbol: 'square', style: { fill: '#FFbcb8', r: 5 } },\n      },\n      {\n        value: '良',\n        name: '良',\n        marker: { symbol: 'square', style: { fill: '#FFe0b0', r: 5 } },\n      },\n      {\n        value: '优',\n        name: '优',\n        marker: { symbol: 'square', style: { fill: '#bfeec8', r: 5 } },\n      },\n      {\n        value: '实际值',\n        name: '实际值',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: '目标值',\n        name: '目标值',\n        marker: { symbol: 'line', style: { stroke: '#39a3f4', r: 5 } },\n      },\n    ],\n  },\n});\n\nbulletPlot.render();\n",title:{zh:"基础子弹图-带多颜色范围区间",en:"Bullet plot - Custom color"},filename:"color.ts",isNew:!1},{id:"stacked",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/q1xifQK4No/825ecba3-04f3-4a01-9f6e-747d85d87fc0.png",source:"import { Bullet } from '@antv/g2plot';\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: [40, 70, 100],\n    measures: [30, 50],\n    target: 85,\n  },\n];\n\nconst bulletPlot = new Bullet('container', {\n  data,\n  measureField: 'measures',\n  rangeField: 'ranges',\n  targetField: 'target',\n  xField: 'title',\n  color: {\n    range: ['#FFbcb8', '#FFe0b0', '#bfeec8'],\n    measure: ['#5B8FF9', '#61DDAA'],\n    target: '#39a3f4',\n  },\n  label: {\n    measure: {\n      position: 'middle',\n      style: {\n        fill: '#fff',\n      },\n    },\n  },\n  xAxis: {\n    line: null,\n  },\n  yAxis: false,\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  // 自定义 legend\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: '差',\n        name: '差',\n        marker: { symbol: 'square', style: { fill: '#FFbcb8', r: 5 } },\n      },\n      {\n        value: '良',\n        name: '良',\n        marker: { symbol: 'square', style: { fill: '#FFe0b0', r: 5 } },\n      },\n      {\n        value: '优',\n        name: '优',\n        marker: { symbol: 'square', style: { fill: '#bfeec8', r: 5 } },\n      },\n      {\n        value: '第一季度',\n        name: '第一季度',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: '第二季度',\n        name: '第二季度',\n        marker: { symbol: 'square', style: { fill: ' #61DDAA', r: 5 } },\n      },\n      {\n        value: '目标值',\n        name: '目标值',\n        marker: { symbol: 'line', style: { stroke: '#39a3f4', r: 5 } },\n      },\n    ],\n  },\n});\n\nbulletPlot.render();\n",title:{zh:"堆叠子弹图",en:"Stacked bullet plot"},filename:"stacked.ts",isNew:!1},{id:"grouped",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*m78MS5pgqrkAAAAAAAAAAAAAARQnAQ",source:"import { Bullet } from '@antv/g2plot';\n\nconst data = [\n  {\n    title: '重庆',\n    ranges: [30, 90, 120],\n    measures: [65],\n    target: 80,\n  },\n  {\n    title: '杭州',\n    ranges: [30, 90, 120],\n    measures: [50],\n    target: 100,\n  },\n  {\n    title: '广州',\n    ranges: [30, 90, 120],\n    measures: [40],\n    target: 85,\n  },\n  {\n    title: '深圳',\n    ranges: [30, 90, 120],\n    measures: [50],\n    target: 100,\n  },\n];\n\nconst bulletPlot = new Bullet('container', {\n  data,\n  measureField: 'measures',\n  rangeField: 'ranges',\n  targetField: 'target',\n  xField: 'title',\n  color: {\n    range: ['#FFbcb8', '#FFe0b0', '#bfeec8'],\n    measure: '#5B8FF9',\n    target: '#39a3f4',\n  },\n  label: {\n    measure: {\n      position: 'middle',\n      style: {\n        fill: '#fff',\n      },\n    },\n  },\n  xAxis: {\n    line: null,\n  },\n  yAxis: false,\n  // 自定义 legend\n  legend: {\n    custom: true,\n    position: 'bottom',\n    items: [\n      {\n        value: '差',\n        name: '差',\n        marker: { symbol: 'square', style: { fill: '#FFbcb8', r: 5 } },\n      },\n      {\n        value: '良',\n        name: '良',\n        marker: { symbol: 'square', style: { fill: '#FFe0b0', r: 5 } },\n      },\n      {\n        value: '优',\n        name: '优',\n        marker: { symbol: 'square', style: { fill: '#bfeec8', r: 5 } },\n      },\n      {\n        value: '实际值',\n        name: '实际值',\n        marker: { symbol: 'square', style: { fill: '#5B8FF9', r: 5 } },\n      },\n      {\n        value: '目标值',\n        name: '目标值',\n        marker: { symbol: 'line', style: { stroke: '#39a3f4', r: 5 } },\n      },\n    ],\n  },\n});\n\nbulletPlot.render();\n",title:{zh:"分组子弹图",en:"Grouped bullet plot"},filename:"grouped.ts",isNew:!1}],icon:"",id:"bullet",title:{en:"Bullet",zh:"子弹图"},childrenKey:"demos",order:3}],childrenKey:"examples"},{id:"scatter",title:{zh:"散点气泡图",en:"Scatter and Bubble"},icon:"point",examples:[{demos:[{id:"color-mapping",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/kRFIJ2OlFs/FE726B54-2352-47F5-AAF9-B17D281CE513.png",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/aao6XnO5pW/IMDB.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 10,\n      data,\n      xField: 'Revenue (Millions)',\n      yField: 'Rating',\n      shape: 'circle',\n      colorField: 'Genre',\n      size: 4,\n      yAxis: {\n        nice: true,\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      xAxis: {\n        min: -100,\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"散点图颜色映射",en:"The color mapping of scatter plot"},filename:"color-mapping.ts",isNew:!1},{id:"mapping-color-and-shape",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/xqD9bPVmaU/4ecbc1e7-ebf0-4777-ad7b-7190a4db51e9.png",source:"import { Scatter } from '@antv/g2plot';\nimport { uniq } from '@antv/util';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/rc7SYiIq8Z/scatter-color-shape.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Scatter('container', {\n      appendPadding: 10,\n      data: [],\n    });\n\n    plot.update({\n      data,\n      xField: 'x',\n      yField: 'y',\n      colorField: 'city',\n      shapeField: 'area',\n      sizeField: 'value',\n      size: [4, 8],\n      color: ({ city }) => {\n        // 推荐业务自己传入主题色，不需要从 chart 中获取\n        const { colors10 } = plot.chart.getTheme();\n        // custom colorMapping function\n        const idx = data.map((d) => d.city).indexOf(city);\n        return colors10[idx + 1];\n      },\n      shape: ({ area }) => {\n        const shapes = ['circle', 'square', 'triangle', 'hexagon', 'diamond', 'bowtie'];\n        const idx = uniq(data.map((d) => d.area)).indexOf(area);\n        return shapes[idx] || 'circle';\n      },\n      yAxis: {\n        nice: true,\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n    });\n  });\n",title:{zh:"散点图颜色和形状映射",en:"The color and shape mapping of scatter plot"},filename:"mapping-color-and-shape.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/vDr7LQjxjj/88d79b63-933c-4d98-a47a-17977ad7c3e9.png",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/3e4db10a-9da1-4b44-80d8-c128f42764a8.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 30,\n      data,\n      xField: 'xG conceded',\n      yField: 'Shot conceded',\n      colorField: 'Result',\n      size: 5,\n      shape: 'circle',\n      pointStyle: {\n        fillOpacity: 1,\n      },\n      yAxis: {\n        nice: true,\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      xAxis: {\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      label: {},\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"散点图图形标签",en:"Scatter plot label"},filename:"label.ts",isNew:!1},{id:"line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*JWiDQIYm09AAAAAAAAAAAAAAARQnAQ",source:"import { Scatter } from '@antv/g2plot';\n\nconst data = [\n  { x: 1, y: 4.181 },\n  { x: 2, y: 4.665 },\n  { x: 3, y: 5.296 },\n  { x: 4, y: 5.365 },\n  { x: 5, y: 5.448 },\n  { x: 6, y: 5.744 },\n  { x: 7, y: 5.653 },\n  { x: 8, y: 5.844 },\n  { x: 9, y: 6.362 },\n  { x: 10, y: 6.38 },\n  { x: 11, y: 6.311 },\n  { x: 12, y: 6.457 },\n  { x: 13, y: 6.479 },\n  { x: 14, y: 6.59 },\n  { x: 15, y: 6.74 },\n  { x: 16, y: 6.58 },\n  { x: 17, y: 6.852 },\n  { x: 18, y: 6.531 },\n  { x: 19, y: 6.682 },\n  { x: 20, y: 7.013 },\n  { x: 21, y: 6.82 },\n  { x: 22, y: 6.647 },\n  { x: 23, y: 6.951 },\n  { x: 24, y: 7.121 },\n  { x: 25, y: 7.143 },\n  { x: 26, y: 6.914 },\n  { x: 27, y: 6.941 },\n  { x: 28, y: 7.226 },\n  { x: 29, y: 6.898 },\n  { x: 30, y: 7.392 },\n  { x: 31, y: 6.938 },\n];\nconst scatterPlot = new Scatter('container', {\n  data,\n  xField: 'x',\n  yField: 'y',\n  size: 5,\n  pointStyle: {\n    stroke: '#777777',\n    lineWidth: 1,\n    fill: '#5B8FF9',\n  },\n  regressionLine: {\n    type: 'quad', // linear, exp, loess, log, poly, pow, quad\n  },\n});\nscatterPlot.render();\n",title:{zh:"散点图-回归线",en:"Scatter plot regression line"},filename:"line.ts",isNew:!1},{id:"custom-shape",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*zfwOTZE7KwcAAAAAAAAAAAAAARQnAQ",source:"import { Scatter, G2 } from '@antv/g2plot';\n\n// 注册主体有 point | interval | polygon | line 等，详细参考 G2: https://g2.antv.vision/\nG2.registerShape('point', 'custom-shape', {\n  draw(cfg, group) {\n    const cx = cfg.x;\n    const cy = cfg.y;\n    const radius = cfg.size || 5;\n    const polygon = group.addShape('path', {\n      attrs: {\n        path: [['M', cx - radius, cy - radius], ['L', cx + radius, cy - radius], ['L', cx, cy + radius], ['Z']],\n        ...cfg.defaultStyle,\n        ...cfg.style,\n      },\n    });\n    return polygon;\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/3e4db10a-9da1-4b44-80d8-c128f42764a8.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 30,\n      data,\n      xField: 'xG conceded',\n      yField: 'Shot conceded',\n      shape: 'custom-shape',\n      pointStyle: {\n        lineWidth: 2,\n      },\n      size: 6,\n      yAxis: {\n        nice: true,\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      tooltip: {\n        showMarkers: false,\n      },\n      xAxis: {\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      label: {},\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"散点图-自定义图形",en:"Scatter plot custom shape"},filename:"custom-shape.ts",isNew:!1}],icon:"",id:"scatter",title:{en:"Scatter",zh:"散点图"},childrenKey:"demos",order:0},{demos:[{id:"quadrant",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*tdedT4uaPaYAAAAAAAAAAABkARQnAQ",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/0b37279d-1674-42b4-b285-29683747ad9a.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 30,\n      data,\n      xField: 'change in female rate',\n      yField: 'change in male rate',\n      sizeField: 'pop',\n      colorField: 'continent',\n      color: ['#ffd500', '#82cab2', '#193442', '#d18768', '#7e827a'],\n      size: [4, 30],\n      shape: 'circle',\n      pointStyle: {\n        fillOpacity: 0.8,\n        stroke: '#bbb',\n      },\n      xAxis: {\n        min: -25,\n        max: 5,\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      yAxis: {\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      quadrant: {\n        xBaseline: 0,\n        yBaseline: 0,\n        labels: [\n          {\n            content: 'Male decrease,\\nfemale increase',\n          },\n          {\n            content: 'Female decrease,\\nmale increase',\n          },\n          {\n            content: 'Female & male decrease',\n          },\n          {\n            content: 'Female &\\n male increase',\n          },\n        ],\n      },\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"气泡图-四象限",en:"Bubble plot quadrant"},filename:"quadrant.ts",isNew:!1},{id:"axis-right",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*0luHTJODdMUAAAAAAAAAAAAAARQnAQ",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/f950b2f1-038b-47c2-afcc-63001bc8d07c.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const processData = data.map((item) => {\n      item['Average annual wage'] = item['Average annual wage'] * 1;\n      item['probability'] = item['probability'] * 1;\n      item['numbEmployed'] = item['numbEmployed'] * 1;\n      return item;\n    });\n    const labels = ['Airline Pilots, Copilots and Flight Engineers', 'Benefits Managers'];\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 30,\n      data: processData,\n      xField: 'probability',\n      yField: 'Average annual wage',\n      colorField: 'education',\n      size: [2, 16],\n      sizeField: 'numbEmployed',\n      shape: 'circle',\n      yAxis: {\n        nice: false,\n        min: -20000,\n        tickCount: 5,\n        position: 'right',\n        label: {\n          formatter: (value) => {\n            return Math.floor(value / 1000) + 'K';\n          },\n        },\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#aaa',\n          },\n        },\n      },\n      tooltip: {\n        fields: ['probability', 'Average annual wage', 'numbEmployed'],\n      },\n      legend: {\n        position: 'top',\n      },\n      xAxis: {\n        min: -0.04,\n        max: 1.04,\n        nice: false,\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: false,\n        label: false,\n      },\n      label: {\n        formatter: (item) => {\n          return labels.includes(item['short occupation']) ? item['short occupation'] : '';\n        },\n        offsetY: -10,\n      },\n      annotations: [\n        {\n          type: 'line',\n          start: [-0.04, 100000],\n          end: [1.04, 30000],\n          style: {\n            stroke: '#aaa',\n          },\n        },\n        {\n          type: 'text',\n          position: ['1.03', 'max'],\n          content: 'Average annual wage',\n          style: {\n            textAlign: 'right',\n            fontWeight: '500',\n            fill: 'rgb(92, 92, 92)',\n          },\n        },\n        {\n          type: 'text',\n          position: ['1.03', 'min'],\n          content: 'Most likely to \\nbe automated ',\n          style: {\n            textAlign: 'right',\n            fontWeight: '500',\n            fill: 'rgb(92, 92, 92)',\n          },\n        },\n        {\n          type: 'text',\n          position: ['-0.03', 'min'],\n          content: 'Least likely to \\nbe automated ',\n          style: {\n            textAlign: 'left',\n            fontWeight: '500',\n            fill: 'rgb(92, 92, 92)',\n          },\n        },\n      ],\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"气泡图-右侧坐标轴",en:"Bubble plot yAxis on the right"},filename:"axis-right.ts",isNew:!1},{id:"bubble-3d",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%26Gzzn7RM81/83252692-ca94-40eb-be60-5f9bb591683a.png",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/t81X1wXdoj/scatter-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const scatterPlot = new Scatter('container', {\n      appendPadding: 30,\n      data,\n      xField: 'x',\n      yField: 'y',\n      colorField: 'genre',\n      color: [\n        'r(0.4, 0.3, 0.7) 0:rgba(255,255,255,0.5) 1:#5B8FF9',\n        'r(0.4, 0.4, 0.7) 0:rgba(255,255,255,0.5) 1:#61DDAA',\n      ],\n      sizeField: 'size',\n      size: [5, 20],\n      shape: 'circle',\n      yAxis: {\n        nice: true,\n        line: {\n          style: {\n            stroke: '#eee',\n          },\n        },\n      },\n      xAxis: {\n        grid: {\n          line: {\n            style: {\n              stroke: '#eee',\n            },\n          },\n        },\n        line: {\n          style: {\n            stroke: '#eee',\n          },\n        },\n      },\n    });\n    scatterPlot.render();\n  });\n",title:{zh:"伪 3D 气泡图",en:"Bubble plot of fake 3D"},filename:"bubble-3d.ts",isNew:!1},{id:"quadrant-tooltip",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*CvOyT6MoUAQAAAAAAAAAAAAAARQnAQ",source:"import { Scatter } from '@antv/g2plot';\nconst data = [\n  {\n    city: '上海',\n    搜索UV: 1.5,\n    端DAU: 6,\n    搜索DAU渗透率: 3,\n  },\n  {\n    city: '台北',\n    搜索UV: 2,\n    端DAU: 5,\n    搜索DAU渗透率: 13,\n  },\n  {\n    city: '北京',\n    搜索UV: 7,\n    端DAU: 3.6,\n    搜索DAU渗透率: 16,\n  },\n  {\n    city: '济南',\n    搜索UV: 5,\n    端DAU: 5,\n    搜索DAU渗透率: 16,\n  },\n  {\n    city: '青岛',\n    搜索UV: 2,\n    端DAU: 1,\n    搜索DAU渗透率: 19,\n  },\n  {\n    city: '杭州',\n    搜索UV: 7,\n    端DAU: 2,\n    搜索DAU渗透率: 90,\n  },\n  {\n    city: '广东',\n    搜索UV: 7.4,\n    端DAU: 1.5,\n    搜索DAU渗透率: 30,\n  },\n  {\n    city: '无锡',\n    搜索UV: 1,\n    端DAU: 1,\n    搜索DAU渗透率: 34,\n  },\n  {\n    city: '重庆',\n    搜索UV: 7,\n    端DAU: 5,\n    搜索DAU渗透率: 46,\n  },\n  {\n    city: '成都',\n    搜索UV: 3.4,\n    端DAU: 2.3,\n    搜索DAU渗透率: 49,\n  },\n  {\n    city: '哈尔滨',\n    搜索UV: 0.5,\n    端DAU: 6.5,\n    搜索DAU渗透率: 51,\n  },\n  {\n    city: '内蒙古',\n    搜索UV: 2.5,\n    端DAU: 5,\n    搜索DAU渗透率: 51,\n  },\n  {\n    city: '云南',\n    搜索UV: 1,\n    端DAU: 5,\n    搜索DAU渗透率: 53,\n  },\n  {\n    city: '河北',\n    搜索UV: 6,\n    端DAU: 5,\n    搜索DAU渗透率: 57,\n  },\n  {\n    city: '陕西',\n    搜索UV: 2,\n    端DAU: 3,\n    搜索DAU渗透率: 57,\n  },\n  {\n    city: '苏州',\n    搜索UV: 3,\n    端DAU: 4.6,\n    搜索DAU渗透率: 65,\n  },\n  {\n    city: '四川',\n    搜索UV: 6,\n    端DAU: 7,\n    搜索DAU渗透率: 68,\n  },\n  {\n    city: '贵阳',\n    搜索UV: 5,\n    端DAU: 3.4,\n    搜索DAU渗透率: 68,\n  },\n  {\n    city: '台湾',\n    搜索UV: 5,\n    端DAU: 2,\n    搜索DAU渗透率: 69,\n  },\n  {\n    city: '哈尔滨',\n    搜索UV: 2,\n    端DAU: 7,\n    搜索DAU渗透率: 78,\n  },\n  {\n    city: '天津',\n    搜索UV: 4.4,\n    端DAU: 5,\n    搜索DAU渗透率: 45,\n  },\n  {\n    city: '长沙',\n    搜索UV: 3.4,\n    端DAU: 7,\n    搜索DAU渗透率: 29,\n  },\n  {\n    city: '沧州',\n    搜索UV: 3,\n    端DAU: 1,\n    搜索DAU渗透率: 94,\n  },\n  {\n    city: '宁波',\n    搜索UV: 6,\n    端DAU: 3,\n    搜索DAU渗透率: 99,\n  },\n];\nconst scatterPlot = new Scatter('container', {\n  width: 800,\n  height: 400,\n  autoFit: false,\n  appendPadding: 16,\n  data,\n  xField: '搜索UV',\n  yField: '端DAU',\n  sizeField: '搜索DAU渗透率',\n  size: [12, 30],\n  shape: 'circle',\n  pointStyle: {\n    fill: '#D6E3FD',\n    fillOpacity: 0.6,\n    stroke: '#6d9bf9',\n  },\n  tooltip: {\n    showTitle: true,\n    showMarkers: false,\n    fields: ['搜索UV', '端DAU', '搜索DAU渗透率'],\n    customContent: (title, items) => {\n      const field = items?.[0];\n      const formatterInfo = {\n        搜索UV: (value) => value + '万',\n        端DAU: (value) => value + '万',\n        搜索DAU渗透率: () => '%',\n      };\n      let htmlStr = `<div style=\"margin:10px 0;font-weight:700;\">${field?.data?.city}</div><div class=\"g2-tooltip-items\">`;\n      items.forEach((item) => {\n        htmlStr += `<div class=\"g2-tooltip-item\" style=\"margin-bottom:8px;display:flex;justify-content:space-between;\">\n                <span class=\"g2-tooltip-item-label\" style=\"margin-right: 12px;\">${item.name}</span>\n                <span class=\"g2-tooltip-item-value\">${item.value + formatterInfo[item.name](item.value)}</span>\n              </div>`;\n      });\n      htmlStr += '</div>';\n      return htmlStr;\n    },\n  },\n  xAxis: {\n    grid: {\n      line: {\n        style: {\n          stroke: '#eee',\n        },\n      },\n    },\n    label: {\n      formatter: (v) => (v !== '0' ? v + '%' : v),\n    },\n    line: null,\n  },\n  label: {\n    formatter: (item) => {\n      return item.city;\n    },\n    offsetY: 12,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.85)',\n    },\n  },\n  yAxis: {\n    min: 0,\n    line: null,\n    label: {\n      formatter: (v) => (v !== '0' ? v + '%' : v),\n    },\n  },\n  annotations: [\n    {\n      type: 'text',\n      position: [4, 8],\n      content: '搜索DAU渗透率',\n      offsetY: -8,\n      style: {\n        fontSize: 12,\n        textAlign: 'center',\n      },\n    },\n    {\n      type: 'text',\n      position: [8, 4],\n      content: '搜索DAU渗透率',\n      rotate: Math.PI / 2,\n      offsetY: -40,\n      offsetX: 8,\n      style: {\n        fontSize: 12,\n      },\n    },\n    {\n      type: 'region',\n      start: [7, 7],\n      end: [7.8, 7.8],\n      top: true,\n      style: {\n        fill: '#fff',\n        fillOpacity: 0.5,\n        opacity: 1,\n      },\n    },\n    {\n      type: 'region',\n      start: [0.2, 7],\n      end: [1, 7.8],\n      top: true,\n      style: {\n        fill: '#fff',\n        fillOpacity: 0.5,\n        opacity: 1,\n      },\n    },\n    {\n      type: 'region',\n      start: [7, 0.2],\n      end: [7.8, 1],\n      top: true,\n      style: {\n        fill: '#fff',\n        fillOpacity: 0.5,\n        opacity: 1,\n      },\n    },\n  ],\n  quadrant: {\n    xBaseline: 4,\n    yBaseline: 4,\n    lineStyle: {\n      lineDash: [4, 2],\n      lineWidth: 2,\n    },\n    regionStyle: [\n      {\n        fill: '#5bd8a6',\n        fillOpacity: 0.1,\n      },\n      {\n        fill: '#667796',\n        fillOpacity: 0.1,\n      },\n      {\n        fill: '#fff',\n      },\n      {\n        fill: '#f7664e',\n        fillOpacity: 0.1,\n      },\n    ],\n    labels: [\n      {\n        content: '热门市场',\n        position: [7.2, 7],\n        style: {\n          fill: 'rgba(0,0,0, 0.85)',\n          textAlign: 'start',\n        },\n      },\n      {\n        content: '潜力市场',\n        position: [0.2, 7],\n        style: {\n          fill: 'rgba(0,0,0, 0.85)',\n          textAlign: 'start',\n        },\n      },\n      {\n        content: '',\n      },\n      {\n        content: '提频市场',\n        position: [7.2, 1],\n        style: {\n          fill: 'rgba(0,0,0, 0.85)',\n          textAlign: 'start',\n        },\n      },\n    ],\n  },\n});\nscatterPlot.render();\n",title:{zh:"气泡图-自定义tooltip",en:"Custom bubble tooltip"},filename:"quadrant-tooltip.ts",isNew:!1}],icon:"",id:"bubble",title:{en:"Bubble",zh:"气泡图"},childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"rose",title:{zh:"玫瑰图",en:"Rose"},icon:"rose",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*OgVJR7IIQiMAAAAAAAAAAABkARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  { type: '分类一', value: 27 },\r\n  { type: '分类二', value: 25 },\r\n  { type: '分类三', value: 18 },\r\n  { type: '分类四', value: 15 },\r\n  { type: '分类五', value: 10 },\r\n  { type: '其他', value: 5 },\r\n];\r\n\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  seriesField: 'type',\r\n  radius: 0.9,\r\n  legend: {\r\n    position: 'bottom',\r\n  },\r\n});\r\n\r\nrosePlot.render();\r\n",title:{zh:"玫瑰图",en:"Basic rose plot"},filename:"basic.ts",isNew:!1},{id:"inner-label",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*nCcjT7v3dbYAAAAAAAAAAAAAARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  { type: '分类一', value: 27 },\r\n  { type: '分类二', value: 25 },\r\n  { type: '分类三', value: 18 },\r\n  { type: '分类四', value: 15 },\r\n  { type: '分类五', value: 10 },\r\n  { type: '其他', value: 5 },\r\n];\r\n\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  seriesField: 'type',\r\n  radius: 0.9,\r\n  label: {\r\n    offset: -15,\r\n  },\r\n});\r\n\r\nrosePlot.render();\r\n",title:{zh:"玫瑰图-内部图形标签",en:"Rose plot - inner label"},filename:"inner-label.ts",isNew:!1},{id:"rose-state",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*OgVJR7IIQiMAAAAAAAAAAABkARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  { type: '分类一', value: 27 },\r\n  { type: '分类二', value: 25 },\r\n  { type: '分类三', value: 18 },\r\n  { type: '分类四', value: 15 },\r\n  { type: '分类五', value: 10 },\r\n  { type: '其他', value: 5 },\r\n];\r\n\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  seriesField: 'type',\r\n  radius: 0.9,\r\n  // 设置 active 状态样式\r\n  state: {\r\n    active: {\r\n      style: {\r\n        lineWidth: 0,\r\n        fillOpacity: 0.65,\r\n      },\r\n    },\r\n  },\r\n  legend: {\r\n    position: 'bottom',\r\n  },\r\n  interactions: [{ type: 'element-active' }],\r\n});\r\n\r\nrosePlot.render();\r\n",title:{zh:"玫瑰图-设置条件状态",en:"Rose plot - set condition state"},filename:"rose-state.ts",isNew:!1},{id:"interaction",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*OgVJR7IIQiMAAAAAAAAAAABkARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  { type: '分类一', value: 27 },\r\n  { type: '分类二', value: 25 },\r\n  { type: '分类三', value: 18 },\r\n  { type: '分类四', value: 15 },\r\n  { type: '分类五', value: 10 },\r\n  { type: '其他', value: 5 },\r\n];\r\n\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  seriesField: 'type',\r\n  radius: 0.9,\r\n  legend: {\r\n    position: 'bottom',\r\n  },\r\n  interactions: [{ type: 'element-active' }],\r\n});\r\n\r\nrosePlot.render();\r\n",title:{zh:"玫瑰图-元素交互",en:"Rose interaction - with element action"},filename:"interaction.ts",isNew:!1},{id:"rose-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/mVpttHqMHR/bf55e601-ccbe-40b2-bd04-d31ae0264fa8.png",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  { type: '分类一', value: 27 },\r\n  { type: '分类二', value: 25 },\r\n  { type: '分类三', value: 18 },\r\n  { type: '分类四', value: 15 },\r\n  { type: '分类五', value: 10 },\r\n  { type: '其他', value: 5 },\r\n];\r\n\r\nconst PATTERN_MAP = {\r\n  分类一: {\r\n    type: 'dot',\r\n    cfg: {\r\n      size: 20,\r\n      padding: 5,\r\n      fill: '#fff',\r\n      strokeOpacity: 1,\r\n      opacity: 0.8,\r\n    },\r\n  },\r\n  分类二: {\r\n    type: 'line',\r\n    cfg: {\r\n      stroke: '#FFA884',\r\n      lineWidth: 5,\r\n      spacing: 10,\r\n      rotation: 90,\r\n      backgroundColor: '#F2EAEA',\r\n    },\r\n  },\r\n  分类三: {\r\n    type: 'square',\r\n    cfg: {\r\n      size: 3,\r\n      fill: '#014c63',\r\n      padding: 6,\r\n    },\r\n  },\r\n};\r\n\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  seriesField: 'type',\r\n  radius: 0.9,\r\n  legend: false,\r\n  pattern: ({ type }) => {\r\n    return PATTERN_MAP[type] || { type: 'line' };\r\n  },\r\n});\r\n\r\nrosePlot.update({\r\n  theme: {\r\n    styleSheet: {\r\n      brandColor: '#215B77',\r\n      paletteQualitative10: [\r\n        '#215B77',\r\n        '#1B9CD0',\r\n        '#61C9FF',\r\n        '#ABDFFF',\r\n        '#EFF3DE',\r\n        '#FFDE94',\r\n        '#FFC741',\r\n        '#D09C10',\r\n        '#795B16',\r\n      ],\r\n      paletteQualitative20: [\r\n        '#215B77',\r\n        '#227BA2',\r\n        '#1B9CD0',\r\n        '#22BAED',\r\n        '#61C9FF',\r\n        '#8AD4FF',\r\n        '#ABDFFF',\r\n        '#C9E9FF',\r\n        '#EFF3DE',\r\n        '#FFE9B8',\r\n        '#FFDE94',\r\n        '#FFD470',\r\n        '#FFC741',\r\n        '#EDB40A',\r\n        '#D09C10',\r\n        '#A37B16',\r\n        '#795B16',\r\n      ],\r\n    },\r\n  },\r\n});\r\nrosePlot.render();\r\n",title:{zh:"带有贴图图案的玫瑰图",en:"Rose with pattern"},filename:"rose-pattern.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Basic Rose",zh:"基础玫瑰图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*EUesQ4eJ1fcAAAAAAAAAAAAAARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antfincdn/XcLAPaQeeP/rose-data.json')\r\n  .then((data) => data.json())\r\n  .then((data) => {\r\n    // 分组玫瑰图\r\n    const rosePlot = new Rose('container', {\r\n      data,\r\n      xField: 'type',\r\n      yField: 'value',\r\n      isGroup: true,\r\n      // 当 isGroup 为 true 时，该值为必填\r\n      seriesField: 'user',\r\n      radius: 0.9,\r\n      label: {\r\n        offset: -15,\r\n      },\r\n      interactions: [\r\n        {\r\n          type: 'element-active',\r\n        },\r\n      ],\r\n    });\r\n\r\n    rosePlot.render();\r\n  });\r\n",title:{zh:"分组玫瑰图",en:"Basic grouped rose plot"},filename:"basic.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/bVfROtpcku/a1cf2fa2-35ef-4a3a-b2cc-ade53b537e11.png",source:"import { Rose } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/XcLAPaQeeP/rose-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    // 分组玫瑰图\n    const rosePlot = new Rose('container', {\n      data,\n      xField: 'type',\n      yField: 'value',\n      isGroup: true,\n      // 当 isGroup 为 true 时，该值为必填\n      seriesField: 'user',\n      radius: 0.9,\n      label: {\n        offset: -15,\n      },\n      pattern: {\n        type: 'dot',\n      },\n      interactions: [\n        {\n          type: 'element-active',\n        },\n      ],\n    });\n\n    rosePlot.render();\n  });\n",title:{zh:"带贴图的分组玫瑰图",en:"Grouped rose plot with pattern"},filename:"pattern.ts",isNew:!1}],icon:"",id:"grouped",title:{en:"Grouped Rose",zh:"分组玫瑰图"},childrenKey:"demos",order:1},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*4_9_Q63oXWgAAAAAAAAAAAAAARQnAQ",source:"import { Rose } from '@antv/g2plot';\r\n\r\nconst data = [\r\n  {\r\n    type: '分类一',\r\n    value: 27,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '分类二',\r\n    value: 25,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '分类三',\r\n    value: 18,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '分类四',\r\n    value: 15,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '分类五',\r\n    value: 10,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '其它',\r\n    value: 5,\r\n    user: '用户一',\r\n  },\r\n  {\r\n    type: '分类一',\r\n    value: 7,\r\n    user: '用户二',\r\n  },\r\n  {\r\n    type: '分类二',\r\n    value: 5,\r\n    user: '用户二',\r\n  },\r\n  {\r\n    type: '分类三',\r\n    value: 38,\r\n    user: '用户二',\r\n  },\r\n  {\r\n    type: '分类四',\r\n    value: 5,\r\n    user: '用户二',\r\n  },\r\n  {\r\n    type: '分类五',\r\n    value: 20,\r\n    user: '用户二',\r\n  },\r\n  {\r\n    type: '其它',\r\n    value: 15,\r\n    user: '用户二',\r\n  },\r\n];\r\n\r\n// 堆叠玫瑰图\r\nconst rosePlot = new Rose('container', {\r\n  data,\r\n  xField: 'type',\r\n  yField: 'value',\r\n  isStack: true,\r\n  // 当 isStack 为 true 时，该值为必填\r\n  seriesField: 'user',\r\n  radius: 0.9,\r\n  label: {\r\n    offset: -15,\r\n  },\r\n  interactions: [\r\n    {\r\n      type: 'element-active',\r\n    },\r\n  ],\r\n});\r\n\r\nrosePlot.render();\r\n",title:{zh:"堆叠玫瑰图",en:"Basic stacked rose plot"},filename:"basic.ts",isNew:!1}],icon:"",id:"stacked",title:{en:"Stacked Rose",zh:"堆叠玫瑰图"},childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"relation-plots",title:{zh:"关系图",en:"Relation Plots"},icon:"sankey",examples:[{demos:[{id:"alipay",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*bLulSLk-VskAAAAAAAAAAAAAARQnAQ",source:"import { Sankey } from '@antv/g2plot';\n\nconst DATA = [\n  { source: '首次打开', target: '首页 UV', value: 160 },\n  { source: '结果页', target: '首页 UV', value: 40 },\n  { source: '验证页', target: '首页 UV', value: 10 },\n  { source: '我的', target: '首页 UV', value: 10 },\n  { source: '朋友', target: '首页 UV', value: 8 },\n  { source: '其他来源', target: '首页 UV', value: 27 },\n  { source: '首页 UV', target: '理财', value: 30 },\n  { source: '首页 UV', target: '扫一扫', value: 40 },\n  { source: '首页 UV', target: '服务', value: 35 },\n  { source: '首页 UV', target: '蚂蚁森林', value: 25 },\n  { source: '首页 UV', target: '跳失', value: 10 },\n  { source: '首页 UV', target: '借呗', value: 30 },\n  { source: '首页 UV', target: '花呗', value: 40 },\n  { source: '首页 UV', target: '其他流向', value: 45 },\n];\n\nconst sankey = new Sankey('container', {\n  data: DATA,\n  sourceField: 'source',\n  targetField: 'target',\n  weightField: 'value',\n  nodeWidthRatio: 0.008,\n  nodePaddingRatio: 0.03,\n});\n\nsankey.render();\n",title:{zh:"支付宝流量桑基图",en:"Alipay sankey"},filename:"alipay.ts",isNew:!1},{id:"set-state",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/rAuJKL%24Y6n/7a301a5e-4864-44f3-acb7-ebefb9c2402b.png",source:"import { Sankey } from '@antv/g2plot';\n\nconst DATA = [\n  { source1: '首次打开', target: '首页 UV', value: 160 },\n  { source1: '结果页', target: '首页 UV', value: 40 },\n  { source1: '验证页', target: '首页 UV', value: 10 },\n  { source1: '我的', target: '首页 UV', value: 10 },\n  { source1: '朋友', target: '首页 UV', value: 8 },\n  { source1: '其他来源', target: '首页 UV', value: 27 },\n  { source1: '首页 UV', target: '理财', value: 30 },\n  { source1: '首页 UV', target: '扫一扫', value: 40 },\n  { source1: '首页 UV', target: '服务', value: 35 },\n  { source1: '首页 UV', target: '蚂蚁森林', value: 25 },\n  { source1: '首页 UV', target: '跳失', value: 10 },\n  { source1: '首页 UV', target: '借呗', value: 30 },\n  { source1: '首页 UV', target: '花呗', value: 40 },\n  { source1: '首页 UV', target: '其他流向', value: 45 },\n];\n\nconst sankey = new Sankey('container', {\n  data: DATA,\n  sourceField: 'source1',\n  targetField: 'target',\n  weightField: 'value',\n  nodeWidthRatio: 0.018,\n  nodePaddingRatio: 0.03,\n  nodeState: {\n    active: {\n      style: {\n        linewidth: 1.5,\n      },\n    },\n  },\n  tooltip: { showTitle: true },\n});\n\nsankey.render();\nsankey.setState('active', (datum) => {\n  return datum.isNode && datum.name === '首次打开';\n});\n",title:{zh:"桑基图状态交互",en:"Sankey with state"},filename:"set-state.ts",isNew:!1},{id:"energy",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*W-V0QYiLLbgAAAAAAAAAAAAAARQnAQ",source:"import { Sankey } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/fa3414cc-75ed-47b4-8306-f2ffe8c40127.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const sankey = new Sankey('container', {\n      data,\n      sourceField: 'source',\n      targetField: 'target',\n      weightField: 'value',\n      color: ['red', 'green', 'yellow'],\n      edgeStyle: {\n        fill: '#ccc',\n        fillOpacity: 0.4,\n      },\n    });\n\n    sankey.render();\n  });\n",title:{zh:"能量关系桑基图",en:"Energy sankey"},filename:"energy.ts",isNew:!1},{id:"draggable",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/n1taFikWlA/aedefca9-04ba-4588-97ec-82903c039224.png",source:"/**\n * @file Parallel sets are like parallel coordinates, but for categorical dimensions.\n *\n * Parallel Sets: Visual Analysis of Categorical Data. See more in https://kosara.net/publications/Bendix-InfoVis-2005.html\n */\nimport { Sankey } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/nokcOpy6fF/draggable-sankey.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const sankeyData = [];\n    const keys = ['Survived', 'Sex', 'Age', 'Class'];\n    data.forEach((d) => {\n      keys.reduce((a, b) => {\n        if (a && b) {\n          sankeyData.push({\n            source: d[a],\n            target: d[b],\n            value: d.value,\n            path: `${d[keys[0]]} -> ${d[keys[1]]} -> ${d[keys[2]]} -> ${d[keys[3]]}`,\n          });\n        }\n        return b;\n      });\n    });\n\n    const sankey = new Sankey('container', {\n      data: sankeyData,\n      sourceField: 'source',\n      targetField: 'target',\n      weightField: 'value',\n      nodeWidthRatio: 0.01,\n      nodePaddingRatio: 0.03,\n      nodeDraggable: true,\n      rawFields: ['path'],\n      tooltip: {\n        fields: ['path', 'value'],\n        formatter: ({ path, value }) => {\n          return {\n            name: path,\n            value: value,\n          };\n        },\n      },\n    });\n\n    sankey.render();\n  });\n",title:{zh:"可拖拽节点桑基图",en:"Draggable sankey"},filename:"draggable.ts",isNew:!1},{id:"node-sort-sankey",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/l8TGmjgWln/483b273b-d030-47fd-af1b-eee971d71014.png",source:"import { Sankey } from '@antv/g2plot';\n\nconst DATA = [\n  { source: '首次打开', target: '首页 UV', value: 160 },\n  { source: '结果页', target: '首页 UV', value: 40 },\n  { source: '验证页', target: '首页 UV', value: 10 },\n  { source: '我的', target: '首页 UV', value: 10 },\n  { source: '朋友', target: '首页 UV', value: 8 },\n  { source: '其他来源', target: '首页 UV', value: 27 },\n  { source: '首页 UV', target: '理财', value: 30 },\n  { source: '首页 UV', target: '扫一扫', value: 40 },\n  { source: '首页 UV', target: '服务', value: 35 },\n  { source: '首页 UV', target: '蚂蚁森林', value: 25 },\n  { source: '首页 UV', target: '跳失', value: 10 },\n  { source: '首页 UV', target: '借呗', value: 30 },\n  { source: '首页 UV', target: '花呗', value: 40 },\n  { source: '首页 UV', target: '其他流向', value: 45 },\n];\n\nconst sankey = new Sankey('container', {\n  data: DATA,\n  sourceField: 'source',\n  targetField: 'target',\n  weightField: 'value',\n  nodeWidthRatio: 0.008,\n  nodePaddingRatio: 0.03,\n  // 支持节点排序，降序\n  nodeSort: (a, b) => b.value - a.value,\n  // 支持边排序，降序\n  // linkSort: (a, b) => b.value - a.value,\n});\n\nsankey.render();\n",title:{zh:"节点排序前桑基图",en:"NodeSort sankey"},filename:"node-sort-sankey.ts",isNew:!1}],icon:"",id:"sankey",title:{en:"Sankey",zh:"桑基图"},childrenKey:"demos",order:0},{demos:[{id:"chord-population",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*LjN9Sqfo6nsAAAAAAAAAAAAAARQnAQ",source:"import { Chord } from '@antv/g2plot';\n\nconst DATA = [\n  { source: '北京', target: '天津', value: 30 },\n  { source: '北京', target: '上海', value: 80 },\n  { source: '北京', target: '河北', value: 46 },\n  { source: '北京', target: '辽宁', value: 49 },\n  { source: '北京', target: '黑龙江', value: 69 },\n  { source: '北京', target: '吉林', value: 19 },\n  { source: '天津', target: '河北', value: 62 },\n  { source: '天津', target: '辽宁', value: 82 },\n  { source: '天津', target: '上海', value: 16 },\n  { source: '上海', target: '黑龙江', value: 16 },\n  { source: '河北', target: '黑龙江', value: 76 },\n  { source: '河北', target: '内蒙古', value: 24 },\n  { source: '内蒙古', target: '北京', value: 32 },\n];\n\nconst chord = new Chord('container', {\n  data: DATA,\n  sourceField: 'source',\n  targetField: 'target',\n  weightField: 'value',\n});\n\nchord.render();\n",title:{zh:"人口流动弦图",en:"chord"},filename:"chord-population.ts",isNew:!1},{id:"custom-tooltip",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*LjN9Sqfo6nsAAAAAAAAAAAAAARQnAQ",source:"import { Chord } from '@antv/g2plot';\n\nconst DATA = [\n  { source: '北京', target: '天津', value: 30 },\n  { source: '北京', target: '上海', value: 80 },\n  { source: '北京', target: '河北', value: 46 },\n  { source: '北京', target: '辽宁', value: 49 },\n  { source: '北京', target: '黑龙江', value: 69 },\n  { source: '北京', target: '吉林', value: 19 },\n  { source: '天津', target: '河北', value: 62 },\n  { source: '天津', target: '辽宁', value: 82 },\n  { source: '天津', target: '上海', value: 16 },\n  { source: '上海', target: '黑龙江', value: 16 },\n  { source: '河北', target: '黑龙江', value: 76 },\n  { source: '河北', target: '内蒙古', value: 24 },\n  { source: '内蒙古', target: '北京', value: 32 },\n];\n\nconst chord = new Chord('container', {\n  data: DATA,\n  sourceField: 'source',\n  targetField: 'target',\n  weightField: 'value',\n  tooltip: {\n    fields: ['name', 'source', 'target', 'value', 'isNode'],\n    showContent: true,\n    formatter: (datum) => {\n      const { isNode, name, source, target, value } = datum;\n      if (isNode) {\n        return {\n          name: `${name}(源权重)`,\n          value: DATA.filter((d) => d.source === name).reduce((a, b) => a + b.value, 0),\n        };\n      }\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n});\n\nchord.render();\n",title:{zh:"和弦图 - 自定义 tooltip",en:"chord"},filename:"custom-tooltip.ts",isNew:!1}],icon:"",id:"chord",title:{en:"Chord",zh:"弦图"},childrenKey:"demos",order:28}],childrenKey:"examples"},{id:"heatmap",title:{zh:"热力图",en:"Heatmap"},icon:"heatmap",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*55KOQI2EhVUAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/a719cd4e-bd40-4878-a4b4-df8a6b531dfe.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      width: 650,\n      height: 500,\n      autoFit: false,\n      data,\n      xField: 'Month of Year',\n      yField: 'District',\n      colorField: 'AQHI',\n      color: ['#174c83', '#7eb6d4', '#efefeb', '#efa759', '#9b4d16'],\n      meta: {\n        'Month of Year': {\n          type: 'cat',\n        },\n      },\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"热力图",en:"Basic heatmap plot"},filename:"basic.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/JitXZA%26D%26S/30a463c4-05ee-4a6b-a69c-c2a7b44a9584.png",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/a719cd4e-bd40-4878-a4b4-df8a6b531dfe.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      width: 650,\n      height: 500,\n      autoFit: false,\n      data,\n      xField: 'Month of Year',\n      yField: 'District',\n      colorField: 'AQHI',\n      color: ['#174c83', '#7eb6d4', '#efefeb', '#efa759', '#9b4d16'],\n      meta: {\n        'Month of Year': {\n          type: 'cat',\n        },\n      },\n      tooltip: {\n        showMarkers: false,\n      },\n      pattern: {\n        type: 'square',\n        cfg: {\n          isStagger: true,\n        },\n      },\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"带贴图热力图",en:"Basic heatmap plot with pattern"},filename:"pattern.ts",isNew:!1},{id:"shape",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*ZG36SowgMVYAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      xField: 'name',\n      yField: 'country',\n      colorField: 'value',\n      shape: 'circle',\n      sizeRatio: 0.5,\n      color: ['#0d5fbb', '#7eadfc', '#fd8b6f', '#aa3523'],\n      label: {\n        style: {\n          fill: '#fff',\n          shadowBlur: 2,\n          shadowColor: 'rgba(0, 0, 0, .45)',\n        },\n      },\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"热力形状图",en:"Shape heatmap plot"},filename:"shape.ts",isNew:!1},{id:"size",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*H1vrQbPFskMAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      xField: 'name',\n      yField: 'country',\n      colorField: 'value',\n      sizeField: 'value',\n      shape: 'square',\n      color: ['#dddddd', '#9ec8e0', '#5fa4cd', '#2e7ab6', '#114d90'],\n      label: {\n        style: {\n          fill: '#fff',\n          shadowBlur: 2,\n          shadowColor: 'rgba(0, 0, 0, .45)',\n        },\n      },\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"热力形状大小映射",en:"Heatmap plot shape size mapping"},filename:"size.ts",isNew:!1},{id:"calendar",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*aLbWR5ioU2UAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap, G2 } from '@antv/g2plot';\n\nG2.registerShape('polygon', 'boundary-polygon', {\n  draw(cfg, container) {\n    const group = container.addGroup();\n    const attrs = {\n      stroke: '#fff',\n      lineWidth: 1,\n      fill: cfg.color,\n      path: [],\n    };\n    const points = cfg.points;\n    const path = [\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z'],\n    ];\n    // @ts-ignore\n    attrs.path = this.parsePath(path);\n    group.addShape('path', {\n      attrs,\n    });\n\n    if (cfg.data.lastWeek) {\n      const linePath = [\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n      ];\n      // 最后一周的多边形添加右侧边框\n      group.addShape('path', {\n        attrs: {\n          path: this.parsePath(linePath),\n          lineWidth: 4,\n          stroke: '#404040',\n        },\n      });\n      if (cfg.data.lastDay) {\n        group.addShape('path', {\n          attrs: {\n            path: this.parsePath([\n              ['M', points[1].x, points[1].y],\n              ['L', points[2].x, points[2].y],\n            ]),\n            lineWidth: 4,\n            stroke: '#404040',\n          },\n        });\n      }\n    }\n    return group;\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/github-commit.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      height: 400,\n      autoFit: false,\n      xField: 'week',\n      yField: 'day',\n      colorField: 'commits',\n      reflect: 'y',\n      shape: 'boundary-polygon',\n      meta: {\n        day: {\n          type: 'cat',\n          values: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\n        },\n        week: {\n          type: 'cat',\n        },\n        commits: {\n          sync: true,\n        },\n        date: {\n          type: 'cat',\n        },\n      },\n      yAxis: {\n        grid: null,\n      },\n      tooltip: {\n        title: 'date',\n        showMarkers: false,\n      },\n      interactions: [{ type: 'element-active' }],\n      xAxis: {\n        position: 'top',\n        tickLine: null,\n        line: null,\n        label: {\n          offset: 12,\n          style: {\n            fontSize: 12,\n            fill: '#666',\n            textBaseline: 'top',\n          },\n          formatter: (val) => {\n            if (val === '2') {\n              return 'MAY';\n            } else if (val === '6') {\n              return 'JUN';\n            } else if (val === '10') {\n              return 'JUL';\n            } else if (val === '15') {\n              return 'AUG';\n            } else if (val === '19') {\n              return 'SEP';\n            } else if (val === '24') {\n              return 'OCT';\n            }\n            return '';\n          },\n        },\n      },\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"日历热力图",en:"Calendar heatmap plot"},filename:"calendar.ts",isNew:!1},{id:"polar",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*cNrISYzITTcAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/polar-heatmap.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      xField: 'time',\n      yField: 'week',\n      colorField: 'value',\n      legend: true,\n      color: '#BAE7FF-#1890FF-#1028ff',\n      coordinate: {\n        // 坐标轴属性配置\n        type: 'polar', // 极坐标\n        cfg: {\n          innerRadius: 0.2,\n        },\n      },\n      heatmapStyle: {\n        stroke: '#f5f5f5',\n        opacity: 0.8,\n      },\n      meta: {\n        time: {\n          type: 'cat',\n        },\n        value: {\n          min: 0,\n          max: 1,\n        },\n      },\n      xAxis: {\n        line: null,\n        grid: null,\n        tickLine: null,\n        label: {\n          offset: 12,\n          style: {\n            fill: '#666',\n            fontSize: 12,\n            textBaseline: 'top',\n          },\n        },\n      },\n      yAxis: {\n        top: true,\n        line: null,\n        grid: null,\n        tickLine: null,\n        label: {\n          offset: 0,\n          style: {\n            fill: '#fff',\n            textAlign: 'center',\n            shadowBlur: 2,\n            shadowColor: 'rgba(0, 0, 0, .45)',\n          },\n        },\n      },\n      tooltip: {\n        showMarkers: false,\n      },\n      interactions: [{ type: 'element-active' }],\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"极坐标色块图",en:"Polar heatmap plot"},filename:"polar.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Heatmap",zh:"热力图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*jr1PQaJMbuQAAAAAAAAAAAAAARQnAQ",source:"import { Heatmap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/heatmap.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      type: 'density',\n      xField: 'g',\n      yField: 'l',\n      colorField: 'tmp',\n      color: '#F51D27-#FA541C-#FF8C12-#FFC838-#FAFFA8-#80FF73-#12CCCC-#1890FF-#6E32C2',\n      legend: {\n        position: 'bottom',\n      },\n      annotations: [\n        {\n          type: 'image',\n          start: ['min', 'max'],\n          end: ['max', 'min'],\n          src: 'https://gw.alipayobjects.com/zos/rmsportal/NeUTMwKtPcPxIFNTWZOZ.png',\n        },\n      ],\n    });\n    heatmapPlot.render();\n  });\n",title:{zh:"密度热力图",en:"Density heatmap"},filename:"basic.ts",isNew:!1}],icon:"",id:"density",title:{en:"Density Heatmap",zh:"密度热力图"},childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"tiny",title:{zh:"迷你图",en:"Tiny Plots"},icon:"other",examples:[{demos:[{id:"basic-line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*rXczRa7xdu8AAAAAAAAAAAAAARQnAQ",source:"import { TinyLine } from '@antv/g2plot';\n\nconst data = [\n  264,\n  417,\n  438,\n  887,\n  309,\n  397,\n  550,\n  575,\n  563,\n  430,\n  525,\n  592,\n  492,\n  467,\n  513,\n  546,\n  983,\n  340,\n  539,\n  243,\n  226,\n  192,\n];\n\nconst tinyLine = new TinyLine('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n});\n\ntinyLine.render();\n",title:{zh:"基础迷你折线图",en:"Basic line plot"},filename:"basic-line.ts",isNew:!1},{id:"line-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*KShOSrCq0X4AAAAAAAAAAAAAARQnAQ",source:"import { TinyLine } from '@antv/g2plot';\n\nconst data = [\n  264,\n  417,\n  438,\n  887,\n  309,\n  397,\n  550,\n  575,\n  563,\n  430,\n  525,\n  592,\n  492,\n  467,\n  513,\n  546,\n  983,\n  340,\n  539,\n  243,\n  226,\n  192,\n];\n\nconst tinyLine = new TinyLine('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n  tooltip: false,\n  annotations: [\n    // 平均值\n    {\n      type: 'line',\n      start: ['min', 'mean'],\n      end: ['max', 'mean'],\n      text: {\n        content: '平均值',\n        offsetY: -2,\n        style: {\n          textAlign: 'left',\n          fontSize: 10,\n          fill: 'rgba(44, 53, 66, 0.45)',\n          textBaseline: 'bottom',\n        },\n      },\n      style: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n      },\n    },\n    {\n      type: 'line',\n      start: ['min', 800],\n      end: ['max', 800],\n      text: {\n        content: '目标值',\n        offsetY: -2,\n        style: {\n          textAlign: 'left',\n          fontSize: 10,\n          fill: 'rgba(44, 53, 66, 0.45)',\n          textBaseline: 'bottom',\n        },\n      },\n      style: {\n        stroke: 'rgba(0, 0, 0, 0.55)',\n      },\n    },\n  ],\n});\n\ntinyLine.render();\n",title:{zh:"带辅助线的迷你折线图",en:"Tiny line plot with annotation"},filename:"line-annotation.ts",isNew:!1}],icon:"",id:"tiny-line",title:{en:"Tiny Line",zh:"迷你折线图"},childrenKey:"demos",order:0},{demos:[{id:"basic-area",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*1dr5RKX8gWIAAAAAAAAAAAAAARQnAQ",source:"import { TinyArea } from '@antv/g2plot';\n\nconst data = [\n  264,\n  417,\n  438,\n  887,\n  309,\n  397,\n  550,\n  575,\n  563,\n  430,\n  525,\n  592,\n  492,\n  467,\n  513,\n  546,\n  983,\n  340,\n  539,\n  243,\n  226,\n  192,\n];\n\nconst tinyArea = new TinyArea('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n});\n\ntinyArea.render();\n",title:{zh:"基础迷你面积图",en:"Basic area plot"},filename:"basic-area.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/DZ4mKJ9Y%240/aeae5577-f5fc-49e1-a4aa-eeb91d76610d.png",source:"import { TinyArea } from '@antv/g2plot';\n\nconst data = [\n  264, 417, 438, 887, 309, 397, 550, 575, 563, 430, 525, 592, 492, 467, 513, 546, 983, 340, 539, 243, 226, 192,\n];\n\nconst tinyArea = new TinyArea('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n  color: '#E5EDFE',\n  pattern: { type: 'line', cfg: { stroke: '#5B8FF9' } },\n});\n\ntinyArea.render();\n",title:{zh:"带贴图的迷你面积图",en:"Tiny area plot with pattern"},filename:"pattern.ts",isNew:!1},{id:"area-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*0zwrR62OaHQAAAAAAAAAAAAAARQnAQ",source:"import { TinyArea } from '@antv/g2plot';\n\nconst data = [\n  264,\n  417,\n  438,\n  887,\n  309,\n  397,\n  550,\n  575,\n  563,\n  430,\n  525,\n  592,\n  492,\n  467,\n  513,\n  546,\n  983,\n  340,\n  539,\n  243,\n  226,\n  192,\n];\n\nconst tinyArea = new TinyArea('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n  tooltip: false,\n  annotations: [\n    // 平均值\n    {\n      type: 'line',\n      start: ['min', 'mean'],\n      end: ['max', 'mean'],\n      text: {\n        content: '平均值',\n        offsetY: -2,\n        style: {\n          textAlign: 'left',\n          fontSize: 10,\n          fill: 'rgba(44, 53, 66, 0.45)',\n          textBaseline: 'bottom',\n        },\n      },\n      style: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n      },\n    },\n    // 目标值\n    {\n      type: 'line',\n      start: ['min', 800],\n      end: ['max', 800],\n      text: {\n        content: '目标值',\n        offsetY: -2,\n        style: {\n          textAlign: 'left',\n          fontSize: 10,\n          fill: 'rgba(44, 53, 66, 0.45)',\n          textBaseline: 'bottom',\n        },\n      },\n      style: {\n        stroke: 'rgba(0, 0, 0, 0.55)',\n      },\n    },\n  ],\n});\n\ntinyArea.render();\n",title:{zh:"带辅助信息的迷你面积图",en:"Tiny area plot with annotations"},filename:"area-annotation.ts",isNew:!1},{id:"filled-area",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*tN1MTpkoO8gAAAAAAAAAAAAAARQnAQ",source:"import { TinyArea } from '@antv/g2plot';\n\nconst data = [\n  264,\n  417,\n  438,\n  887,\n  309,\n  397,\n  550,\n  575,\n  563,\n  430,\n  525,\n  592,\n  492,\n  467,\n  513,\n  546,\n  983,\n  340,\n  539,\n  243,\n  226,\n  192,\n];\n\nconst tinyArea = new TinyArea('container', {\n  height: 60,\n  autoFit: false,\n  data,\n  smooth: true,\n  areaStyle: {\n    fill: '#d6e3fd',\n  },\n});\n\ntinyArea.render();\n",title:{zh:"平铺填充迷你面积图",en:"Filled tiny area plot"},filename:"filled-area.ts",isNew:!1}],icon:"",id:"tiny-area",title:{en:"Tiny Area",zh:"迷你面积图"},childrenKey:"demos",order:1},{demos:[{id:"basic-column",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*tLNqQpXbZWgAAAAAAAAAAAAAARQnAQ",source:"import { TinyColumn } from '@antv/g2plot';\n\nconst data = [274, 337, 81, 497, 666, 219, 269];\n\nconst tinyColumn = new TinyColumn('container', {\n  height: 64,\n  autoFit: false,\n  data,\n  tooltip: {\n    customContent: function (x, data) {\n      return `NO.${x}: ${data[0]?.data?.y.toFixed(2)}`;\n    },\n  },\n});\n\ntinyColumn.render();\n",title:{zh:"基础迷你柱形图",en:"Tiny column plot"},filename:"basic-column.ts",isNew:!1},{id:"tiny-column-pattern",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*tLNqQpXbZWgAAAAAAAAAAAAAARQnAQ",source:"import { TinyColumn } from '@antv/g2plot';\n\nconst data = [274, 337, 81, 497, 666, 219, 269];\n\nconst tinyColumn = new TinyColumn('container', {\n  height: 64,\n  autoFit: false,\n  data,\n  tooltip: {\n    customContent: function (x, data) {\n      return `NO.${x}: ${data[0]?.data?.y.toFixed(2)}`;\n    },\n  },\n  pattern: { type: 'line' },\n});\n\ntinyColumn.render();\n",title:{zh:"带贴图迷你柱形图",en:"Tiny column plot with pattern"},filename:"tiny-column-pattern.ts",isNew:!1},{id:"column-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*wu-HT5PBCF0AAAAAAAAAAAAAARQnAQ",source:"import { TinyColumn } from '@antv/g2plot';\n\nconst data = [274, 337, 81, 497, 666, 219, 269];\n\nconst tinyColumn = new TinyColumn('container', {\n  height: 64,\n  autoFit: false,\n  data,\n  tooltip: false,\n  annotations: [\n    // 平均值\n    {\n      type: 'line',\n      start: ['min', 'mean'],\n      end: ['max', 'mean'],\n      text: {\n        content: '平均值',\n        offsetY: -2,\n        style: {\n          textAlign: 'left',\n          fontSize: 10,\n          fill: 'rgba(44, 53, 66, 0.45)',\n          textBaseline: 'bottom',\n        },\n      },\n      style: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n      },\n    },\n  ],\n});\n\ntinyColumn.render();\n",title:{zh:"带辅助线的迷你柱形图",en:"Tiny column plot with annotation"},filename:"column-annotation.ts",isNew:!1}],icon:"",id:"tiny-column",title:{en:"Tiny Column",zh:"迷你柱形图"},childrenKey:"demos",order:2},{demos:[{id:"progress",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*9mP9TZY3_RkAAAAAAAAAAAAAARQnAQ",source:"import { Progress } from '@antv/g2plot';\n\nconst progress = new Progress('container', {\n  height: 100,\n  width: 300,\n  autoFit: false,\n  percent: 0.7,\n  color: ['#5B8FF9', '#E8EDF3'],\n});\n\nprogress.render();\n",title:{zh:"迷你进度条图",en:"Tiny progress style"},filename:"progress.ts",isNew:!1},{id:"progress-style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*nkCtQKZgcJEAAAAAAAAAAAAAARQnAQ",source:"import { Progress } from '@antv/g2plot';\n\nconst progress = new Progress('container', {\n  height: 100,\n  width: 300,\n  autoFit: false,\n  percent: 0.536,\n  barWidthRatio: 0.3,\n  color: ['#F4664A', '#E8EDF3'],\n});\n\nprogress.render();\n",title:{zh:"迷你进度条图样式",en:"Tiny progress style callback"},filename:"progress-style.ts",isNew:!1}],icon:"",id:"progress",title:{en:"Progress",zh:"进度条图"},childrenKey:"demos",order:3},{demos:[{id:"ring-progress",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*NaLRSIdTx_YAAAAAAAAAAAAAARQnAQ",source:"import { RingProgress } from '@antv/g2plot';\n\nconst ringProgress = new RingProgress('container', {\n  height: 100,\n  width: 100,\n  autoFit: false,\n  percent: 0.7,\n  color: ['#5B8FF9', '#E8EDF3'],\n});\n\nringProgress.render();\n",title:{zh:"迷你进度环图",en:"Basic tiny ring progress"},filename:"ring-progress.ts",isNew:!1},{id:"ring-progress-style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*anmyTKRZhU4AAAAAAAAAAAAAARQnAQ",source:"import { RingProgress } from '@antv/g2plot';\n\nconst ringProgress = new RingProgress('container', {\n  height: 100,\n  width: 100,\n  autoFit: false,\n  percent: 0.6,\n  color: ['#F4664A', '#E8EDF3'],\n  innerRadius: 0.85,\n  radius: 0.98,\n  statistic: {\n    title: {\n      style: { color: '#363636', fontSize: '12px', lineHeight: '14px' },\n      formatter: () => '进度',\n    },\n  },\n});\n\nringProgress.render();\n",title:{zh:"迷你进度环图样式",en:"Tiny ring progress style"},filename:"ring-progress-style.ts",isNew:!1}],icon:"",id:"ring-progress",title:{en:"Ring Progress",zh:"进度环图"},childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"more-plots",title:{zh:"更多图表",en:"More Plots"},icon:"other",examples:[{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*W-b2QoNhip0AAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\n// 数据更新于 2021.01.09\nconst data = [\n  { name: 'G2', star: 10371 },\n  { name: 'G6', star: 7380 },\n  { name: 'F2', star: 7414 },\n  { name: 'L7', star: 2140 },\n  { name: 'X6', star: 660 },\n  { name: 'AVA', star: 885 },\n  { name: 'G2Plot', star: 1626 },\n];\nconst radarPlot = new Radar('container', {\n  data: data.map((d) => ({ ...d, star: Math.sqrt(d.star) })),\n  xField: 'name',\n  yField: 'star',\n  appendPadding: [0, 10, 0, 10],\n  meta: {\n    star: {\n      alias: 'star 数量',\n      min: 0,\n      nice: true,\n      formatter: (v) => Number(v).toFixed(2),\n    },\n  },\n  xAxis: {\n    tickLine: null,\n  },\n  yAxis: {\n    label: false,\n    grid: {\n      alternateColor: 'rgba(0, 0, 0, 0.04)',\n    },\n  },\n  // 开启辅助点\n  point: {\n    size: 2,\n  },\n  area: {},\n});\nradarPlot.render();\n",title:{zh:"基础雷达图",en:"Basic radar plot"},filename:"basic.ts",isNew:!1},{id:"line",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*exgfQbvqKlMAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"基础雷达图",en:"Radar plot"},filename:"line.ts",isNew:!1},{id:"line-grid",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*E70qQpBJ2kMAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      yAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            type: 'line',\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"基础雷达图(带网格)",en:"Radar plot (with grid)"},filename:"line-grid.ts",isNew:!1},{id:"line-alternate-grid",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*gexzT7Y8X0oAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      yAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            type: 'line',\n            style: {\n              lineDash: null,\n            },\n          },\n          alternateColor: 'rgba(0, 0, 0, 0.04)',\n        },\n      },\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"基础雷达图(带底色)",en:"Basic radar plot (with alternate grid)"},filename:"line-alternate-grid.ts",isNew:!1},{id:"area",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*O0wxQawDULkAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      // 开启面积\n      area: {},\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"雷达图(面)",en:"Area radar plot"},filename:"area.ts",isNew:!1},{id:"area-grid",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*AJOVQaiILQoAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      yAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            type: 'line',\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      // 开启面积\n      area: {},\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"雷达图(带网格)",en:"Area radar plot (with grid)"},filename:"area-grid.ts",isNew:!1},{id:"area-alternate-grid",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*XL8YQJmbIEIAAAAAAAAAAAAAARQnAQ",source:"import { Radar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/svFjSfJkYy/radar.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const radarPlot = new Radar('container', {\n      data,\n      xField: 'item',\n      yField: 'score',\n      seriesField: 'user',\n      meta: {\n        score: {\n          alias: '分数',\n          min: 0,\n          max: 80,\n        },\n      },\n      xAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            style: {\n              lineDash: null,\n            },\n          },\n        },\n      },\n      yAxis: {\n        line: null,\n        tickLine: null,\n        grid: {\n          line: {\n            type: 'line',\n            style: {\n              lineDash: null,\n            },\n          },\n          alternateColor: 'rgba(0, 0, 0, 0.04)',\n        },\n      },\n      // 开启面积\n      area: {},\n      // 开启辅助点\n      point: {\n        size: 2,\n      },\n    });\n    radarPlot.render();\n  });\n",title:{zh:"雷达图(面-带底色)",en:"Area radar plot (with alternate grid)"},filename:"area-alternate-grid.ts",isNew:!1}],icon:"",id:"radar",title:{en:"Radar",zh:"雷达图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*Ob1jSbCUl8cAAAAAAAAAAABkARQnAQ",source:"import { Treemap } from '@antv/g2plot';\n\nconst data = {\n  name: 'root',\n  children: [\n    { name: '分类 1', value: 560 },\n    { name: '分类 2', value: 500 },\n    { name: '分类 3', value: 150 },\n    { name: '分类 4', value: 140 },\n    { name: '分类 5', value: 115 },\n    { name: '分类 6', value: 95 },\n    { name: '分类 7', value: 90 },\n    { name: '分类 8', value: 75 },\n    { name: '分类 9', value: 98 },\n    { name: '分类 10', value: 60 },\n    { name: '分类 11', value: 45 },\n    { name: '分类 12', value: 40 },\n    { name: '分类 13', value: 40 },\n    { name: '分类 14', value: 35 },\n    { name: '分类 15', value: 40 },\n    { name: '分类 16', value: 40 },\n    { name: '分类 17', value: 40 },\n    { name: '分类 18', value: 30 },\n    { name: '分类 19', value: 28 },\n    { name: '分类 20', value: 16 },\n  ],\n};\n\nconst treemapPlot = new Treemap('container', {\n  data,\n  colorField: 'name',\n});\n\ntreemapPlot.render();\n",title:{zh:"基础矩形树图",en:"Basic treemap plot"},filename:"basic.ts",isNew:!1},{id:"treemap-nest",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*UwprToL8UjcAAAAAAAAAAABkARQnAQ",source:"import { Treemap } from '@antv/g2plot';\nimport { insertCss } from 'insert-css';\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .container{\n    padding: 16px 0px;\n    width: 160px;\n    display: flex;\n    flex-direction: column;\n  }\n  .title{\n    font-weight: bold;\n  }\n  .tooltip-item{\n    margin-top: 12px;\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n  }\n\n`);\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/mobile.json')\n  .then((res) => res.json())\n  .then((fetchData) => {\n    const data = {\n      name: 'root',\n      children: fetchData,\n    };\n    const treemapPlot = new Treemap('container', {\n      data,\n      colorField: 'brand',\n      // 为矩形树图增加缩放,拖拽交互\n      interactions: [\n        {\n          type: 'view-zoom',\n        },\n        {\n          type: 'drag-move',\n        },\n      ],\n      tooltip: {\n        follow: true,\n        enterable: true,\n        offset: 5,\n        customContent: (value, items) => {\n          if (!items || items.length <= 0) return;\n          const { data: itemData } = items[0];\n          const parent = itemData.path[1];\n          const root = itemData.path[itemData.path.length - 1];\n          return (\n            `<div class='container'>` +\n            `<div class='title'>${itemData.name}</div>` +\n            `<div class='tooltip-item'><span>销量</span><span>${itemData.value}</span></div>` +\n            `<div class='tooltip-item'><span>品牌</span><span>${itemData.brand}</span></div>` +\n            `<div class='tooltip-item'><span>品牌占比</span><span>${((itemData.value / parent.value) * 100).toFixed(\n              2\n            )}%</span></div>` +\n            `<div class='tooltip-item'><span>市场占比</span><span>${((itemData.value / root.value) * 100).toFixed(\n              2\n            )}%</span></div>` +\n            `</div>`\n          );\n        },\n      },\n    });\n    treemapPlot.render();\n  });\n",title:{zh:"嵌套矩形树图",en:"Nestted treemap plot"},filename:"treemap-nest.ts",isNew:!1},{id:"drill-down",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*L5akRo112w0AAAAAAAAAAAAAARQnAQ",source:"import { Treemap } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/k5SYI%24mOo1/treemap.json')\n  .then((res) => res.json())\n  .then((rootData) => {\n    const treemapPlot = new Treemap('container', {\n      data: rootData,\n      colorField: 'name',\n      legend: {\n        position: 'top-left',\n      },\n      tooltip: {\n        formatter: (v) => {\n          const root = v.path[v.path.length - 1];\n          return {\n            name: v.name,\n            value: `${v.value}(总占比${((v.value / root.value) * 100).toFixed(2)}%)`,\n          };\n        },\n      },\n      // use `drilldown: { enabled: true }` to\n      // replace `interactions: [{ type: 'treemap-drill-down' }]`\n      interactions: [{ type: 'treemap-drill-down' }],\n      // drilldown: {\n      //   enabled: true,\n      //   breadCrumb: {\n      //     rootText: '初始',\n      //   },\n      // },\n      // 开启动画\n      animation: {},\n    });\n    treemapPlot.render();\n  });\n",title:{zh:"下钻交互",en:"Drill down treemap plot"},filename:"drill-down.ts",isNew:!1}],icon:"",id:"treemap",title:{en:"Treemap",zh:"矩形树图"},childrenKey:"demos",order:0},{demos:[{id:"basic",screenshot:"https://gw.alicdn.com/tfs/TB158FxuAT2gK0jSZPcXXcKkpXa-646-500.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  legend: false,\n});\n\nfunnelPlot.render();\n",title:{zh:"基础漏斗图",en:"Basic funnel plot"},filename:"basic.ts",isNew:!1},{id:"static-field",screenshot:"https://gw.alicdn.com/tfs/TB158FxuAT2gK0jSZPcXXcKkpXa-646-500.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  legend: false,\n  label: {\n    formatter: (datum) => {\n      return `${(datum[Funnel.PERCENT_FIELD] * 100).toFixed(2)}%`;\n    },\n  },\n  conversionTag: {\n    formatter: (datum) => {\n      return `${((datum[Funnel.CONVERSATION_FIELD][1] / datum[Funnel.CONVERSATION_FIELD][0]) * 100).toFixed(2)}%`;\n    },\n  },\n  // 关闭 conversionTag 转化率 展示\n  // conversionTag: false,\n});\n\nfunnelPlot.render();\n",title:{zh:"漏斗图: 使用静态变量",en:"Funnel plot - static field"},filename:"static-field.ts",isNew:!1},{id:"pyramid",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/L88CCTUbpo/9127293d-767c-4a57-8852-e7c27fc4df8d.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  legend: false,\n  shape: 'pyramid',\n});\n\nfunnelPlot.render();\n",title:{zh:"尖底漏斗图",en:"Pyramid funnel plot"},filename:"pyramid.ts",isNew:!1},{id:"dynamic-height",screenshot:"https://gw.alicdn.com/tfs/TB1Tgtyurj1gK0jSZFOXXc7GpXa-786-503.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  dynamicHeight: true,\n  legend: false,\n});\n\nfunnelPlot.render();\n",title:{zh:"动态高度漏斗图",en:"Dynamic height funnel plot"},filename:"dynamic-height.ts",isNew:!1},{id:"compare",screenshot:"https://gw.alicdn.com/tfs/TB1Y7dtuAL0gK0jSZFtXXXQCXXa-709-495.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253, company: 'A公司' },\n  { stage: '初试人数', number: 151, company: 'A公司' },\n  { stage: '复试人数', number: 113, company: 'A公司' },\n  { stage: '录取人数', number: 87, company: 'A公司' },\n  { stage: '入职人数', number: 59, company: 'A公司' },\n  { stage: '简历筛选', number: 303, company: 'B公司' },\n  { stage: '初试人数', number: 251, company: 'B公司' },\n  { stage: '复试人数', number: 153, company: 'B公司' },\n  { stage: '录取人数', number: 117, company: 'B公司' },\n  { stage: '入职人数', number: 79, company: 'B公司' },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data,\n  xField: 'stage',\n  yField: 'number',\n  compareField: 'company',\n  meta: {\n    stage: {\n      alias: '行为',\n    },\n    pv: {\n      alias: '人数',\n      formatter: (v) => `${v}次`,\n    },\n  },\n  tooltip: {\n    fields: ['stage', 'number', 'company'],\n    formatter: (v) => ({\n      name: `${v.company}的${v.stage}`,\n      value: v.number,\n    }),\n  },\n  legend: false,\n});\nfunnelPlot.render();\n",title:{zh:"对比漏斗图",en:"Compare funnel plot"},filename:"compare.ts",isNew:!1},{id:"facet",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Zk1rRJvD8zwAAAAAAAAAAAAAARQnAQ",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253, company: 'A公司' },\n  { stage: '初试人数', number: 151, company: 'A公司' },\n  { stage: '复试人数', number: 113, company: 'A公司' },\n  { stage: '录取人数', number: 87, company: 'A公司' },\n  { stage: '入职人数', number: 59, company: 'A公司' },\n  { stage: '简历筛选', number: 303, company: 'B公司' },\n  { stage: '初试人数', number: 251, company: 'B公司' },\n  { stage: '复试人数', number: 153, company: 'B公司' },\n  { stage: '录取人数', number: 117, company: 'B公司' },\n  { stage: '入职人数', number: 79, company: 'B公司' },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data,\n  xField: 'stage',\n  yField: 'number',\n  seriesField: 'company',\n  meta: {\n    stage: {\n      alias: '行为',\n    },\n    pv: {\n      alias: '人数',\n      formatter: (v) => `${v}次`,\n    },\n  },\n  legend: false,\n});\nfunnelPlot.render();\n",title:{zh:"分面漏斗图",en:"Facet funnel plot"},filename:"facet.ts",isNew:!1},{id:"basic-transpose",screenshot:"https://gw.alicdn.com/tfs/TB1EgtsuuT2gK0jSZFvXXXnFXXa-958-591.png",source:"import { Funnel, FUNNEL_CONVERSATION_FIELD } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  isTransposed: true,\n  minSize: 0.3,\n  maxSize: 0.8,\n  label: {\n    formatter: (datum) => {\n      // 提供占比$$percentage$$，转化率$$conversion$$两种格式\n      return `${datum.stage}:${datum.number}`;\n    },\n  },\n  conversionTag: {\n    formatter: (datum) => {\n      return (datum[FUNNEL_CONVERSATION_FIELD][1] / datum[FUNNEL_CONVERSATION_FIELD][0]).toFixed(2);\n    },\n  },\n  tooltip: {\n    formatter: (datum) => {\n      return { name: datum.stage, value: `${datum.number}个` };\n    },\n  },\n});\n\nfunnelPlot.render();\n",title:{zh:"基础漏斗图-转置",en:"Funnel plot-transpose"},filename:"basic-transpose.ts",isNew:!1},{id:"dynamic-height-transpose",screenshot:"https://gw.alicdn.com/tfs/TB1OzRyuq61gK0jSZFlXXXDKFXa-1108-556.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253 },\n  { stage: '初试人数', number: 151 },\n  { stage: '复试人数', number: 113 },\n  { stage: '录取人数', number: 87 },\n  { stage: '入职人数', number: 59 },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data: data,\n  xField: 'stage',\n  yField: 'number',\n  dynamicHeight: true,\n  isTransposed: true,\n  legend: false,\n});\n\nfunnelPlot.render();\n",title:{zh:"动态高度漏斗图-转置",en:"Dynamic height funnel plot"},filename:"dynamic-height-transpose.ts",isNew:!1},{id:"compare-transpose",screenshot:"https://gw.alicdn.com/tfs/TB1Hkluurr1gK0jSZR0XXbP8XXa-1095-565.png",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253, company: 'A公司' },\n  { stage: '初试人数', number: 151, company: 'A公司' },\n  { stage: '复试人数', number: 113, company: 'A公司' },\n  { stage: '录取人数', number: 87, company: 'A公司' },\n  { stage: '入职人数', number: 59, company: 'A公司' },\n  { stage: '简历筛选', number: 303, company: 'B公司' },\n  { stage: '初试人数', number: 251, company: 'B公司' },\n  { stage: '复试人数', number: 153, company: 'B公司' },\n  { stage: '录取人数', number: 117, company: 'B公司' },\n  { stage: '入职人数', number: 79, company: 'B公司' },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data,\n  xField: 'stage',\n  yField: 'number',\n  compareField: 'company',\n  isTransposed: true,\n  conversionTag: {\n    offsetX: 10,\n    style: {\n      fill: '#666',\n      fontSize: 12,\n    },\n  },\n  legend: false,\n});\nfunnelPlot.render();\n",title:{zh:"对比漏斗图-转置",en:"Compare funnel plot"},filename:"compare-transpose.ts",isNew:!1},{id:"facet-transpose",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*lbtdRJjZ4qsAAAAAAAAAAAAAARQnAQ",source:"import { Funnel } from '@antv/g2plot';\n\nconst data = [\n  { stage: '简历筛选', number: 253, company: 'A公司' },\n  { stage: '初试人数', number: 151, company: 'A公司' },\n  { stage: '复试人数', number: 113, company: 'A公司' },\n  { stage: '录取人数', number: 87, company: 'A公司' },\n  { stage: '入职人数', number: 59, company: 'A公司' },\n  { stage: '简历筛选', number: 303, company: 'B公司' },\n  { stage: '初试人数', number: 251, company: 'B公司' },\n  { stage: '复试人数', number: 153, company: 'B公司' },\n  { stage: '录取人数', number: 117, company: 'B公司' },\n  { stage: '入职人数', number: 79, company: 'B公司' },\n];\n\nconst funnelPlot = new Funnel('container', {\n  data,\n  xField: 'stage',\n  yField: 'number',\n  seriesField: 'company',\n  isTransposed: true,\n  meta: {\n    stage: {\n      alias: '行为',\n    },\n    pv: {\n      alias: '人数',\n      formatter: (v) => `${v}次`,\n    },\n  },\n  legend: false,\n});\nfunnelPlot.render();\n",title:{zh:"分面漏斗图-转置",en:"Facet funnel plot-transpose"},filename:"facet-transpose.ts",isNew:!1}],icon:"",id:"funnel",title:{en:"Funnel",zh:"漏斗图"},childrenKey:"demos",order:2},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*85VYTJy5J3gAAAAAAAAAAAAAARQnAQ",source:"import { Waterfall } from '@antv/g2plot';\n\nconst data = [\n  { type: '日用品', money: 120 },\n  { type: '伙食费', money: 900 },\n  { type: '交通费', money: 200 },\n  { type: '水电费', money: 300 },\n  { type: '房租', money: 1200 },\n  { type: '商场消费', money: 1000 },\n  { type: '红包收入', money: -2000 },\n];\n\nconst waterfallPlot = new Waterfall('container', {\n  data,\n  xField: 'type',\n  yField: 'money',\n  appendPadding: [15, 0, 0, 0],\n  meta: {\n    type: {\n      alias: '类别',\n    },\n    money: {\n      alias: '收支',\n      formatter: (v) => `${v} 元`,\n    },\n  },\n  label: {\n    style: { fontSize: 10, fill: 'rgba(0,0,0,0.65)' },\n    layout: [{ type: 'interval-adjust-position' }],\n  },\n  total: {\n    label: '总支出',\n    style: {\n      fill: '#96a6a6',\n    },\n  },\n});\n\nwaterfallPlot.render();\n",title:{zh:"基础瀑布图 - 每月收支情况",en:"Basic waterfall plot"},filename:"basic.ts",isNew:!1},{id:"custom-color",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*vRbXTpFGp0QAAAAAAAAAAAAAARQnAQ",source:"import { Waterfall } from '@antv/g2plot';\n\nconst data = [\n  { month: '2019', value: 23000000 },\n  { month: 'Jan', value: 2200000 },\n  { month: 'Feb', value: -4600000 },\n  { month: 'Mar', value: -9100000 },\n  { month: 'Apr', value: 3700000 },\n  { month: 'May', value: -2100000 },\n  { month: 'Jun', value: 5300000 },\n  { month: 'Jul', value: 3100000 },\n  { month: 'Aug', value: -1500000 },\n  { month: 'Sep', value: 4200000 },\n  { month: 'Oct', value: 5300000 },\n  { month: 'Nov', value: -1500000 },\n  { month: 'Dec', value: 5100000 },\n];\n\nconst waterfallPlot = new Waterfall('container', {\n  data,\n  padding: 'auto',\n  appendPadding: [20, 0, 0, 0],\n  xField: 'month',\n  yField: 'value',\n  meta: {\n    month: {\n      alias: '月份',\n    },\n    value: {\n      alias: '销售量',\n      formatter: (v) => `${v / 10000000} 亿`,\n    },\n  },\n  /** 展示总计 */\n  total: {\n    label: '2020',\n  },\n  color: ({ month, value }) => {\n    if (month === '2019' || month === '2020') {\n      return '#96a6a6';\n    }\n    return value > 0 ? '#f4664a' : '#30bf78';\n  },\n  legend: {\n    custom: true,\n    items: [\n      {\n        name: 'Increase',\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: '#f4664a' } },\n      },\n      {\n        name: 'Decrease',\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: '#30bf78' } },\n      },\n      {\n        name: 'Total',\n        value: 'total',\n        marker: { symbol: 'square', style: { r: 5, fill: '#96a6a6' } },\n      },\n    ],\n  },\n  label: {\n    style: {\n      fontSize: 10,\n    },\n    layout: [{ type: 'interval-adjust-position' }],\n    background: {\n      style: {\n        fill: '#f6f6f6',\n        stroke: '#e6e6e6',\n        strokeOpacity: 0.65,\n        radius: 2,\n      },\n      padding: 1.5,\n    },\n  },\n  waterfallStyle: () => {\n    return {\n      fillOpacity: 0.85,\n    };\n  },\n});\n\nwaterfallPlot.render();\n",title:{zh:"变化瀑布图 - 销售量一年的变化情况",en:"Waterfall plot with custom-color"},filename:"custom-color.ts",isNew:!1},{id:"absolute-label",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*uKKQQ4Xc3GMAAAAAAAAAAAAAARQnAQ",source:"import { Waterfall } from '@antv/g2plot';\n\nconst data = [\n  { month: '一月', value: 6200000 },\n  { month: '二月', value: -600000 },\n  { month: '三月', value: -4100000 },\n  { month: '四月', value: 3700000 },\n  { month: '五月', value: -2100000 },\n  { month: '六月', value: 5300000 },\n  { month: '七月', value: 3100000 },\n  { month: '八月', value: -500000 },\n  { month: '九月', value: 4200000 },\n  { month: '十月', value: 5300000 },\n  { month: '十一月', value: -500000 },\n  { month: '十二月', value: 5100000 },\n];\n\nconst waterfallPlot = new Waterfall('container', {\n  data,\n  padding: 'auto',\n  appendPadding: [20, 0, 0, 0],\n  xField: 'month',\n  yField: 'value',\n  meta: {\n    month: {\n      alias: '月份',\n    },\n    value: {\n      alias: '销售量',\n      formatter: (v) => `${v / 10000000} 亿`,\n    },\n  },\n  /** 展示总计 */\n  total: {\n    label: '总计',\n    style: {\n      fill: '#96a6a6',\n    },\n  },\n  /** 数据标签展示模式：绝对值 */\n  labelMode: 'absolute',\n  label: {\n    style: {\n      fontSize: 10,\n    },\n    background: {\n      style: {\n        fill: '#f6f6f6',\n        radius: 1,\n      },\n      padding: 1.5,\n    },\n  },\n});\n\nwaterfallPlot.render();\n",title:{zh:"瀑布图 - 数值标签展示绝对值",en:"Waterfall plot with absolute-label-dataMode"},filename:"absolute-label.ts",isNew:!1},{id:"annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*xOfKT5qr9R4AAAAAAAAAAAAAARQnAQ",source:"import { Waterfall } from '@antv/g2plot';\n\nconst data = [\n  { quarter: '第一季度', value: 6200000 },\n  { quarter: '第二季度', value: -2600000 },\n  { quarter: '第三季度', value: 4100000 },\n  { quarter: '第四季度', value: 3700000 },\n];\n\nconst formatter = (v) => `${v / 10000000} 亿`;\n\nconst annotations = [];\ndata.reduce((v, d) => {\n  annotations.push({\n    type: 'text',\n    position: () => {\n      const y = v + d.value / 2;\n      return [d.quarter, y];\n    },\n    content: formatter(d.value),\n    style: {\n      fontSize: 14,\n      stroke: '#666',\n      fill: '#fff',\n      lineWidth: 1,\n      textAlign: 'center',\n      verticalAlign: 'middle',\n    },\n  });\n  return v + d.value;\n}, 0);\n\nconst waterfallPlot = new Waterfall('container', {\n  data,\n  padding: 'auto',\n  appendPadding: [20, 0, 0, 0],\n  xField: 'quarter',\n  yField: 'value',\n  meta: {\n    quarter: {\n      alias: '月份',\n    },\n    value: {\n      alias: '销售量',\n      min: 0,\n      formatter,\n    },\n  },\n  /** 展示总计 */\n  total: {\n    label: '总计',\n    style: {\n      fill: '#96a6a6',\n    },\n  },\n  /** 数据标签展示模式：绝对值 */\n  labelMode: 'absolute',\n  label: {\n    style: {\n      fontSize: 12,\n    },\n  },\n\n  annotations,\n});\n\nwaterfallPlot.render();\n",title:{zh:"瀑布图 - 添加标注",en:"Waterfall plot with annotation"},filename:"annotation.ts",isNew:!1}],icon:"",id:"waterfall",title:{en:"Waterfall",zh:"瀑布图"},childrenKey:"demos",order:3},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*MBDPS6YX7y0AAAAAAAAAAAAAARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antfincdn/jPKbal7r9r/mock.json')\r\n  .then((res) => res.json())\r\n  .then((data) => {\r\n    const wordCloud = new WordCloud('container', {\r\n      data,\r\n      wordField: 'x',\r\n      weightField: 'value',\r\n      color: '#122c6a',\r\n      wordStyle: {\r\n        fontFamily: 'Verdana',\r\n        fontSize: [24, 80],\r\n      },\r\n      // 设置交互类型\r\n      interactions: [{ type: 'element-active' }],\r\n      state: {\r\n        active: {\r\n          // 这里可以设置 active 时的样式\r\n          style: {\r\n            lineWidth: 3,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    wordCloud.render();\r\n  });\r\n",title:{zh:"词云图",en:"Basic word cloud plot"},filename:"basic.ts",isNew:!1},{id:"image-mask",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*id4CSZIMCtsAAAAAAAAAAABkARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/antv-keywords.json')\r\n  .then((res) => res.json())\r\n  .then((data) => {\r\n    const wordCloud = new WordCloud('container', {\r\n      data,\r\n      wordField: 'name',\r\n      weightField: 'value',\r\n      colorField: 'name',\r\n      imageMask: 'https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*07tdTIOmvlYAAAAAAAAAAABkARQnAQ',\r\n      wordStyle: {\r\n        fontFamily: 'Verdana',\r\n        fontSize: [8, 32],\r\n      },\r\n    });\r\n\r\n    wordCloud.render();\r\n  });\r\n",title:{zh:"词云图-图片遮罩",en:"Word cloud plot - image mask"},filename:"image-mask.ts",isNew:!1},{id:"image-mask-base64",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*qkYyQqFTU4YAAAAAAAAAAAAAARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/antv-keywords.json')\r\n  .then((res) => res.json())\r\n  .then((data) => {\r\n    const wordCloud = new WordCloud('container', {\r\n      data,\r\n      wordField: 'name',\r\n      weightField: 'value',\r\n      colorField: 'name',\r\n      imageMask:\r\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcoAAADHCAIAAAAWF4ThAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAA5GSURBVHhe7d1teuOoFkXhO5+MJ/PxeDyezKcvyKTixLYEnLMPIK/3Vz9dHxYCluRUrPzvPwCAAHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFeAUCCvAKABHkFAAnyCgAS5BUAJMgrAEiQVwCQIK8AIEFegR7Xz/91+bh8lb8Bp0degR7kFYfIK9CDvOLQafP6daD8tmWVYTwqvw4x8opDJ8hrSsr1erl8fn5+JGUR18t/6CP94c/L5Xq9Ttmn2wjbBngbVRoSwdUgrzi0Zl5TblJPO1pabXybtqK6DfEjXz1iBvOVDztCviZm23UxXxhDJ4u84tBSeU1RlTb1lcA2qceYoqQeyddlwBTd2cKbL43leETIKw4tkdctOWV1DpU2rqqz6YY88NKhjOzovP6imzHyikNz53Wart77vJajczJskKLGTpXXb9tdu+toySsOzZrXKcN645fXCQaZbu68d/uUeS0c72XJKw5NmNf8LrksxSm55HWmy4fzXezMed34NJa84tBceZ29rBt7Xq/zBchx00+f1435mkJeZxb9fSQvzJPX/P08ZQXOzSGvnTtTy2vfr5HXzDRi8jqf9J4wVeS2/Lz/iaTLHHldZ0cmZ81r4vN1j5UmM93ElsNuRV4nkb8J/vPx1oy8bpbajdmJ8+qyKFeb0M7Ckteh7m9UnyKveY0u1tbk1Hl1GN5y18u+5JHXeOXTmuVM7nv3vH5NXZnXTp5X8wAXzGtP9MhrlL6Ph791Xldta3L6vBoLsGRe2wdNXkN0r6Y3zuu6bU1myGt+okn5TwnLGBfNa2v4yGsI8tpo6bYm0Xn9fkLJy+/kS79Q/yWpSoZBLpvXtlGT1xDktYV4730/LWmL0Ysc3X7pKz/ELn9Hx/YU1fLHqwTldftsUeNO3J4LU/68Uf8o+6f4I494123S8vfhaO7eG9pHXkOQ13qiG9fbY5Gsq3bbvRVfQxfndXv4SPmNfXwuYd3DtOS1deD5Wx5dO1t/COQ1BHmt5LPrf3F8QscfO2+3ZXl1HI3Hvxz2jjMyr4Xjh6mrj4G8hiCvVZzjqgvrH4/3R4q8CoZjDmxvBwbkdePU2NqDIK8hyGsFz7iGlfXeXWW985q/4lh+wZc1sJ0DHZXXzKOwlUdBXkOQ10N+cXV+dl6rLbKOeU1XCuVwjOe9MwQj85pYLyq1G5O8hiCvB9ziepqFeduZAcMxnvq+FTo4rw6BrRo3eQ1BXvfZ7yY2Y29bfaW3sEF7zHbyF82r+YJedRzkNQR53WNd6TdTnKoV2U5/XwnG59W86mrWG3kNQV53eNy6num+NZxpApbNq7WvZ8/r7TMatw9p/FJ+ofy2GZDXl6w3ERk3riZvmlfj0qs5kIXyun1epv2jbrePQF7sH9ixIK+v2G9dZ7jSr800B30rdIq86q8r0+c1RfXS/hy/l24fjSx/t5/8M6B2lZfvUP6CCrJv4BHm1VxX4mr3tnk13b4undeUVceqPsrfHDnJPHmRzYkur9a6ElcHtsX7tnmtGfmEeX38hKGO170see1hPmtTfOlkeaZrXOeiI6+7NFvZ8akLLewf8yGvHawnTTbe9yJvzDMnyGvNgUyT10Fl/WEaEXntYPzKALeuLmxLt3fNkdddrlt5eFq/dY+KvLaz1VU22DdjXLm917g58mpagjUHMj6vs6T1W9cXCshrM+o6g0F1PUNea8Y+Nq/ptrX8fVNpHxx5bWU7Y9TVh3H/9U/DFHk1jb7qOAbmdYokvdI4PvLaSr+0ccS6ag3TMENebcOvunEfllfjdTNAyxsf8trINv3d70nxw7xmLbMwQV4jluCYvE5Ro2P1gySvbWzni7ra2VesaRbG59VW18qjGJFX28BiVa4h8trGtARk43wf9i1onITReTWegNqDiM/rSnHNqgJLXtuYFoH15rU8UC1MedlpeCxW8xwMzau1QdXHEJ1Xz7jmJ2H9PH7wn/S/tudqld9lVjNU8trEdLqMw4yfKmuKXLkM377SxuXV4buV6g8hNq8+ca1+UIDXY2EqBvvkqbP3up+i8JEvILVs6+4197ya1oGxVu+cV5+x2+NqORLLq39dPU5Aw3xG5tVhcnueDuBxToe9F5pia5JXk0ny6jVwl+GE59XtQVFNrx+YV/Otq+XBK9a1ZblmJuT1nmkyjDPhVpl6M8yh26idBtN/PG3znx8X7foAvrbxx+XVWFf7tNpWmG1Xd782ef2LvLbye6SH9dz/MOR1+weXV/KPM8ny4+XLH/DUegKi8jqybf/YDsKyS7pfmbz+RV6bOA7XL64jZsFB+wkIyuvQDXXHdByGbdL9uuT1L/JazXWovqOInwWznhMQk1fLyXSMa2b5GkX/Cus+AeT1L/JaJf/0t/L6DszPm/9rtbx2rrqQvFrOpfvaNBxM/87uflHy+hd5PeT8/GTrGX8mfhYsumcwJK/9d4yTzWz34ZDXe7a9ZTwlJ8+r9/AUOzCJn4Vuljv3iLzOVVfT1PbulO6XJK8PyOsr7kNz/5rAP/Gz0MX6U/gC8tp/JkVXzgFH1P2Kp8yr4YKbGFdF/MYOmUP3Yak23038LLRzOAMBee3fS7J1GX5I5PUX8urKf0i629Zi9rw6XVz0ee0/kU5DfCL8mLpf8Jx5tW0u2zmJ39jSOfQfjm7b3YmfhWr2H8v/Q5/XCW9e4w+KvP5i21y2/X+ivDp/h0DimZZdc+Y1D991/BPnVXkV7Z9d8uqh//KW2U7KwcPNXunvgWYO3QMVltZstrxWP4WvjTyv0SGrQ15b+OfVuLtGnJXoNzx73G9bQ9OaTZPXD/c71nvktVHfPTV5/cN2+6p8Y/PKNHn1LlN4WrPReU1VTber8nGT10bk1YVxew3o6xx5dc7Sh+QtcQXncVT4SEX9vFzyTzcpxxBg3rxKd1D/7JJXH7bb1wF9nSCvrk1Kt2/Rp/COYQPuPpDwl/LTocpLjkBeG5FXJ8a+hp+Z4Xm1nrA7Y9OaRW/AQebNq3T/RB8VeX3QPwVF8KkZm1e/f8sa8qXWB+R1F3ltQl4fmfsau9FG5tXrxnWOtGbkddfiee1er52TS16fMPc19OwMy6v9NN1M1SXyuqt+kNElq0JeW4jy6hGOuPMzKK8+cZ2uSeR1V0BehVunf3I7j4m8PuXRjqgzNGQd97/oj3m+InCHvO6qH+SMJ7J71fYeEnl9zqOvQedoQF4dzs6sMSKvuxoGOWBdHog/IvL6gktfQ7Zc+KKxn5qJS0RedzUM0rBMNHEZMLXdL3n2vFqy9Yv8REXn1Xpe5s4Qed3VMsjJ+jpiZsnra4bl8cuH9lzF5tUY1+kbRF53NQ3SsFb8t8yQ2JPXPcaW3BHuvci8Gq84CxSIvO5qG6Rh/3ifzTGp715NUywmdV6tOflF9Q/lgXm1nY4prshHyOuuxkEaoua6XCwL13Ic/a87w2aR59U3sIngSVBxebVsllXqQ153tQ7StGS8EmPaw6aDMLzyBH0NyKtxhTyV72P9tmJYXt+hruR1X/MgbbvH45ya4mo9AMPwx/c1JK/WJfKK/XH0X/mHA4RdmN+iruR1X/sgrZvHdlpNbXWYU8vohy+ooLyaZ2lffkD99jTlmrOZftf1evl0eU5VU17N2yRc1+WfvO7qGKR973T+q4X9JxPZbyBtgx+8pMLy6rFIqpU6/FF+0VPL6gkcvxfy+lpgXu1X5k3Tez2Xn/lmj2tivis5OOFppLJnJAfmNXFZJTNpWD8L1pW87gjNq+fW2X4W2dN3evnnP1wvF6/nDztNp8fG2cZ8P+TyFrbcc8kWXmxe14zMjob+rHhpIa+vBed1uZ3jN5n6nXOavCZnKmx9f5YcNXl9LTqvyUJXaM+p1G+dM+U1OU1hyesj8rrLNMhFAtu1bl6T752T5TU5R2Hr19FCdx4/yOtrQ/K6wr4RzKJ60OfLa+Lyj5NjkddH5HWXfZBTbxvnG9dv2u1zyrxmiyeWvD4ir7tcBjnnrun7Puk60hvY0+Y1Wzix5PURed3lNUj1G+ZW8skT7qBT5zX7yt+EVga7hu076crRVyCvx8hrm2nuSzo/FNZKtodOn9fNIo3dHnVQDrkaeT1GXtsNT2xQWm9Eg32PvN7kBTNpZBvvWO+R12Pktc+o2xLDduinKOw75fVmqjvZ20fqypH1Ia/HyKtB7IYZUtZv7l92fr+8FvlD0MMym9aQ2yIir8fIq5l8u2xfGZtgmr48x/m2ef1n62xAaNPysd+qPkFej5FXL7e7Es/dcnsoSvnrZ+HydUTlwJbJ653ytJt0Zs3nNv8Vn6mn1Q+LBZaSQ7vtlbLiW2y3Gop7DWfbEBtHmDe+fmgr5vVRSmNO7k1aTE+kgBbbbyaleEPb0r9tg4dtku8xsqV3x/fw8iXll+/9Hzu6c+QVAKZDXgFAgrwCgAR5BQAJ8goAEuQVACTIKwBIkFcAkCCvACBBXgFAgrwCgAR5BQAJ8goAEuQVACTIKwBIkFcAkCCvACBBXgFAgrwCgAR5BQAJ8goAEuQVACTIKwBIkFcAkCCvACBBXgFAgrwCgAR5BQAJ8goAEuQVACTIKwBIkFcAkCCvACBBXgFAgrwCgAR5BQAJ8goAEuQVACTIKwBIkFcAkCCvACBBXgFAgrwCgAR5BQAJ8goAEuQVAAT+++//CT3TAOpn61kAAAAASUVORK5CYII=',\r\n      wordStyle: {\r\n        fontFamily: 'Verdana',\r\n        fontSize: [8, 32],\r\n      },\r\n    });\r\n\r\n    wordCloud.render();\r\n  });\r\n",title:{zh:"词云图-图片遮罩-base64",en:"Word cloud plot - image mask base64"},filename:"image-mask-base64.ts",isNew:!1},{id:"color-field",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*id4CSZIMCtsAAAAAAAAAAABkARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/antv-keywords.json')\r\n  .then((res) => res.json())\r\n  .then((data) => {\r\n    const wordCloud = new WordCloud('container', {\r\n      data,\r\n      wordField: 'name',\r\n      weightField: 'value',\r\n      colorField: 'value',\r\n      imageMask: 'https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*07tdTIOmvlYAAAAAAAAAAABkARQnAQ',\r\n      wordStyle: {\r\n        fontFamily: 'Verdana',\r\n        fontSize: [8, 32],\r\n      },\r\n    });\r\n\r\n    wordCloud.render();\r\n  });\r\n",title:{zh:"词云图-colorField",en:"Word cloud plot - colorField"},filename:"color-field.ts",isNew:!1},{id:"same-place",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*CDgnRaN9iXkAAAAAAAAAAAAAARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/antv-keywords.json')\r\n  .then((res) => res.json())\r\n  .then((data) => {\r\n    const wordCloud = new WordCloud('container', {\r\n      data,\r\n      wordField: 'name',\r\n      weightField: 'value',\r\n      colorField: 'name',\r\n      wordStyle: {\r\n        fontFamily: 'Verdana',\r\n        fontSize: [8, 32],\r\n        rotation: 0,\r\n      },\r\n      // 返回值设置成一个 [0, 1) 区间内的值，\r\n      // 可以让每次渲染的位置相同（前提是每次的宽高一致）。\r\n      random: () => 0.5,\r\n    });\r\n\r\n    wordCloud.render();\r\n  });\r\n",title:{zh:"词云图-每次渲染保持位置不变",en:"Word cloud plot - keep the position unchanged"},filename:"same-place.ts",isNew:!1},{id:"douban-2020-movie",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/x0MczjNEWG/298b11e6-731c-458b-97c8-f96c77ebb7c1.png",source:"import { WordCloud } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/%24IWXp5slbE/2020-movie-from-douban.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const wordCloud = new WordCloud('container', {\n      data,\n      wordField: 'title',\n      weightField: 'rate',\n      colorField: 'tag',\n      legend: {},\n      imageMask: 'https://gw.alipayobjects.com/zos/antfincdn/Qw7Xbn76kM/53176454-747c-4f0a-a9e5-936aa66a0082.png',\n      wordStyle: {\n        fontFamily: 'Avenir',\n        fontSize: [8, 16],\n      },\n      state: {\n        active: {\n          style: {\n            lineWidth: 0,\n            shadowBlur: 4,\n            shadowColor: 'rgba(0,0,0,0.3)',\n          },\n        },\n      },\n    });\n\n    wordCloud.render();\n  });\n",title:{zh:"豆瓣 2020 电影 (部分)",en:"Movie of 2020 in DouBan (partial)"},filename:"douban-2020-movie.ts",isNew:!1},{id:"placement-strategy",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*BV6DQYM6KFMAAAAAAAAAAAAAARQnAQ",source:"import { WordCloud } from '@antv/g2plot';\r\n\r\nconst data = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').map((item) => ({ name: item, value: 1 }));\r\n\r\nconst wordCloud = new WordCloud('container', {\r\n  data,\r\n  wordField: 'name',\r\n  weightField: 'value',\r\n  colorField: 'name',\r\n  wordStyle: {\r\n    fontFamily: 'Verdana',\r\n    fontSize: 16,\r\n    rotation: 0,\r\n  },\r\n  placementStrategy(word, index, words) {\r\n    const width = this.ele.clientWidth;\r\n    const height = this.ele.clientHeight;\r\n    const length = words.length;\r\n\r\n    return {\r\n      x: (width / (length + 1)) * (index + 1),\r\n      y: (height / (length + 1)) * (index + 1),\r\n    };\r\n  },\r\n});\r\n\r\nwordCloud.render();\r\n",title:{zh:"词云图-自定义每个词语位置",en:"Word cloud plot - custom placement"},filename:"placement-strategy.ts",isNew:!1}],icon:"",id:"word-cloud",title:{en:"Word Cloud",zh:"词云图"},childrenKey:"demos",order:4},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*cZELRpyp7N4AAAAAAAAAAAAAARQnAQ",source:"import { Histogram } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/RoliHq%2453S/histogram.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const histogramPlot = new Histogram('container', {\n      data,\n      binField: 'value',\n      binWidth: 2,\n    });\n\n    histogramPlot.render();\n  });\n",title:{zh:"基础直方图",en:"Basic histogram plot"},filename:"basic.ts",isNew:!1},{id:"binWidth",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*WTP6S6bzkpsAAAAAAAAAAAAAARQnAQ",source:"import { Histogram } from '@antv/g2plot';\n\nconst data = [\n  { value: 1.2 },\n  { value: 3.4 },\n  { value: 3.7 },\n  { value: 4.3 },\n  { value: 5.2 },\n  { value: 5.8 },\n  { value: 6.1 },\n  { value: 6.5 },\n  { value: 6.8 },\n  { value: 7.1 },\n  { value: 7.3 },\n  { value: 7.7 },\n  { value: 8.3 },\n  { value: 8.6 },\n  { value: 8.8 },\n  { value: 9.1 },\n  { value: 9.2 },\n  { value: 9.4 },\n  { value: 9.5 },\n  { value: 9.7 },\n  { value: 10.5 },\n  { value: 10.7 },\n  { value: 10.8 },\n  { value: 11.0 },\n  { value: 11.0 },\n  { value: 11.1 },\n  { value: 11.2 },\n  { value: 11.3 },\n  { value: 11.4 },\n  { value: 11.4 },\n  { value: 11.7 },\n  { value: 12.0 },\n  { value: 12.9 },\n  { value: 12.9 },\n  { value: 13.3 },\n  { value: 13.7 },\n  { value: 13.8 },\n  { value: 13.9 },\n  { value: 14.0 },\n  { value: 14.2 },\n  { value: 14.5 },\n  { value: 15 },\n  { value: 15.2 },\n  { value: 15.6 },\n  { value: 16.0 },\n  { value: 16.3 },\n  { value: 17.3 },\n  { value: 17.5 },\n  { value: 17.9 },\n  { value: 18.0 },\n  { value: 18.0 },\n  { value: 20.6 },\n  { value: 21 },\n  { value: 23.4 },\n];\n\nconst histogramPlot = new Histogram('container', {\n  data,\n  binField: 'value',\n  binWidth: 4,\n  tooltip: {\n    showMarkers: false,\n    position: 'top',\n  },\n  interactions: [\n    {\n      type: 'element-highlight',\n    },\n  ],\n  /** range 为 x 轴代表字段，count 为 y 轴统计个数字段 */\n  meta: {\n    range: {\n      min: 0,\n      tickInterval: 2,\n    },\n    count: {\n      max: 20,\n      nice: true,\n    },\n  },\n});\n\nhistogramPlot.render();\n",title:{zh:"直方图范围刻度",en:"Bin histogram plot"},filename:"binWidth.ts",isNew:!1},{id:"stack",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*C4SlQ4FeJBkAAAAAAAAAAAAAARQnAQ",source:"import { Histogram } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const histogramPlot = new Histogram('container', {\n      data,\n      binField: 'depth',\n      binWidth: 2,\n      stackField: 'cut',\n      coloField: 'color',\n      tooltip: {\n        showMarkers: false,\n        position: 'top',\n      },\n      interactions: [\n        {\n          type: 'element-highlight',\n        },\n      ],\n    });\n\n    histogramPlot.render();\n  });\n",title:{zh:"层叠直方图",en:"Stacked histogram plot"},filename:"stack.ts",isNew:!1}],icon:"",id:"histogram",title:{en:"Histogram",zh:"直方图"},childrenKey:"demos",order:5},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/IGdW4zjTce/e515a753-d3a2-49d7-90e0-89786501db82.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/ryp44nvUYZ/coffee.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n    });\n    plot.render();\n  });\n",title:{zh:"基础旭日图",en:"Basic sunburst plot"},filename:"basic.ts",isNew:!1},{id:"basic2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/yBxQkbPBXF/2a71c7de-1971-4651-bcba-dd18ddd8732e.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      drilldown: {\n        breadCrumb: {\n          rootText: '起始',\n        },\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义 hierarchy field",en:"Custom hierarchy field of value"},filename:"basic2.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/nUWhQ3lWeT/ab0dd09f-f735-41ab-bb13-f38e3354ed62.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.2,\n      radius: 1,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      label: {\n        // label layout: limit label in shape, which means the labels out of shape will be hide\n        layout: [{ type: 'limit-in-shape' }],\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"设置标签布局",en:"Set label layout"},filename:"label.ts",isNew:!1},{id:"color-field",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/DCwOWeZD5T/cbbbe84d-a0ff-4602-ab3e-22429e6a1719.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      colorField: 'label',\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义颜色通道",en:"Color of sunburst plot"},filename:"color-field.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/IvLI4di5ww/7faf7005-44f2-4832-bbca-227b039f4260.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      // 取色来自于：http://zhongguose.com/\n      color: ['#f26b1f', '#fc8c23', '#f97d1c'],\n      interactions: [{ type: 'element-active' }],\n      state: {\n        active: {\n          style: {\n            stroke: '#fff',\n            lineWidth: 2,\n          },\n        },\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义旭日图颜色",en:"Color of sunburst plot"},filename:"color.ts",isNew:!1},{id:"style",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/hWIcBgVYMI/d265c8b0-2184-48aa-8610-173cb0b065a8.png",source:"import { Sunburst } from '@antv/g2plot';\nimport { last } from '@antv/util';\nimport chromaJs from 'chroma-js';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const colors = [\n      '#5B8FF9',\n      '#61DDAA',\n      '#65789B',\n      '#F6BD16',\n      '#7262fd',\n      '#78D3F8',\n      '#9661BC',\n      '#F6903D',\n      '#008685',\n      '#F08BB4',\n    ];\n    function getPaletteByColor(color, count) {\n      const origin = chromaJs(color);\n      const range = [origin.brighten(0.5), origin, origin.darken(0.5)];\n      return (\n        chromaJs\n          // @ts-ignore\n          .scale(range)\n          .mode('lab')\n          .cache(false)\n          .colors(count)\n      );\n    }\n\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      sunburstStyle: (datum) => {\n        const depth = datum.depth;\n        const nodeIndex = datum.nodeIndex;\n\n        const ancestorIndex = last(datum[Sunburst.NODE_ANCESTORS_FIELD])?.nodeIndex || 0;\n\n        const colorIndex = depth === 1 ? nodeIndex : ancestorIndex;\n        let color = colors[colorIndex % colors.length];\n\n        if (depth > 1) {\n          const newColors = getPaletteByColor(color, last(datum[Sunburst.NODE_ANCESTORS_FIELD])?.childNodeCount);\n          color = newColors[nodeIndex % colors.length];\n        }\n\n        return {\n          fill: color,\n          stroke: '#fff',\n          lineWidth: 0.5,\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义旭日图样式",en:"Style of sunburst plot"},filename:"style.ts",isNew:!1},{id:"pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/UUU%24Gu8byX/5caede2e-eef7-4512-9ac5-d8ae4f3fa5cd.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      drilldown: {\n        breadCrumb: {\n          rootText: '起始',\n        },\n      },\n      pattern: {\n        type: 'line',\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"带贴图的旭日图",en:"Sunburst plot with pattern"},filename:"pattern.ts",isNew:!1},{id:"tooltip-fields",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/D6hdl%24%26RiT/72411396-daf0-4d9e-bb54-d117f159cb44.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/%24ixDFx9%248M/coffee-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      rawFields: ['symbol'],\n      meta: {\n        symbol: {\n          alias: '国家',\n        },\n      },\n      hierarchyConfig: {\n        // the weight of parent node depends on itself\n        ignoreParentValue: false,\n      },\n      tooltip: {\n        fields: ['path', 'symbol', 'value'],\n        formatter: (datum) => ({\n          name: datum.symbol ? `${datum.symbol} ${datum.path}` : datum.path,\n          value: datum.value,\n        }),\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"指定父节点权重",en:"Specify weight of parentNode"},filename:"tooltip-fields.ts",isNew:!1},{id:"custom-tooltip-items",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/yBxQkbPBXF/2a71c7de-1971-4651-bcba-dd18ddd8732e.png",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/Ry8PJXni0S/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n      },\n      tooltip: {\n        customItems: (items) =>\n          items.map((item) => {\n            const path = item.data[Sunburst.SUNBURST_PATH_FIELD];\n            return {\n              ...item,\n              name: path.length > 20 ? `${path.slice(0, 10)} ... ${path.slice(-10)}` : path,\n              value: item.data.value,\n            };\n          }),\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义 Tooltip items",en:"Custom tooltip items"},filename:"custom-tooltip-items.ts",isNew:!1},{id:"active-depth",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/y9BD5CSBrF/sunburst-active-level.gif",source:"import { Sunburst } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Sunburst('container', {\n      data,\n      innerRadius: 0.3,\n      interactions: [{ type: 'element-active' }],\n      hierarchyConfig: {\n        field: 'sum',\n        // 配置展示的层级数\n        activeDepth: 1,\n      },\n      drilldown: {\n        breadCrumb: {\n          rootText: '起始',\n        },\n      },\n      label: {\n        autoRotate: false,\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"配置激活展示的层级数",en:"Config active display depth"},filename:"active-depth.ts",isNew:!1}],icon:"",id:"sunburst",title:{en:"Sunburst",zh:"旭日图"},childrenKey:"demos",order:7},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*9wdPQIJyXdoAAAAAAAAAAAAAARQnAQ",source:"import { BidirectionalBar } from '@antv/g2plot';\n\nexport const data = [\n  { country: '乌拉圭', '2016年耕地总面积': 13.4, '2016年转基因种植面积': 12.3 },\n  { country: '巴拉圭', '2016年耕地总面积': 14.4, '2016年转基因种植面积': 6.3 },\n  { country: '南非', '2016年耕地总面积': 18.4, '2016年转基因种植面积': 8.3 },\n  { country: '巴基斯坦', '2016年耕地总面积': 34.4, '2016年转基因种植面积': 13.8 },\n  { country: '阿根廷', '2016年耕地总面积': 44.4, '2016年转基因种植面积': 19.5 },\n  { country: '巴西', '2016年耕地总面积': 24.4, '2016年转基因种植面积': 18.8 },\n  { country: '加拿大', '2016年耕地总面积': 54.4, '2016年转基因种植面积': 24.7 },\n  { country: '中国', '2016年耕地总面积': 104.4, '2016年转基因种植面积': 5.3 },\n  { country: '美国', '2016年耕地总面积': 165.2, '2016年转基因种植面积': 72.9 },\n];\n\nconst BidirectionalBarPlot = new BidirectionalBar('container', {\n  data,\n  xField: 'country',\n  xAxis: {\n    position: 'bottom',\n  },\n  interactions: [{ type: 'active-region' }],\n  yField: ['2016年耕地总面积', '2016年转基因种植面积'],\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n});\n\nBidirectionalBarPlot.render();\n",title:{zh:"基础对称条形图",en:"BidirectionalBar plot"},filename:"basic.ts",isNew:!1},{id:"layout",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*dpEiSZht_1AAAAAAAAAAAAAAARQnAQ",source:"import { BidirectionalBar } from '@antv/g2plot';\n\nexport const data = [\n  { country: '乌拉圭', '2016年耕地总面积': 13.4, '2016年转基因种植面积': 12.3 },\n  { country: '巴拉圭', '2016年耕地总面积': 14.4, '2016年转基因种植面积': 6.3 },\n  { country: '南非', '2016年耕地总面积': 18.4, '2016年转基因种植面积': 8.3 },\n  { country: '巴基斯坦', '2016年耕地总面积': 34.4, '2016年转基因种植面积': 13.8 },\n  { country: '阿根廷', '2016年耕地总面积': 44.4, '2016年转基因种植面积': 19.5 },\n  { country: '巴西', '2016年耕地总面积': 24.4, '2016年转基因种植面积': 18.8 },\n  { country: '加拿大', '2016年耕地总面积': 54.4, '2016年转基因种植面积': 24.7 },\n  { country: '中国', '2016年耕地总面积': 104.4, '2016年转基因种植面积': 5.3 },\n  { country: '美国', '2016年耕地总面积': 165.2, '2016年转基因种植面积': 72.9 },\n];\n\nconst BidirectionalBarPlot = new BidirectionalBar('container', {\n  data,\n  layout: 'vertical',\n  xField: 'country',\n  yField: ['2016年耕地总面积', '2016年转基因种植面积'],\n  yAxis: {\n    '2016年耕地总面积': {\n      nice: true,\n    },\n    '2016年转基因种植面积': {\n      min: 0,\n      max: 100,\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n});\n\nBidirectionalBarPlot.render();\n",title:{zh:"对称条形图（垂直方向）",en:"Vertical BidirectionalBar plot"},filename:"layout.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/4A7SJPC00p/3b637385-c121-429f-9c13-82b4662c1c2e.png",source:"import { BidirectionalBar } from '@antv/g2plot';\n\nexport const data = [\n  { country: '乌拉圭', '2016年耕地总面积': 13.4, '2016年转基因种植面积': 12.3 },\n  { country: '巴拉圭', '2016年耕地总面积': 14.4, '2016年转基因种植面积': 6.3 },\n  { country: '南非', '2016年耕地总面积': 18.4, '2016年转基因种植面积': 8.3 },\n  { country: '巴基斯坦', '2016年耕地总面积': 34.4, '2016年转基因种植面积': 13.8 },\n  { country: '阿根廷', '2016年耕地总面积': 44.4, '2016年转基因种植面积': 19.5 },\n  { country: '巴西', '2016年耕地总面积': 24.4, '2016年转基因种植面积': 18.8 },\n  { country: '加拿大', '2016年耕地总面积': 54.4, '2016年转基因种植面积': 24.7 },\n  { country: '中国', '2016年耕地总面积': 104.4, '2016年转基因种植面积': 5.3 },\n  { country: '美国', '2016年耕地总面积': 165.2, '2016年转基因种植面积': 72.9 },\n];\n\nconst BidirectionalBarPlot = new BidirectionalBar('container', {\n  data,\n  xField: 'country',\n  xAxis: {\n    position: 'bottom',\n  },\n  appendPadding: [0, 30],\n  interactions: [{ type: 'active-region' }],\n  yField: ['2016年耕地总面积', '2016年转基因种植面积'],\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  // 开启 label 展示\n  label: {\n    // 默认居中, 'middle'\n    position: 'right',\n    // 默认为: 2\n    // offset: 4,\n  },\n});\n\nBidirectionalBarPlot.render();\n",title:{zh:"对称条形图 label 设置",en:"Label of BidirectionalBar plot"},filename:"label.ts",isNew:!1},{id:"vertical-label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/w9EHshX3Q1/524ae45f-dc52-48ca-bff8-efa97dcf071e.png",source:"import { BidirectionalBar } from '@antv/g2plot';\n\nexport const data = [\n  { country: '乌拉圭', '2016年耕地总面积': 13.4, '2016年转基因种植面积': 12.3 },\n  { country: '巴拉圭', '2016年耕地总面积': 14.4, '2016年转基因种植面积': 6.3 },\n  { country: '南非', '2016年耕地总面积': 18.4, '2016年转基因种植面积': 8.3 },\n  { country: '巴基斯坦', '2016年耕地总面积': 34.4, '2016年转基因种植面积': 13.8 },\n  { country: '阿根廷', '2016年耕地总面积': 44.4, '2016年转基因种植面积': 19.5 },\n  { country: '巴西', '2016年耕地总面积': 24.4, '2016年转基因种植面积': 18.8 },\n  { country: '加拿大', '2016年耕地总面积': 54.4, '2016年转基因种植面积': 24.7 },\n  { country: '中国', '2016年耕地总面积': 104.4, '2016年转基因种植面积': 5.3 },\n  { country: '美国', '2016年耕地总面积': 165.2, '2016年转基因种植面积': 72.9 },\n];\n\nconst BidirectionalBarPlot = new BidirectionalBar('container', {\n  data,\n  layout: 'vertical',\n  xField: 'country',\n  yField: ['2016年耕地总面积', '2016年转基因种植面积'],\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  appendPadding: [20, 0],\n  // 开启 label 展示\n  label: {\n    // 默认居中, 'middle'\n    position: 'top',\n    // 默认为: 2\n    // offset: 4,\n  },\n});\n\nBidirectionalBarPlot.render();\n",title:{zh:"对称条形图（垂直方向） label 设置",en:"Label of Vertical BidirectionalBar plot"},filename:"vertical-label.ts",isNew:!1}],icon:"",id:"bidirectional-bar",title:{en:"BidirectionalBar",zh:"对称条形图"},childrenKey:"demos",order:8},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/b0lq5uRNpn/cb262279-a0ec-48de-9afc-267b9c5fda09.png",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  { name: 'X6', star: 297 },\n  { name: 'G', star: 506 },\n  { name: 'AVA', star: 805 },\n  { name: 'G2Plot', star: 1478 },\n  { name: 'L7', star: 2029 },\n  { name: 'G6', star: 7100 },\n  { name: 'F2', star: 7346 },\n  { name: 'G2', star: 10178 },\n];\n\nconst bar = new RadialBar('container', {\n  data,\n  xField: 'name',\n  yField: 'star',\n  // maxAngle: 90, //最大旋转角度,\n  radius: 0.8,\n  innerRadius: 0.2,\n  tooltip: {\n    formatter: (datum) => {\n      return { name: 'star数', value: datum.star };\n    },\n  },\n});\nbar.render();\n",title:{zh:"玉珏图",en:"Radial-Bar plot"},filename:"basic.ts",isNew:!1},{id:"round-corner",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/dGBD84g0sY/743e388d-f1e6-4d6b-ab8d-28101f35a609.png",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  { name: 'X6', star: 297 },\n  { name: 'G', star: 506 },\n  { name: 'AVA', star: 805 },\n  { name: 'G2Plot', star: 1478 },\n  { name: 'L7', star: 2029 },\n  { name: 'G6', star: 7100 },\n  { name: 'F2', star: 7346 },\n  { name: 'G2', star: 10178 },\n];\n\nconst bar = new RadialBar('container', {\n  data,\n  xField: 'name',\n  yField: 'star',\n  maxAngle: 270, //最大旋转角度,\n  radius: 0.8,\n  innerRadius: 0.2,\n  barStyle: {\n    lineCap: 'round',\n  },\n});\n\nbar.render();\n",title:{zh:"带圆角的玉珏图",en:"Radial-Bar plot with rounded corner"},filename:"round-corner.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/l6uP5%26MiT7/385e3f80-52ec-49e9-9dfe-bd447e63203f.png",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  { name: 'X6', star: 297 },\n  { name: 'G', star: 506 },\n  { name: 'AVA', star: 805 },\n  { name: 'G2Plot', star: 1478 },\n  { name: 'L7', star: 2029 },\n  { name: 'G6', star: 7100 },\n  { name: 'F2', star: 7346 },\n  { name: 'G2', star: 10178 },\n];\n\nconst bar = new RadialBar('container', {\n  data,\n  xField: 'name',\n  yField: 'star',\n  maxAngle: 270, //最大旋转角度,\n  radius: 0.8,\n  innerRadius: 0.2,\n  tooltip: {\n    formatter: (datum) => {\n      return { name: 'star数', value: datum.star };\n    },\n  },\n  colorField: 'star',\n  color: ({ star }) => {\n    if (star > 10000) {\n      return '#36c361';\n    } else if (star > 1000) {\n      return '#2194ff';\n    }\n    return '#ff4d4f';\n  },\n});\nbar.render();\n",title:{zh:"带自定义颜色的玉珏图",en:"Radial-Bar plot with custom color"},filename:"color.ts",isNew:!1},{id:"stacked",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/tft60hEBvN/594d5cfc-8da0-441b-89dd-81eb4f5657b6.png",source:"import { RadialBar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new RadialBar('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      colorField: 'type',\n      isStack: true,\n      maxAngle: 270,\n    });\n\n    plot.render();\n  });\n",title:{zh:"堆叠玉珏图",en:"Stacked Radial-Bar plot"},filename:"stacked.ts",isNew:!1},{id:"grouped",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/M2EJJVBmHE/8984eee5-da51-4afb-8e81-34a8aaab47c0.png",source:"import { RadialBar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/8elHX%26irfq/stack-column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new RadialBar('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      colorField: 'type',\n      isGroup: true,\n      maxAngle: 270,\n    });\n\n    plot.render();\n  });\n",title:{zh:"分组玉珏图",en:"Grouped Radial-Bar plot"},filename:"grouped.ts",isNew:!1},{id:"background",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/A2Ik7iu%26YW/519113a4-f42e-48b2-a75d-1021add83c30.png",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  { name: 'X6', star: 297 },\n  { name: 'G', star: 506 },\n  { name: 'AVA', star: 805 },\n  { name: 'G2Plot', star: 1478 },\n  { name: 'L7', star: 2029 },\n  { name: 'G6', star: 7100 },\n  { name: 'F2', star: 7346 },\n  { name: 'G2', star: 10178 },\n];\n\nconst bar = new RadialBar('container', {\n  data,\n  xField: 'name',\n  yField: 'star',\n  maxAngle: 350, //最大旋转角度,\n  radius: 0.8,\n  innerRadius: 0.2,\n  tooltip: {\n    formatter: (datum) => {\n      return { name: 'star数', value: datum.star };\n    },\n  },\n  colorField: 'star',\n  color: ({ star }) => {\n    if (star > 10000) {\n      return '#6349ec';\n    } else if (star > 1000) {\n      return '#ff9300';\n    }\n    return '#ff93a7';\n  },\n  barBackground: {},\n  barStyle: { lineCap: 'round' },\n  annotations: [\n    {\n      type: 'html',\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coord = view.getCoordinate();\n        const w = coord.polarRadius * coord.innerRadius * 1.15;\n        return `<div style=\"transform:translate(-50%,-46%)\">\n          <img width=\"${\n            (w / 203) * 231\n          }\" height=\"${w}\" alt=\"\" src=\"https://gw.alipayobjects.com/zos/antfincdn/zrh%24J08soH/AntV%252520LOGO%2525202.png\">\n        </div>`;\n      },\n    },\n  ],\n});\nbar.render();\n",title:{zh:"带柱子背景的玉珏图",en:"Radial-Bar plot with background"},filename:"background.ts",isNew:!1},{id:"line",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*GC6wT4GQ-oMAAAAAAAAAAABkARQnAQ",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  { term: 'Zombieland', count: 9 },\n  { term: 'Wieners', count: 8 },\n  { term: 'Toy Story', count: 8 },\n  { term: 'trashkannon', count: 7 },\n  { term: 'the GROWLERS', count: 6 },\n  { term: 'mudweiser', count: 6 },\n  { term: 'ThunderCats', count: 4 },\n  { term: 'The Taqwacores - Motion Picture', count: 4 },\n  { term: 'The Shawshank Redemption', count: 2 },\n  { term: 'The Olivia Experiment', count: 1 },\n];\n\nconst bar = new RadialBar('container', {\n  data,\n  xField: 'term',\n  yField: 'count',\n  radius: 1,\n  innerRadius: 0.4,\n  // 设置坐标系的起始角度和终止角度\n  startAngle: Math.PI * 0.5,\n  endAngle: Math.PI * 2.5,\n  tooltip: {\n    showMarkers: true,\n  },\n  type: 'line',\n  annotations: [\n    {\n      type: 'text',\n      position: ['50%', '50%'],\n      content: 'Music',\n      style: {\n        textAlign: 'center',\n        fontSize: 24,\n      },\n    },\n  ],\n});\nbar.render();\n",title:{zh:"线形玉珏图",en:"Radial-line plot"},filename:"line.ts",isNew:!1},{id:"apple-watch-activity",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/6YIirgSj4E/4fb2dd39-0dfd-4130-a17a-bd3dc602573c.png",source:"import { RadialBar } from '@antv/g2plot';\n\nconst data = [\n  {\n    name: 'activity1',\n    percent: 2370,\n    color: '#1ad5de',\n    icon: 'https://gw.alipayobjects.com/zos/antfincdn/ck11Y6aRrz/shangjiantou.png',\n  },\n  {\n    name: 'activity2',\n    percent: 800,\n    color: '#a0ff03',\n    icon: 'https://gw.alipayobjects.com/zos/antfincdn/zY2JB7hhrO/shuangjiantou.png',\n  },\n  {\n    name: 'activity3',\n    percent: 650,\n    color: '#e90b3a',\n    icon: 'https://gw.alipayobjects.com/zos/antfincdn/%24qBxSxdK05/jiantou.png',\n  },\n];\nconst bar = new RadialBar('container', {\n  width: 400,\n  height: 244,\n  autoFit: false,\n  appendPadding: [50, 0, 50, 0],\n  data,\n  xField: 'name',\n  yField: 'percent',\n  // maxAngle: 90, //最大旋转角度,\n  radius: 0.8,\n  innerRadius: 0.2,\n  xAxis: false,\n  theme: 'dark',\n  barBackground: { style: { fill: 'rgba(255,255,255,0.45)' } },\n  barStyle: { lineCap: 'round' },\n  minBarWidth: 16,\n  maxBarWidth: 16,\n  colorField: 'name',\n  color: ({ name }) => {\n    return data.find((d) => d.name === name).color;\n  },\n  annotations: data.map((d) => ({\n    type: 'html',\n    position: [d.name, 0],\n    html: `<div style=\"width:11px;height:11px;transform:translate(-50%, -50%)\">\n      <img\n        style=\"width:11px;height:11px;display: block;\"\n        src=\"${d.icon}\"\n        alt=\"\"\n      />\n    </div>`,\n  })),\n});\nbar.render();\n",title:{zh:"健身: 活动记录",en:"Fitness: Activity record"},filename:"apple-watch-activity.ts",isNew:!1}],icon:"",id:"radial-bar",title:{en:"Radial-Bar",zh:"玉珏图"},childrenKey:"demos",order:9},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*hL2WSrRh9K0AAAAAAAAAAABkARQnAQ",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { x: 'Oceania', low: 1, q1: 9, median: 16, q3: 22, high: 24 },\n  { x: 'East Europe', low: 1, q1: 5, median: 8, q3: 12, high: 16 },\n  { x: 'Australia', low: 1, q1: 8, median: 12, q3: 19, high: 26 },\n  { x: 'South America', low: 2, q1: 8, median: 12, q3: 21, high: 28 },\n  { x: 'North Africa', low: 1, q1: 8, median: 14, q3: 18, high: 24 },\n  { x: 'North America', low: 3, q1: 10, median: 17, q3: 28, high: 30 },\n  { x: 'West Europe', low: 1, q1: 7, median: 10, q3: 17, high: 22 },\n  { x: 'West Africa', low: 1, q1: 6, median: 8, q3: 13, high: 16 },\n];\n\nconst boxPlot = new Box('container', {\n  width: 400,\n  height: 500,\n  data: data,\n  xField: 'x',\n  yField: ['low', 'q1', 'median', 'q3', 'high'],\n  boxStyle: {\n    stroke: '#545454',\n    fill: '#1890FF',\n    fillOpacity: 0.3,\n  },\n  animation: false,\n});\n\nboxPlot.render();\n",title:{zh:"基础箱型图",en:"Basic box plot"},filename:"basic.ts",isNew:!1},{id:"group",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*bZZ8SLkfTZUAAAAAAAAAAABkARQnAQ",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { Species: 'I. setosa', type: 'SepalLength', value: 5.1, _bin: [4.3, 4.8, 5, 5.2, 5.8] },\n  { Species: 'I. setosa', type: 'SepalWidth', value: 3.5, _bin: [2.3, 3.2, 3.4, 3.7, 4.4] },\n  { Species: 'I. setosa', type: 'PetalLength', value: 1.4, _bin: [1, 1.4, 1.5, 1.6, 1.9] },\n  { Species: 'I. setosa', type: 'PetalWidth', value: 0.2, _bin: [0.1, 0.2, 0.2, 0.3, 0.6] },\n  { Species: 'I. versicolor', type: 'SepalLength', value: 7, _bin: [4.9, 5.6, 5.9, 6.3, 7] },\n  { Species: 'I. versicolor', type: 'SepalWidth', value: 3.2, _bin: [2, 2.5, 2.8, 3, 3.4] },\n  { Species: 'I. versicolor', type: 'PetalLength', value: 4.7, _bin: [3, 4, 4.35, 4.6, 5.1] },\n  { Species: 'I. versicolor', type: 'PetalWidth', value: 1.4, _bin: [1, 1.2, 1.3, 1.5, 1.8] },\n  { Species: 'I. virginica', type: 'SepalLength', value: 6.3, _bin: [4.9, 6.2, 6.5, 6.9, 7.9] },\n  { Species: 'I. virginica', type: 'SepalWidth', value: 3.3, _bin: [2.2, 2.8, 3, 3.2, 3.8] },\n  { Species: 'I. virginica', type: 'PetalLength', value: 6, _bin: [4.5, 5.1, 5.55, 5.9, 6.9] },\n  { Species: 'I. virginica', type: 'PetalWidth', value: 2.5, _bin: [1.4, 1.8, 2, 2.3, 2.5] },\n];\n\nconst groupBoxPlot = new Box('container', {\n  data,\n  xField: 'type',\n  yField: '_bin',\n  groupField: 'Species',\n});\n\ngroupBoxPlot.render();\n",title:{zh:"分组箱型图",en:"Grouped box plot"},filename:"group.ts",isNew:!1},{id:"outliers",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*cE6vR461omUAAAAAAAAAAAAAARQnAQ",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { x: '职业 A', low: 20000, q1: 26000, median: 27000, q3: 32000, high: 38000, outliers: [50000, 52000] },\n  { x: '职业 B', low: 40000, q1: 49000, median: 62000, q3: 73000, high: 88000, outliers: [32000, 29000, 106000] },\n  { x: '职业 C', low: 52000, q1: 59000, median: 65000, q3: 74000, high: 83000, outliers: [91000] },\n  { x: '职业 D', low: 58000, q1: 96000, median: 130000, q3: 170000, high: 200000, outliers: [42000, 210000, 215000] },\n  { x: '职业 E', low: 24000, q1: 28000, median: 32000, q3: 38000, high: 42000, outliers: [48000] },\n  { x: '职业 F', low: 47000, q1: 56000, median: 69000, q3: 85000, high: 100000, outliers: [110000, 115000, 32000] },\n  { x: '职业 G', low: 64000, q1: 74000, median: 83000, q3: 93000, high: 100000, outliers: [110000] },\n  { x: '职业 H', low: 67000, q1: 72000, median: 84000, q3: 95000, high: 110000, outliers: [57000, 54000] },\n];\n\nconst outliersBoxPlot = new Box('container', {\n  data,\n  xField: 'x',\n  yField: ['low', 'q1', 'median', 'q3', 'high'],\n  outliersField: 'outliers',\n  outliersStyle: {\n    fill: '#f6f',\n  },\n});\n\noutliersBoxPlot.render();\n",title:{zh:"基础箱型图（有异常值）",en:"Box plot with error"},filename:"outliers.ts",isNew:!1},{id:"meta-alias",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/BUWqiUYOhY/box-alias.png",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { x: 'Oceania', low: 1, q1: 9, median: 16, q3: 22, high: 24 },\n  { x: 'East Europe', low: 1, q1: 5, median: 8, q3: 12, high: 16 },\n  { x: 'Australia', low: 1, q1: 8, median: 12, q3: 19, high: 26 },\n  { x: 'South America', low: 2, q1: 8, median: 12, q3: 21, high: 28 },\n  { x: 'North Africa', low: 1, q1: 8, median: 14, q3: 18, high: 24 },\n  { x: 'North America', low: 3, q1: 10, median: 17, q3: 28, high: 30 },\n  { x: 'West Europe', low: 1, q1: 7, median: 10, q3: 17, high: 22 },\n  { x: 'West Africa', low: 1, q1: 6, median: 8, q3: 13, high: 16 },\n];\n\nconst boxPlot = new Box('container', {\n  width: 400,\n  height: 500,\n  data: data,\n  xField: 'x',\n  yField: ['low', 'q1', 'median', 'q3', 'high'],\n  meta: {\n    low: {\n      alias: '最低值',\n    },\n    q1: {\n      alias: '下四分位数',\n    },\n    median: {\n      alias: '最低值',\n    },\n    q3: {\n      alias: '上四分位数',\n    },\n    high: {\n      alias: '最高值',\n    },\n  },\n  tooltip: {\n    fields: ['high', 'q3', 'median', 'q1', 'low'],\n  },\n  boxStyle: {\n    stroke: '#545454',\n    fill: '#1890FF',\n    fillOpacity: 0.3,\n  },\n  animation: false,\n});\n\nboxPlot.render();\n",title:{zh:"设置字段别名",en:"Set alias of field"},filename:"meta-alias.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/swwLHN2Br0/4fce6597-3c82-44c4-b72c-d73560b18ac4.png",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { x: '职业 A', low: 20000, q1: 26000, median: 27000, q3: 32000, high: 38000, outliers: [50000, 52000] },\n  { x: '职业 B', low: 40000, q1: 49000, median: 62000, q3: 73000, high: 88000, outliers: [32000, 29000, 106000] },\n  { x: '职业 C', low: 52000, q1: 59000, median: 65000, q3: 74000, high: 83000, outliers: [91000] },\n  { x: '职业 D', low: 58000, q1: 96000, median: 130000, q3: 170000, high: 200000, outliers: [42000, 210000, 215000] },\n  { x: '职业 E', low: 24000, q1: 28000, median: 32000, q3: 38000, high: 42000, outliers: [48000] },\n  { x: '职业 F', low: 47000, q1: 56000, median: 69000, q3: 85000, high: 100000, outliers: [110000, 115000, 32000] },\n  { x: '职业 G', low: 64000, q1: 74000, median: 83000, q3: 93000, high: 100000, outliers: [110000] },\n  { x: '职业 H', low: 67000, q1: 72000, median: 84000, q3: 95000, high: 110000, outliers: [57000, 54000] },\n];\n\nconst outliersBoxPlot = new Box('container', {\n  data,\n  xField: 'x',\n  yField: ['low', 'q1', 'median', 'q3', 'high'],\n  outliersField: 'outliers',\n  outliersStyle: {\n    fill: '#f6f',\n  },\n  label: {\n    style: {\n      textBaseline: 'top',\n    },\n    layout: { type: 'hide-overlap' },\n  },\n});\n\noutliersBoxPlot.render();\n",title:{zh:"设置箱线图 label",en:"Box plot label"},filename:"label.ts",isNew:!1},{id:"tooltip",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*cE6vR461omUAAAAAAAAAAAAAARQnAQ",source:"import { Box } from '@antv/g2plot';\n\nconst data = [\n  { x: '职业 A', low: 20000, q1: 26000, median: 27000, q3: 32000, high: 38000, outliers: [50000, 52000] },\n  { x: '职业 B', low: 40000, q1: 49000, median: 62000, q3: 73000, high: 88000, outliers: [32000, 29000, 106000] },\n  { x: '职业 C', low: 52000, q1: 59000, median: 65000, q3: 74000, high: 83000, outliers: [91000] },\n  { x: '职业 D', low: 58000, q1: 96000, median: 130000, q3: 170000, high: 200000, outliers: [42000, 210000, 215000] },\n  { x: '职业 E', low: 24000, q1: 28000, median: 32000, q3: 38000, high: 42000, outliers: [48000] },\n  { x: '职业 F', low: 47000, q1: 56000, median: 69000, q3: 85000, high: 100000, outliers: [110000, 115000, 32000] },\n  { x: '职业 G', low: 64000, q1: 74000, median: 83000, q3: 93000, high: 100000, outliers: [110000] },\n  { x: '职业 H', low: 67000, q1: 72000, median: 84000, q3: 95000, high: 110000, outliers: [57000, 54000] },\n];\n\nconst boxPlot = new Box('container', {\n  width: 400,\n  height: 500,\n  data: data,\n  xField: 'x',\n  yField: ['low', 'q1', 'median', 'q3', 'high'],\n  meta: {\n    low: {\n      alias: '最低值',\n    },\n    q1: {\n      alias: '下四分位数',\n    },\n    median: {\n      alias: '最低值',\n    },\n    q3: {\n      alias: '上四分位数',\n    },\n    high: {\n      alias: '最高值',\n    },\n    outliers: {\n      alias: '异常值',\n    },\n  },\n  outliersField: 'outliers',\n  tooltip: {\n    fields: ['high', 'q3', 'median', 'q1', 'low', 'outliers'],\n  },\n  boxStyle: {\n    stroke: '#545454',\n    fill: '#1890FF',\n    fillOpacity: 0.3,\n  },\n  animation: false,\n});\n\nboxPlot.render();\n",title:{zh:"设置箱线图 tooltip",en:"Box plot tooltip"},filename:"tooltip.ts",isNew:!1}],icon:"",id:"box",title:{en:"Box",zh:"箱型图"},childrenKey:"demos",order:11},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*mBJ1Rqh72ScAAAAAAAAAAAAAARQnAQ",source:"import { Violin } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/6b0a5f1d-5931-42ae-b3ba-3c3cb77d0861.json')\n  .then((response) => response.json())\n  .then((data) => {\n    const violinPlot = new Violin('container', {\n      height: 500,\n      data: data,\n      xField: 'x',\n      yField: 'y',\n    });\n    violinPlot.render();\n  });\n",title:{zh:"基础小提琴图",en:"Basic violin plot"},filename:"basic.ts",isNew:!1},{id:"group",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*eb3AQ6CiBLwAAAAAAAAAAAAAARQnAQ",source:"import { Violin } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/6b0a5f1d-5931-42ae-b3ba-3c3cb77d0861.json')\n  .then((response) => response.json())\n  .then((data) => {\n    const violinPlot = new Violin('container', {\n      height: 500,\n      data: data,\n      xField: 'x',\n      yField: 'y',\n      seriesField: 'species',\n    });\n    violinPlot.render();\n  });\n",title:{zh:"分组小提琴图",en:"Grouped violin plot"},filename:"group.ts",isNew:!1},{id:"shape",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*0nOgSohp4QAAAAAAAAAAAAAAARQnAQ",source:"import { Violin } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/6b0a5f1d-5931-42ae-b3ba-3c3cb77d0861.json')\n  .then((response) => response.json())\n  .then((data) => {\n    const violinPlot = new Violin('container', {\n      height: 500,\n      data: data,\n      xField: 'x',\n      yField: 'y',\n      shape: 'hollow-smooth', // or 'hollow', 'smooth'\n    });\n    violinPlot.render();\n  });\n",title:{zh:"平滑/空心小提琴图",en:"Smooth/Hollow violin plot"},filename:"shape.ts",isNew:!1},{id:"tooltip",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*IsxHQYqkeEsAAAAAAAAAAAAAARQnAQ",source:"import { Violin } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/6b0a5f1d-5931-42ae-b3ba-3c3cb77d0861.json')\n  .then((response) => response.json())\n  .then((data) => {\n    const violinPlot = new Violin('container', {\n      width: 400,\n      height: 500,\n      data: data,\n      xField: 'x',\n      yField: 'y',\n      seriesField: 'species',\n      meta: {\n        high: {\n          alias: '最大值',\n          formatter: (v) => `${v.toFixed(2)} %`,\n        },\n        low: {\n          alias: '最小值',\n          formatter: (v) => `${v.toFixed(2)} %`,\n        },\n        q1: {\n          alias: '上四分位数',\n          formatter: (v) => `${v.toFixed(2)} %`,\n        },\n        q3: {\n          alias: '下四分位数',\n          formatter: (v) => `${v.toFixed(2)} %`,\n        },\n        species: {\n          alias: '品类',\n        },\n      },\n      tooltip: {\n        fields: ['species', 'high', 'q1', 'q3', 'low'],\n      },\n    });\n    violinPlot.render();\n  });\n",title:{zh:"自定义Tooltip文案",en:"Customize tooltip texts"},filename:"tooltip.ts",isNew:!1}],icon:"",id:"violin",title:{en:"Violin",zh:"小提琴图"},childrenKey:"demos",order:11},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*-HIwQbCnfFUAAAAAAAAAAAAAARQnAQ",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"基础蜡烛图",en:"Basic candlestick plot"},filename:"basic.ts",isNew:!1},{id:"meta-alias",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/4EtM9REqIP/8edb0a9e-293e-4b87-bc61-d814e958acbd.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      meta: {\n        vol: { alias: '成交量' },\n        open: { alias: '开盘价' },\n        close: { alias: '收盘价' },\n        high: { alias: '最高价' },\n        low: { alias: '最低价' },\n      },\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"设置字段别名",en:"Set alias of field"},filename:"meta-alias.ts",isNew:!1},{id:"custom-color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/4EtM9REqIP/8edb0a9e-293e-4b87-bc61-d814e958acbd.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      // 绿涨红跌\n      fallingFill: '#ef5350',\n      risingFill: '#26a69a',\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"自定义颜色：绿涨红跌",en:"Custom stock color"},filename:"custom-color.ts",isNew:!1},{id:"custom-tooltip",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/4EtM9REqIP/8edb0a9e-293e-4b87-bc61-d814e958acbd.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      meta: {\n        vol: { alias: '成交量' },\n        open: { alias: '开盘价' },\n        close: { alias: '收盘价' },\n        high: { alias: '最高价' },\n        low: { alias: '最低价' },\n      },\n      tooltip: {\n        fields: ['open', 'close', 'high', 'low', 'vol'],\n      },\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"自定义 Tooltip 展示字段",en:"Custom tooltip fields"},filename:"custom-tooltip.ts",isNew:!1},{id:"custom-crosshairs",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/UKHCDVwzFB/stock-crosshairs.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      meta: {\n        vol: { alias: '成交量' },\n        open: { alias: '开盘价' },\n        close: { alias: '收盘价' },\n        high: { alias: '最高价' },\n        low: { alias: '最低价' },\n      },\n      tooltip: {\n        crosshairs: {\n          // 自定义 crosshairs line 样式\n          line: {\n            style: {\n              lineWidth: 0.5,\n              stroke: 'rgba(0,0,0,0.25)',\n            },\n          },\n          text: (type, defaultContent, items) => {\n            let textContent;\n            if (type === 'x') {\n              const item = items[0];\n              textContent = item ? item.title : defaultContent;\n            } else {\n              textContent = `${defaultContent.toFixed(2)}`;\n            }\n            return {\n              position: type === 'y' ? 'start' : 'end',\n              content: textContent,\n              // 自定义 crosshairs text 样式\n              style: {\n                fill: '#dfdfdf',\n              },\n            };\n          },\n          // 自定义 crosshairs textBackground 样式\n          textBackground: {\n            padding: [4, 8],\n            style: {\n              fill: '#363636',\n            },\n          },\n        },\n      },\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"自定义 crosshairs 指示器",en:"Custom crosshairs pointer"},filename:"custom-crosshairs.ts",isNew:!1},{id:"custom-style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*-HIwQbCnfFUAAAAAAAAAAAAAARQnAQ",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      tooltip: {\n        // 关闭 tooltip 悬浮内容\n        showContent: false,\n      },\n      stockStyle: {\n        stroke: '#666',\n        lineWidth: 0.5,\n      },\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"自定义样式",en:"Custom style"},filename:"custom-style.ts",isNew:!1},{id:"slider",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/H1Rf%26M6wMO/af51e97a-7665-4591-a3f0-9c7931b15b76.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/ZWgtj7pC%261/stock.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const stockPlot = new Stock('container', {\n      appendPadding: [0, 10, 0, 0],\n      data,\n      xField: 'trade_date',\n      yField: ['open', 'close', 'high', 'low'],\n      slider: {},\n    });\n\n    stockPlot.render();\n  });\n",title:{zh:"带缩略轴的股票图",en:"Stock plot with slider"},filename:"slider.ts",isNew:!1},{id:"large-data",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/0q2UxejfIL/f68c60f0-f044-47dd-b217-efa224215145.png",source:"import { Stock } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/9SiTLAwFYu/stock-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Stock('container', {\n      data,\n      xField: 'date',\n      yField: ['open', 'close', 'high', 'low'],\n      slider: {\n        start: 0.755,\n        end: 0.76,\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"超大数据量的股票图",en:"Stock plot with large data"},filename:"large-data.ts",isNew:!1}],icon:"",id:"stock",title:{en:"Stock",zh:"股票图"},childrenKey:"demos",order:12},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/BJw8fy6uxU/009dd50e-c2a4-48dc-a79a-dc417123889f.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.85 },\n});\nplot.render();\n",title:{zh:"基础韦恩图",en:"Basic venn plot"},filename:"basic.ts",isNew:!1},{id:"blend-mode",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/XZE3uS3Ezm/e18cdf57-f528-4a43-a0a5-b92dba819477.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  // more blendMode to see: https://gka.github.io/chroma.js/#chroma-blend\n  blendMode: 'overlay',\n  pointStyle: { fillOpacity: 0.85 },\n});\nplot.render();\n",title:{zh:"设置颜色叠加模式",en:"Color blend mode"},filename:"blend-mode.ts",isNew:!1},{id:"color",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/jonq4FL0vL/7b5db090-a855-4861-806f-5e09c2fdfd97.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 102, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.85 },\n  color: (datum, defaultColor) => {\n    if (datum.size > 100) {\n      return '#FF4500';\n    }\n    return defaultColor;\n  },\n});\nplot.render();\n",title:{zh:"自定义颜色",en:"Custom color"},filename:"color.ts",isNew:!1},{id:"tooltip",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/BJw8fy6uxU/009dd50e-c2a4-48dc-a79a-dc417123889f.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1, label: 'A&B&C' },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.85 },\n  tooltip: {\n    fields: ['label', 'size'],\n    formatter: (datum) => {\n      return { name: datum.label, value: datum.size };\n    },\n  },\n});\nplot.render();\n",title:{zh:"格式化 tooltip",en:"Formatter tooltip"},filename:"tooltip.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/nyPJ6bGZ68/d5e85b5d-70c5-45b5-94aa-9a229e65474c.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1, label: 'A&B&C' },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.85 },\n  label: {\n    offsetY: 7,\n    style: {\n      fontSize: 14,\n    },\n    formatter: (datum) => `${datum.sets.join('&')}: ${datum.size}`,\n  },\n});\nplot.render();\n",title:{zh:"设置 label",en:"Label setting"},filename:"label.ts",isNew:!1},{id:"customize",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/T6cgHx5BHB/f2137e3b-5784-4626-a986-109fc8cb5feb.png",source:"import { Venn } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/c4c17fe9-0a93-4255-bc1e-1ff84966d24a.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const sum = data.reduce((a, b) => a + b.size, 0);\n    const toPercent = (p) => `${(p * 100).toFixed(2)}%`;\n    const plot = new Venn('container', {\n      setsField: 'sets',\n      sizeField: 'size',\n      data,\n      pointStyle: { fillOpacity: 0.85 },\n      color: ['#9DF5CA', '#61DDAA', '#42C090'],\n      label: {\n        style: {\n          lineHeight: 18,\n        },\n        formatter: (datum) => {\n          return datum.sets.length > 1\n            ? `${datum.size} (${toPercent(datum.size / sum)})`\n            : `${datum.id}\\n${datum.size} (${toPercent(datum.size / sum)})`;\n        },\n      },\n      tooltip: {\n        fields: ['sets', 'size'],\n        customContent: (title, items) => {\n          const datum = items[0]?.data || {};\n          const color = items[0]?.color;\n\n          let listStr = '';\n          if (datum['伙伴名称']?.length > 0) {\n            datum['伙伴名称'].forEach((item, idx) => {\n              listStr += `<div class=\"g2-tooltip-list-item\">\n                  <span class=\"g2-tooltip-name\">${idx}. ${item}</span>\n              </div>`;\n            });\n          }\n\n          return `<div class=\"g2-tooltip-list\">\n            <div class=\"g2-tooltip-list-item\">\n              <span class=\"g2-tooltip-marker\" style=\"background:${color}; width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 8px;\"></span>\n              <span class=\"g2-tooltip-name\">${datum.sets?.join('&')}</span>\n              <span class=\"g2-tooltip-value\">${datum.size}</span>\n            </div>\n            ${\n              listStr\n                ? `<div class=\"g2-tooltip-list-item\">\n              <span class=\"g2-tooltip-name\"><b>伙伴名称</b></span>\n            </div>${listStr}`\n                : ''\n            }\n          </div>`;\n        },\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"自定义韦恩图",en:"Customize venn plot"},filename:"customize.ts",isNew:!1},{id:"interaction",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/x%24Jxds2L2T/0ff5000b-d23e-49a8-a02a-4eb02d7a8e47.png",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.8 },\n  padding: [0, 10],\n  interactions: [\n    { type: 'venn-element-active', enable: true },\n    { type: 'venn-element-selected', enable: true },\n  ],\n});\nplot.render();\n",title:{zh:"韦恩图 - 元素交互",en:"venn plot - with element action"},filename:"interaction.ts",isNew:!1},{id:"element-active",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/vHgfgbdet3/yuansujihuojiaohu.gif",source:"import { Venn, G2 } from '@antv/g2plot';\nimport { isEqual } from '@antv/util';\n\nconst { getActionClass, registerAction, registerInteraction } = G2;\nconst ElementActiveAction = getActionClass('venn-element-active') as any;\n\n/** 用一个变量来存储 label 的初始化 visible 状态 */\nconst VISIBLE_STATUS = 'visible-status';\n\n//  toggle labels 的 visible 状态\nfunction toggleLabels(view, stateName) {\n  const activeElements = view.geometries[0].elements.filter((ele) => ele.getStates().includes(stateName));\n  const activeDatas = activeElements.map((ele) => ele.getData());\n  const labels = view.geometries[0].labelsContainer.getChildren();\n  labels.forEach((label) => {\n    label.set(VISIBLE_STATUS, label.get('visible'));\n    if (!activeDatas.find((d) => isEqual(d, label.get('origin').data))) {\n      label.hide();\n    } else {\n      label.show();\n    }\n  });\n}\n\n// 重置 labels 的 visible 状态\nfunction resetLabels(view) {\n  const labels = view.geometries[0].labelsContainer.getChildren();\n  labels.forEach((label) => {\n    const visible = label.get(VISIBLE_STATUS) !== undefined ? label.get(VISIBLE_STATUS) : true;\n    label.set('visible', visible);\n    label.set(VISIBLE_STATUS, undefined);\n  });\n}\n\n/**\n * @override 自定义韦恩图 · 图形元素激活交互\n */\nclass VennElementActive extends ElementActiveAction {\n  /** 激活图形元素 */\n  active() {\n    super.active();\n    this.toggleLabels();\n  }\n\n  /** toggle 图形元素激活状态 */\n  toggle() {\n    super.toggle();\n    this.toggleLabels();\n  }\n\n  /** 重置 */\n  reset() {\n    super.reset();\n    this.resetLabels();\n  }\n\n  /**\n   * toggle labels 的 visible 状态\n   */\n  toggleLabels() {\n    toggleLabels(this.context.view, this.stateName);\n  }\n\n  /**\n   *  重置 labels 的 visible 状态\n   */\n  resetLabels() {\n    resetLabels(this.context.view);\n  }\n}\n// 自定义注册韦恩图 · 图形元素激活交互\nregisterAction('custom-venn-element-active', VennElementActive as any);\n// ========= Active 交互 =========\nregisterInteraction('custom-venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'custom-venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'custom-venn-element-active:reset' }],\n});\n\nconst data = [\n  { sets: ['A'], size: 12, label: 'A' },\n  { sets: ['B'], size: 12, label: 'B' },\n  { sets: ['C'], size: 12, label: 'C' },\n  { sets: ['A', 'B'], size: 2, label: 'A&B' },\n  { sets: ['A', 'C'], size: 2, label: 'A&C' },\n  { sets: ['B', 'C'], size: 2, label: 'B&C' },\n  { sets: ['A', 'B', 'C'], size: 1, label: 'A&B&C' },\n];\n\nconst plot = new Venn('container', {\n  data,\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.8 },\n  label: {\n    formatter: (datum) => {\n      let size = datum.size;\n      data.forEach((d) => {\n        if (d.label !== datum.label) {\n          const contains = datum.sets.reduce((a, b) => a && d.sets.includes(b), true);\n          size -= contains ? d.size : 0;\n        }\n      });\n      return `${datum.label} ${size}`;\n    },\n  },\n  interactions: [{ type: 'custom-venn-element-active' }],\n});\nplot.render();\n",title:{zh:"自定义韦恩图元素激活交互",en:"Custom venn element active"},filename:"element-active.ts",isNew:!1},{id:"element-highlight",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/SeUOpp1SJ3/yuansugaoliangjiaohu.gif",source:"import { Venn, G2 } from '@antv/g2plot';\nimport { isEqual } from '@antv/util';\n\nconst { getActionClass, registerAction } = G2;\nconst ElementHighlightAction: any = getActionClass('venn-element-highlight');\n\n/** 用一个变量来存储 label 的初始化 visible 状态 */\nconst VISIBLE_STATUS = 'visible-status';\n\n//  toggle labels 的 visible 状态\nfunction toggleLabels(view, stateName) {\n  const activeElements = view.geometries[0].elements.filter((ele) => ele.getStates().includes(stateName));\n  const activeDatas = activeElements.map((ele) => ele.getData());\n  const labels = view.geometries[0].labelsContainer.getChildren();\n  labels.forEach((label) => {\n    label.set(VISIBLE_STATUS, label.get('visible'));\n    if (!activeDatas.find((d) => isEqual(d, label.get('origin').data))) {\n      label.hide();\n    } else {\n      label.show();\n    }\n  });\n}\n\n// 重置 labels 的 visible 状态\nfunction resetLabels(view) {\n  const labels = view.geometries[0].labelsContainer.getChildren();\n  labels.forEach((label) => {\n    const visible = label.get(VISIBLE_STATUS) !== undefined ? label.get(VISIBLE_STATUS) : true;\n    label.set('visible', visible);\n    label.set(VISIBLE_STATUS, undefined);\n  });\n}\n\n/**\n * @override 自定义韦恩图 · 图形元素高亮交互\n */\nclass VennElementHighlight extends ElementHighlightAction {\n  /** 激活图形元素 */\n  highlight() {\n    super.highlight();\n    this.toggleLabels();\n  }\n\n  /** toggle 图形元素激活状态 */\n  toggle() {\n    super.toggle();\n    this.toggleLabels();\n  }\n\n  /** 重置 */\n  reset() {\n    super.reset();\n    this.resetLabels();\n  }\n\n  /**\n   * toggle labels 的 visible 状态\n   */\n  toggleLabels() {\n    toggleLabels(this.context.view, this.stateName);\n  }\n\n  /**\n   *  重置 labels 的 visible 状态\n   */\n  resetLabels() {\n    resetLabels(this.context.view);\n  }\n}\n\n// 自定义注册韦恩图 · 图形元素高亮交互\nregisterAction('venn-element-highlight', VennElementHighlight as any);\n\nconst data = [\n  { sets: ['A'], size: 12, label: 'A' },\n  { sets: ['B'], size: 12, label: 'B' },\n  { sets: ['C'], size: 12, label: 'C' },\n  { sets: ['A', 'B'], size: 2, label: 'A&B' },\n  { sets: ['A', 'C'], size: 2, label: 'A&C' },\n  { sets: ['B', 'C'], size: 2, label: 'B&C' },\n  { sets: ['A', 'B', 'C'], size: 1, label: 'A&B&C' },\n];\nconst plot = new Venn('container', {\n  data,\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.8 },\n  label: {\n    formatter: (datum) => {\n      let size = datum.size;\n      data.forEach((d) => {\n        if (d.label !== datum.label) {\n          const contains = datum.sets.reduce((a, b) => a && d.sets.includes(b), true);\n          size -= contains ? d.size : 0;\n        }\n      });\n      return `${datum.label} ${size}`;\n    },\n  },\n  interactions: [{ type: 'venn-element-highlight' }],\n});\nplot.render();\n",title:{zh:"自定义韦恩图元素高亮交互",en:"Custom venn element highlight"},filename:"element-highlight.ts",isNew:!1},{id:"legend-active",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/zuqvwJcZPQ/tulijihuo.gif",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  pointStyle: { fillOpacity: 0.8 },\n  interactions: [\n    {\n      type: 'legend-active',\n      cfg: {\n        // 自定义图例激活交互的触发行为和反馈\n        start: [\n          { trigger: 'legend-item:mouseenter', action: ['cursor:pointer'] },\n          { trigger: 'legend-item:click', action: ['list-highlight:highlight', 'venn-element-active:active'] },\n        ],\n        end: [\n          { trigger: 'legend-item:mouseleave', action: ['cursor:default'] },\n          { trigger: 'legend-item:dblclick', action: ['list-highlight:reset', 'venn-element-active:reset'] },\n        ],\n      },\n    },\n  ],\n});\nplot.render();\n",title:{zh:"自定义韦恩图图例激活交互",en:"Custom venn legend active"},filename:"legend-active.ts",isNew:!1},{id:"legend-highlight",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/VLfTkx3NpU/tuligaoliangjiaohu.gif",source:"import { Venn } from '@antv/g2plot';\n\nconst plot = new Venn('container', {\n  data: [\n    { sets: ['A'], size: 12, label: 'A' },\n    { sets: ['B'], size: 12, label: 'B' },\n    { sets: ['C'], size: 12, label: 'C' },\n    { sets: ['A', 'B'], size: 2, label: 'A&B' },\n    { sets: ['A', 'C'], size: 2, label: 'A&C' },\n    { sets: ['B', 'C'], size: 2, label: 'B&C' },\n    { sets: ['A', 'B', 'C'], size: 1 },\n  ],\n  setsField: 'sets',\n  sizeField: 'size',\n  interactions: [\n    {\n      type: 'legend-highlight',\n      cfg: {\n        // 自定义图例高亮交互的触发行为\n        start: [\n          { trigger: 'legend-item:mouseenter', action: ['cursor:pointer'] },\n          {\n            trigger: 'legend-item:click',\n            action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'legend-item:mouseleave', action: ['cursor:default'] },\n          { trigger: 'legend-item:dblclick', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] },\n        ],\n      },\n    },\n  ],\n});\nplot.render();\n",title:{zh:"自定义韦恩图图例高亮交互",en:"Custom venn legend highlight"},filename:"legend-highlight.ts",isNew:!1}],icon:"",id:"venn",title:{en:"Venn",zh:"韦恩图"},childrenKey:"demos",order:12},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/AF1%24co0stf/7db34ba1-5adc-4fca-ab40-fdeb45195ffb.png",source:"import { CirclePacking } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/%24m0nDoQYqH/basic-packing.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new CirclePacking('container', {\n      autoFit: true,\n      data,\n      label: false,\n      legend: false,\n      hierarchyConfig: {\n        sort: (a, b) => b.depth - a.depth,\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"Circle packing",en:"Circle packing"},filename:"basic.ts",isNew:!1},{id:"nest",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/WllYxjrsTq/0bd24155-db51-4c5c-9f82-e77761227d4d.png",source:"import { CirclePacking } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/flare.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new CirclePacking('container', {\n      autoFit: true,\n      padding: 0,\n      data,\n      sizeField: 'r',\n      // 自定义颜色\n      colorField: 'r',\n      color: 'rgb(252, 253, 191)-rgb(231, 82, 99)-rgb(183, 55, 121)',\n      // 自定义样式\n      pointStyle: {\n        stroke: 'rgb(183, 55, 121)',\n        lineWidth: 0.5,\n      },\n      label: false,\n      legend: false,\n      drilldown: {\n        enabled: true,\n        breadCrumb: {\n          position: 'top-left',\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"多层 circle packing",en:"Nest circle packing"},filename:"nest.ts",isNew:!1},{id:"label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/o6c3MPudxC/c7ec18d6-ae65-46ea-857f-c499684c9fc5.png",source:"import { CirclePacking } from '@antv/g2plot';\nfetch('https://gw.alipayobjects.com/os/antfincdn/%24m0nDoQYqH/basic-packing.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new CirclePacking('container', {\n      autoFit: true,\n      padding: 0,\n      data,\n      sizeField: 'r',\n      color: 'rgb(252, 253, 191)-rgb(231, 82, 99)-rgb(183, 55, 121)',\n      // 自定义 label 样式\n      label: {\n        formatter: ({ name }) => {\n          return name !== 'root' ? name : '';\n        },\n        // 偏移\n        offsetY: 8,\n        style: {\n          fontSize: 12,\n          textAlign: 'center',\n          fill: 'rgba(0,0,0,0.65)',\n        },\n      },\n      legend: false,\n    });\n\n    plot.render();\n  });\n",title:{zh:"展示数据标签",en:"Display label"},filename:"label.ts",isNew:!1},{id:"custom-padding",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/dCP6LawPW0/7ffa2fef-af09-4df4-8db3-b8f1ddbc63a5.png",source:"import { CirclePacking } from '@antv/g2plot';\nfetch('https://gw.alipayobjects.com/os/antfincdn/%24m0nDoQYqH/basic-packing.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new CirclePacking('container', {\n      autoFit: true,\n      padding: 0,\n      data,\n      hierarchyConfig: {\n        padding: 0.01,\n      },\n      color: 'rgb(252, 253, 191)-rgb(231, 82, 99)-rgb(183, 55, 121)',\n      // 自定义 label 样式\n      label: false,\n      legend: false,\n    });\n\n    plot.render();\n  });\n",title:{zh:"自定义圆圈之间的 padding 距离",en:"Custom padding between circles"},filename:"custom-padding.ts",isNew:!1},{id:"philosopher",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/PPFPHLW0yX/059ab342-efca-4665-bbcc-17758959b9cb.png",source:"import { CirclePacking } from '@antv/g2plot';\n\nconst format = (v: string) => (v ? (v.length > 3 ? `${v.slice(0, 2)}...` : v) : '');\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/Nco%241GHZqb/philosopher.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const { relations, schools, philosophers } = data;\n    function getCirclePackingData() {\n      const root = {\n        name: '哲学家',\n        children: [],\n      };\n\n      const schoolPhilosophers = relations.filter((d) => d.type === '0');\n      const map = new Map();\n      for (const { from, to } of schoolPhilosophers) {\n        const s = schools.find((d) => d.id === +from);\n        const p = philosophers.find((d) => d.id === +to);\n        const pNode = {\n          name: p.name,\n          value: 1,\n          children: [],\n        };\n        const sNode = map.get(s.name);\n\n        if (!sNode) {\n          const newSNode = {\n            name: s.name,\n            children: [pNode],\n          };\n          map.set(s.name, newSNode);\n        } else {\n          sNode.children.push(pNode);\n        }\n      }\n\n      for (const [key, value] of map) {\n        if (value.children.length <= 1) {\n          const node = value.children[0];\n          node.name = `${node.name}: ${value.name}`;\n          root.children.push(node);\n        } else {\n          root.children.push(value);\n        }\n      }\n\n      return root;\n    }\n\n    const plot = new CirclePacking('container', {\n      width: 600,\n      height: 600,\n      appendPadding: 30,\n      autoFit: true,\n      padding: 0,\n      data: getCirclePackingData(),\n      colorField: 'r',\n      color: 'rgb(252, 253, 191)-rgb(231, 82, 99)-rgb(183, 55, 121)',\n      pointStyle: {\n        stroke: 'rgb(183, 55, 121)',\n        lineWidth: 0.5,\n      },\n      label: {\n        formatter: (d) => {\n          return d.children.length === 0 ? format(d.name) : '';\n        },\n        offsetY: 12,\n        style: {\n          fontSize: 10,\n          textAlign: 'center',\n          fill: 'rgba(0,0,0,0.65)',\n        },\n      },\n      hierarchyConfig: {\n        padding: 0.01,\n      },\n      legend: false,\n    });\n\n    plot.render();\n  });\n",title:{zh:"哲学家和哲学流派的关系",en:"Relations between philosophers and philosophical schools"},filename:"philosopher.ts",isNew:!1}],icon:"",id:"circle-packing",title:{en:"Circle Packing",zh:"Circle Packing"},childrenKey:"demos",order:40}],childrenKey:"examples"},{id:"treemap",title:{zh:"矩形树图",en:"Treemap"},icon:"other",examples:[],childrenKey:"examples"},{id:"plugin",title:{zh:"高级图表",en:"Advanced Plots"},icon:"other",examples:[{demos:[{id:"hill-column",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*zBrDQJhu1BwAAAAAAAAAAAAAARQnAQ",source:"import { isObject, deepMix } from '@antv/util';\nimport { P, G2 } from '@antv/g2plot';\n\n// 自定义图形\nG2.registerShape('interval', 'hill', {\n  draw(info, container) {\n    const { points, style, defaultStyle = {} } = info;\n\n    let path = [\n      ['M', points[0].x, points[0].y],\n      ['L', (points[1].x + points[2].x) / 2, points[1].y],\n      ['L', points[3].x, points[3].y],\n      ['Z'],\n    ];\n\n    path = this.parsePath(path);\n\n    return container.addShape('path', {\n      attrs: {\n        path,\n        ...defaultStyle,\n        ...style,\n      },\n    });\n  },\n});\n\n// 1. 定义配置\nconst defaultOptions = {\n  columnWidthRatio: 1.2,\n};\n\n// 2. adaptor 实现\nfunction adaptor(params) {\n  const { chart, options } = params;\n  const { data, xField, yField, columnWidthRatio, columnStyle, theme } = options;\n\n  // 数据\n  chart.data(data);\n\n  // 几何图形\n  const i = chart\n    .interval()\n    .position(`${xField}*${yField}`)\n    .shape('hill')\n    .style(`${xField}*${yField}`, (x, y) => {\n      return typeof columnStyle === 'function' ? columnStyle({ [xField]: x, [yField]: y }) : columnStyle;\n    });\n\n  // 设置重叠比率\n  chart.theme(\n    deepMix({}, isObject(theme) ? theme : G2.getTheme(theme), {\n      columnWidthRatio: columnWidthRatio,\n    })\n  );\n\n  const gap = (1 / data.length / 2) * columnWidthRatio; // 左右预留\n  chart.scale({\n    genre: {\n      range: [gap, 1 - gap],\n    },\n  });\n\n  return params;\n}\n\n// 3. G2Plot 上使用\nconst data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\nconst hill = new P(\n  'container',\n  {\n    data,\n    appendPadding: 16,\n    meta: {\n      genre: {\n        alias: '游戏种类', // 列定义，定义该属性显示的别名\n      },\n      sold: {\n        alias: '销售量',\n      },\n    },\n    xField: 'genre',\n    yField: 'sold',\n    columnStyle: {\n      fillOpacity: 0.3,\n    },\n  },\n  adaptor,\n  defaultOptions\n); // 引入上述的封装，或者将上述代码发包\n\nhill.render();\n",title:{zh:"自定义柱图",en:"Custom hill column"},filename:"hill-column.ts",isNew:!1}],icon:"",id:"basic",title:{en:"Custom Plots",zh:"自定义图形"},childrenKey:"demos",order:1},{demos:[{id:"pie-custom-shape",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*5f9ESplug4IAAAAAAAAAAAAAARQnAQ",source:"import { Pie, G2 } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\n/**\n * G2 自定义形状函数\n * 第一个参数为 针对的内容 interval 为 g2 interval 对象\n * 第二个参数为 注册命名 Shape 在图表 shape 配置中使用\n */\nG2.registerShape('interval', 'slice-shape', {\n  // 绘制形状\n  draw(cfg, container) {\n    // 正常的数据位点，由内部计算。 一般为 {x,y} 组成的数组 有四个 对象 代表四个点的位置。 极坐标和坐标翻转会影响 x y 的具体位置 x y 为图表位置的百分比\n    const points = cfg.points;\n\n    // path 为路径\n    let path = [];\n    // 计算出 高度 / 2 = 半径 r\n    const r = (points[2].x - points[1].x) / 2;\n    // 开始点 M\n    path.push(['M', points[0].x, points[0].y]);\n    // 线段链接 L 从 上一个 xy[0] 到 现在的 xy[1]\n    path.push(['L', points[1].x, points[1].y]);\n    // 画半圆 A r 半径 从上一个 xy[1] 画半圆到 xy[2]\n    path.push(['A', r, r, 0, 0, 0, points[2].x, points[2].y]);\n    path.push(['L', points[3].x, points[3].y]);\n    path.push(['A', r, r, 0, 2, 2, 0, points[0].y]);\n    // 回到开始点\n    path.push('Z');\n    // 将0-1空间的坐标转换为画布坐标\n    path = this.parsePath(path);\n    // 半圆翻转\n    path[4][5] = 1;\n\n    // 通过 container.addShape 方法 添加形状\n    return container.addShape('path', {\n      attrs: {\n        // 描边\n        lineWidth: 1,\n        stroke: '#fff',\n        // 颜色填充\n        fill: cfg.color,\n        // 画路径\n        path,\n      },\n    });\n  },\n});\n\nconst piePlot = new Pie('container', {\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  innerRadius: 0.7,\n  // 自定义形状 和 上方 G2.registerShape 对应\n  shape: 'slice-shape',\n});\n\npiePlot.render();\n",title:{zh:"自定义 环形图 形状",en:"Custom pie shape"},filename:"pie-custom-shape.ts",isNew:!1},{id:"bar-custom-shape",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/rWp4Sq5ofk/10256978-7f35-4a4c-b67c-39aaad269bc2.png",source:"import { Bar, G2 } from '@antv/g2plot';\n\nconst data = [\n  { year: '1951 年', value: 38 },\n  { year: '1952 年', value: 52 },\n  { year: '1956 年', value: 61 },\n  { year: '1957 年', value: 145 },\n  { year: '1958 年', value: 48 },\n];\n\n// G2 自定义形状函数\nG2.registerShape('interval', 'custom-shape', {\n  draw(cfg, container) {\n    const points = cfg.points;\n\n    let path = [];\n    const r = (points[2].x - points[1].x) / 2;\n\n    // 开始点 注意 最标轴已经颠倒 x 代表了 y\n    path.push(['M', points[3].x, points[3].y]);\n    path.push(['L', points[2].x, points[2].y - r]);\n    path.push(['A', r, r, 0, 0, 0, points[1].x, points[1].y - r]);\n    path.push(['L', points[1].x, points[1].y - r]);\n    path.push(['L', points[0].x, points[0].y]);\n    // 回到开始点\n    path.push('Z');\n    path = this.parsePath(path);\n\n    return container.addShape('path', {\n      attrs: {\n        // 颜色\n        fill: cfg.color,\n        // 画路径\n        path,\n      },\n    });\n  },\n});\n\nconst bar = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'year',\n  seriesField: 'year',\n  legend: {\n    position: 'top-left',\n  },\n  // 自定义 shape\n  shape: 'custom-shape',\n});\n\nbar.render();\n",title:{zh:"自定义 条形图 形状",en:"Custom bar shape"},filename:"bar-custom-shape.ts",isNew:!1},{id:"conversion-bar-shape",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/81uizWIqmn/75bf097d-0c94-437f-aec9-5b5d9ba98cd2.png",source:"import { Column, G2, addWaterWave } from '@antv/g2plot';\n\nconst X_FIELD = 'stage';\nconst Y_FIELD = 'count';\nconst CONVERSTION_RATE = 'conversion-rate';\nconst TOOLTIP_TITLE = 'tooltip_title';\n// 水波宽度\nconst waveLength = 100;\n\nconst data = [\n  { stage: '简历投递数', count: 556834 },\n  { stage: '简历评估通过数', count: 500000 },\n  { stage: '终面通过数', count: 440000 },\n  { stage: 'offer 数', count: 320000 },\n  { stage: '入职数', count: 114000 },\n];\n\n// 添加转化率\nfunction transformData(datas) {\n  return datas\n    .map((item, index) => ({\n      ...item,\n      ['tooltip_title']: `转化率 (${datas[index + 1]?.stage}/${item?.stage})`,\n    }))\n    .reduce((result, d, idx) => {\n      if (idx > 0) {\n        result[idx - 1][CONVERSTION_RATE] =\n          result[idx - 1][Y_FIELD] !== 0 ? `${Math.round((d[Y_FIELD] / result[idx - 1][Y_FIELD]) * 100)}%` : '∞';\n      }\n      result.push(d);\n      return result;\n    }, []);\n}\n\nfunction getRectPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n  return path;\n}\n\nfunction getFillAttrs(cfg) {\n  const defaultAttrs = {\n    lineWidth: 0,\n    fill: '#1890FF',\n    fillOpacity: 0.85,\n  };\n\n  return {\n    ...defaultAttrs,\n    ...cfg.style,\n    fill: cfg.color,\n    stroke: cfg.color,\n    fillOpacity: cfg.opacity,\n  };\n}\n\n// 曲线 C 三个点 画一个曲线\nconst waterWave = (start, end, radio) => {\n  return [\n    [\n      'C',\n      start.x,\n      start.y,\n      start.x + ((end.x - start.x) / 4) * radio,\n      start.y,\n      (start.x + end.x) / 2,\n      (start.y + end.y) / 2,\n    ],\n    ['C', (start.x + end.x) / 2, (start.y + end.y) / 2, end.x - ((end.x - start.x) / 4) * radio, end.y, end.x, end.y],\n  ];\n};\n\n// 自定义 Shape\nG2.registerShape('interval', 'link-funnel', {\n  draw(shapeInfo, container) {\n    const attrs = getFillAttrs(shapeInfo);\n    // 当前 interval 形状节点数据 和 在一个 interval 形状节点数据\n    const { points, nextPoints } = shapeInfo;\n    let rectPath = getRectPath(points);\n    rectPath = this.parsePath(rectPath);\n\n    const height = rectPath[1][2] - rectPath[0][2];\n\n    const backgroundPath = this.parsePath([\n      ['M', points[0].x, 0],\n      ['L', points[0].x, 1],\n      ['L', points[2].x, 1],\n      ['L', points[2].x, 0],\n    ]);\n\n    // 生成 IGroup 实体分组对象\n    const group = container.addGroup();\n\n    // 灰色背景\n    group.addShape('path', {\n      name: 'background',\n      capture: false,\n      attrs: {\n        ...attrs,\n        fill: '#efefef',\n        path: backgroundPath,\n      },\n    });\n\n    const boxPath = this.parsePath([\n      ['M', points[0].x, 0],\n      ['L', points[0].x, 1.1],\n      ['L', points[2].x, 1.1],\n      ['L', points[2].x, 0],\n      ['L', points[0].x, 0],\n    ]);\n\n    /** 水波 ---- */\n    const centerX = (rectPath[0][1] + rectPath[2][1]) / 2;\n    const centerY = (boxPath[0][2] + boxPath[1][2]) / 2;\n    const wavesHeight = boxPath[0][2] - boxPath[1][2];\n    const r = 1 - (rectPath[0][2] - rectPath[1][2]) / wavesHeight;\n\n    // 1. 绘制一个波\n    const waves = group.addGroup({\n      name: 'waves',\n      attrs: {\n        height,\n        text: shapeInfo.data[X_FIELD],\n        path: rectPath,\n      },\n    });\n\n    // 2. 波对应的 clip 裁剪形状\n    const clipPath = waves.setClip({\n      type: 'path',\n      name: 'clipPath',\n      attrs: {\n        path: boxPath,\n      },\n    });\n\n    // 3. 绘制波形\n    addWaterWave(\n      centerX,\n      centerY,\n      r,\n      2,\n      { fill: attrs.fill, opacity: 0.8 },\n      waves,\n      clipPath,\n      wavesHeight,\n      waveLength,\n      undefined\n    );\n\n    const point = this.parsePoint({\n      x: (points[3].x + points[0].x) / 2,\n      y: 1,\n    });\n\n    // 添加文本 数值 value\n    group.addShape('text', {\n      attrs: {\n        ...point,\n        y: point.y - 5,\n        text: shapeInfo.data[Y_FIELD],\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        fontSize: 20,\n        fill: '#666',\n      },\n      name: 'text-value',\n    });\n\n    // 添加文本 类型 type\n    group.addShape('text', {\n      attrs: {\n        ...point,\n        y: point.y - 35,\n        text: shapeInfo.data[X_FIELD],\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        fontSize: 15,\n        fill: '#666',\n      },\n      name: 'text-type',\n    });\n\n    // 存在下一节点, 添加连接带\n    if (nextPoints) {\n      const linkPath = this.parsePath([\n        ['M', points[2].x, points[2].y],\n        // 添加曲线\n        ...waterWave(points[2], nextPoints[1], 1.2),\n        ['L', nextPoints[0].x, nextPoints[0].y],\n        ['L', points[3].x, points[3].y],\n        ['Z'],\n      ]);\n\n      // 添加链接形状\n      const conversionGroup = group.addShape('path', {\n        name: 'conversion',\n        attrs: {\n          ...attrs,\n          fillOpacity: 0.1,\n          path: linkPath,\n          lineWidth: 1,\n          strokeOpacity: 0,\n        },\n      });\n\n      const rate = shapeInfo.data[CONVERSTION_RATE];\n\n      const point = this.parsePoint({\n        x: points[3].x + (nextPoints[0].x - points[3].x) / 2,\n        y: (nextPoints[1].y - nextPoints[0].y) / 2,\n      });\n\n      // 添加 转化率文本\n      const rateText = group.addShape('text', {\n        name: 'rate-text',\n        attrs: {\n          ...point,\n          rate,\n          text: rate,\n          // 字体颜色\n          fill: '#666',\n          textAlign: 'center',\n        },\n      });\n\n      const activePath = () => {\n        conversionGroup.attr({ strokeOpacity: 1 });\n      };\n\n      const unActivePath = () => {\n        conversionGroup.attr({ strokeOpacity: 0 });\n      };\n\n      // 添加简单事件\n      conversionGroup.on('mouseenter', activePath);\n      conversionGroup.on('mouseout', unActivePath);\n      rateText.on('mouseenter', activePath);\n      rateText.on('mouseout', unActivePath);\n    }\n    return group;\n  },\n});\n\nconst newData = transformData(data);\n\nconst columnPlot = new Column('container', {\n  data: newData,\n  xField: X_FIELD,\n  yField: Y_FIELD,\n  seriesField: X_FIELD,\n  columnBackground: {},\n  xAxis: false,\n  yAxis: false,\n  label: false,\n  legend: false,\n  shape: 'link-funnel',\n  appendPadding: [60, 0, 20, 0],\n  tooltip: {\n    showTitle: false,\n    shared: false,\n    customItems: (item) => {\n      const { data } = item[0];\n      return [\n        {\n          ...item[0],\n          name: data[TOOLTIP_TITLE],\n          value: data[CONVERSTION_RATE],\n        },\n      ];\n    },\n  },\n  interactions: [\n    {\n      type: 'tooltip',\n      cfg: {\n        // 重新定义 tooltip 的触发时机，只有hover到 name='column'(实际柱子)的时候，才展示 tooltip\n        start: [\n          {\n            trigger: 'conversion:mousemove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n          {\n            trigger: 'conversion:touchmove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n          {\n            trigger: 'rate-text:mousemove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n          {\n            trigger: 'rate-text:touchmove',\n            action: 'tooltip:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n          },\n        ],\n        end: [\n          { trigger: 'conversion:mouseleave', action: 'tooltip:hide' },\n          { trigger: 'conversion:touchend', action: 'tooltip:hide' },\n          { trigger: 'rate-text:mouseleave', action: 'tooltip:hide' },\n          { trigger: 'rate-text:touchend', action: 'tooltip:hide' },\n          { trigger: 'plot:leave', action: 'tooltip:hide' },\n        ],\n      },\n    },\n  ],\n});\n\ncolumnPlot.render();\n",title:{zh:"自定义 水波转化漏斗图 形状",en:"Custom water conversion bar shape"},filename:"conversion-bar-shape.ts",isNew:!1}],icon:"",id:"custom-shape",title:{en:"Custom Shape",zh:"自定义 Shape"},childrenKey:"demos",order:1},{demos:[{id:"range-area",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/LSyrzQnPWL/ad65dd9d-ced8-42ca-a756-8fe4593157e6.png",source:"import { Mix } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/qE48lpzwRc/range-area-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const { area: data1, line: data2 } = data;\n    const rangeAreaPlot = new Mix('container', {\n      appendPadding: 8,\n      syncViewPadding: true,\n      tooltip: { shared: true, showMarkers: false, showCrosshairs: true, offsetY: -50 },\n      views: [\n        {\n          data: data1,\n          axes: {},\n          meta: {\n            time: {\n              type: 'time',\n              mask: 'MM-DD',\n              nice: true,\n              tickInterval: 24 * 3600 * 1000 * 2,\n              range: [0, 1],\n            },\n            temperature: {\n              nice: true,\n              sync: true,\n              alias: '温度范围',\n            },\n          },\n          // view1: prepare a area plot, mapping position to `time*temperature`\n          geometries: [\n            {\n              type: 'area',\n              xField: 'time',\n              yField: 'temperature',\n              mapping: {},\n            },\n          ],\n        },\n        {\n          data: data2,\n          axes: false,\n          meta: {\n            time: {\n              type: 'time',\n              mask: 'MM-DD',\n              nice: true,\n              tickInterval: 24 * 3600 * 1000 * 2,\n              range: [0, 1],\n            },\n            temperature: {\n              sync: 'temperature',\n              alias: '温度',\n            },\n          },\n          // view2: prepare a line plot and point plot, mapping position to `time*temperature` (share data)\n          geometries: [\n            {\n              type: 'line',\n              xField: 'time',\n              yField: 'temperature',\n              mapping: {},\n            },\n            {\n              type: 'point',\n              xField: 'time',\n              yField: 'temperature',\n              mapping: {\n                shape: 'circle',\n                style: {\n                  fillOpacity: 1,\n                },\n              },\n            },\n          ],\n        },\n      ],\n    });\n\n    // Step 3: 渲染图表\n    rangeAreaPlot.render();\n  });\n",title:{zh:"区间面积图",en:"Range area Plot"},filename:"range-area.ts",isNew:!1},{id:"brush-filter-record",screenshot:"https://gw.alipayobjects.com/mdn/rms_f5c722/afts/img/A*19AdR6-BjRgAAAAAAAAAAABkARQnAQ",source:"import { G2, Mix } from '@antv/g2plot';\n\n// 定义新的交互\nG2.registerInteraction('other-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    { trigger: 'mask:dragstart', action: 'rect-mask:moveStart' },\n  ],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'rect-mask:resize' },\n    {\n      trigger: 'mask:drag',\n      isEnable(context) {\n        return context.isInPlot();\n      },\n      action: 'rect-mask:move',\n    },\n    { trigger: 'mask:change', action: 'element-sibling-filter-record:filter' },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: 'rect-mask:end' },\n    { trigger: 'mask:dragend', action: 'rect-mask:moveEnd' },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['rect-mask:hide', 'element-sibling-filter-record:reset'] }],\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const subData = data.slice(0, 400);\n\n    const plot = new Mix('container', {\n      tooltip: false,\n      views: [\n        {\n          region: {\n            start: { x: 0, y: 0 },\n            end: { x: 0.5, y: 1 },\n          },\n          padding: [10, 20, 40, 50],\n          data: subData,\n          meta: {\n            price: { nice: true },\n          },\n          axes: {},\n          geometries: [\n            {\n              type: 'point',\n              xField: 'carat',\n              yField: 'price',\n              mapping: {},\n            },\n          ],\n          interactions: [{ type: 'other-visible' }],\n        },\n        {\n          region: {\n            start: { x: 0.5, y: 0 },\n            end: { x: 1, y: 1 },\n          },\n          padding: [10, 20, 40, 50],\n          data: subData,\n          meta: {\n            x: { nice: true },\n          },\n          axes: { x: { min: 0, tickCount: 5 } },\n          geometries: [\n            {\n              type: 'point',\n              xField: 'depth',\n              yField: 'x',\n              mapping: { shape: 'circle' },\n            },\n          ],\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"刷选联动",en:"Brush filter record"},filename:"brush-filter-record.ts",isNew:!1},{id:"composite-funnel",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/SbR2Vn52G6/02155166-d38c-4f32-825e-720ec25804e0.png",source:"import { Mix } from '@antv/g2plot';\n\nconst expectData = [\n  { value: 100, name: '展现' },\n  { value: 80, name: '点击' },\n  { value: 60, name: '访问' },\n  { value: 40, name: '咨询' },\n  { value: 30, name: '订单' },\n];\nconst actualData = [\n  { value: 80, name: '展现' },\n  { value: 50, name: '点击' },\n  { value: 30, name: '访问' },\n  { value: 10, name: '咨询' },\n  { value: 5, name: '订单' },\n];\n\nconst plot = new Mix('container', {\n  appendPadding: [8, 40, 8, 18],\n  syncViewPadding: true,\n  meta: {\n    value: { sync: true },\n  },\n  tooltip: { shared: true, showMarkers: false, showTitle: false },\n  plots: [\n    {\n      type: 'funnel',\n      options: {\n        data: expectData,\n        yField: 'value',\n        xField: 'name',\n        shape: 'pyramid',\n        conversionTag: false,\n        label: { position: 'right', style: { fill: 'rgba(0,0,0,0.65)' }, offsetX: 10 },\n        funnelStyle: { fillOpacity: 0.85 },\n      },\n    },\n    {\n      type: 'funnel',\n      options: {\n        data: actualData,\n        yField: 'value',\n        xField: 'name',\n        shape: 'pyramid',\n        conversionTag: false,\n        label: false,\n        funnelStyle: { lineWidth: 1, stroke: '#fff' },\n      },\n    },\n  ],\n  interactions: [{ type: 'element-active' }],\n});\n\nplot.render();\n",title:{zh:"复合漏斗图",en:"Composite funnel plot"},filename:"composite-funnel.ts",isNew:!1},{id:"combo-plot",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/GMzV%24DSDAX/68a9190b-a4eb-4ad4-be3b-4fef31595a3f.png",source:"import { Mix } from '@antv/g2plot';\n\nconst averageData = [\n  { date: '2015-02', value: 21168 },\n  { date: '2015-08', value: 21781 },\n  { date: '2016-01', value: 23818 },\n  { date: '2017-02', value: 25316 },\n  { date: '2018-01', value: 26698 },\n  { date: '2018-08', value: 27890 },\n];\n\nconst plot = new Mix('container', {\n  appendPadding: 8,\n  tooltip: { shared: true },\n  syncViewPadding: true,\n  plots: [\n    {\n      type: 'column',\n      options: {\n        data: [\n          { date: '2015-02', value: 160 },\n          { date: '2015-08', value: 245 },\n          { date: '2016-01', value: 487 },\n          { date: '2017-02', value: 500 },\n          { date: '2018-01', value: 503 },\n          { date: '2018-08', value: 514 },\n        ],\n        xField: 'date',\n        yField: 'value',\n        yAxis: {\n          type: 'log',\n          max: 100000,\n        },\n        meta: {\n          date: {\n            sync: true,\n          },\n          value: {\n            alias: '店数(间)',\n          },\n        },\n        label: {\n          position: 'middle',\n        },\n      },\n    },\n    {\n      type: 'line',\n      options: {\n        data: averageData,\n        xField: 'date',\n        yField: 'value',\n        xAxis: false,\n        yAxis: {\n          type: 'log',\n          max: 100000,\n        },\n        label: {\n          offsetY: -8,\n        },\n        meta: {\n          value: {\n            alias: '平均租金(元)',\n          },\n        },\n        color: '#FF6B3B',\n        annotations: averageData.map((d) => {\n          return {\n            type: 'dataMarker',\n            position: d,\n            point: {\n              style: {\n                stroke: '#FF6B3B',\n                lineWidth: 1.5,\n              },\n            },\n          };\n        }),\n      },\n    },\n    {\n      type: 'line',\n      options: {\n        data: [\n          { date: '2015-02', value: null },\n          { date: '2015-08', value: 0.029 },\n          { date: '2016-01', value: 0.094 },\n          { date: '2017-02', value: 0.148 },\n          { date: '2018-01', value: 0.055 },\n          { date: '2018-08', value: 0.045 },\n        ],\n        xField: 'date',\n        yField: 'value',\n        xAxis: false,\n        yAxis: {\n          line: null,\n          grid: null,\n          position: 'right',\n          max: 0.16,\n          tickCount: 8,\n        },\n        meta: {\n          date: {\n            sync: 'date',\n          },\n          value: {\n            alias: '递增',\n            formatter: (v) => `${(v * 100).toFixed(1)}%`,\n          },\n        },\n        smooth: true,\n        label: {\n          callback: (value) => {\n            return {\n              offsetY: value === 0.148 ? 36 : value === 0.055 ? 0 : 20,\n              style: {\n                fill: '#1AAF8B',\n                fontWeight: 700,\n                stroke: '#fff',\n                lineWidth: 1,\n              },\n            };\n          },\n        },\n        color: '#1AAF8B',\n      },\n    },\n  ],\n});\n\nplot.render();\n",title:{zh:"组合图表",en:"Combo plot"},filename:"combo-plot.ts",isNew:!1},{id:"drinks",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*S4CuR5J89jsAAAAAAAAAAAAAARQnAQ",source:'import { Mix } from \'@antv/g2plot\';\n\nconst data = [\n  [\'Cosmopolitan\', 51, 45, 6],\n  [\'Martini\', 67, 39, 28],\n  [\'Mojito\', 19, 11, 8],\n  [\'Margarita\', 47, 33, 14],\n  [\'Mai Tai\', 32, 20, 12],\n  [\'Beer\', 70, 20, 50],\n];\n\nconst yearData = [\n  [\'2010\', 60, 176, 35, 25],\n  [\'2011\', 51, 136, 25, 26],\n  [\'2012\', 73, 196, 35, 38],\n  [\'2013\', 84, 315, 43, 41],\n  [\'2014\', 79, 203, 36, 33],\n  [\'2015\', 89, 286, 41, 48],\n];\n\nconst plot = new Mix(\'container\', {\n  height: 500,\n  padding: \'auto\',\n  tooltip: { showMarkers: false },\n  views: [\n    {\n      data: data.map((d) => ({ type: d[0], value: d[1] })),\n      region: { start: { x: 0, y: 0 }, end: { x: 0.5, y: 0.4 } },\n      coordinate: {\n        type: \'theta\',\n        cfg: { radius: 0.85 },\n      },\n      axes: { value: { title: { text: \'Drinks\' }, grid: null, tickLine: null, line: false, ticks: false } },\n      geometries: [\n        {\n          type: \'interval\',\n          xField: \'1\',\n          yField: \'value\',\n          colorField: \'type\',\n          mapping: {},\n          adjust: { type: \'stack\' },\n        },\n      ],\n      interactions: [{ type: \'element-active\' }, { type: \'association-highlight\' }],\n    },\n    {\n      data: [{"year":"2010","gender":"male","turnout":35},{"year":"2010","gender":"female","turnout":25},{"year":"2011","gender":"male","turnout":25},{"year":"2011","gender":"female","turnout":26},{"year":"2012","gender":"male","turnout":35},{"year":"2012","gender":"female","turnout":38},{"year":"2013","gender":"male","turnout":43},{"year":"2013","gender":"female","turnout":41},{"year":"2014","gender":"male","turnout":36},{"year":"2014","gender":"female","turnout":33},{"year":"2015","gender":"male","turnout":41},{"year":"2015","gender":"female","turnout":48}],\n      region: { start: { x: 0.5, y: 0 }, end: { x: 1, y: 0.45 } },\n      coordinate: { cfg: { isTransposed: true } },\n      axes: { value: false },\n      geometries: [\n        {\n          type: \'interval\',\n          xField: \'type\',\n          yField: \'value\',\n          colorField: \'gender\',\n          mapping: {},\n          adjust: { type: \'dodge\', marginRatio: 0 },\n        },\n      ],\n    },\n    {\n      data: yearData.map((d) => ({ year: d[0], ordered: d[1] })),\n      region: { start: { x: 0, y: 0.52 }, end: { x: 0.48, y: 1 } },\n      axes: {\n        year: {\n          title: { text: \'Drinks ordered\' },\n        },\n      },\n      meta: {\n        ordered: {\n          min: 40,\n          max: 90,\n        },\n      },\n      geometries: [\n        {\n          type: \'area\',\n          xField: \'year\',\n          yField: \'ordered\',\n          mapping: {},\n        },\n        {\n          type: \'line\',\n          xField: \'year\',\n          yField: \'ordered\',\n          mapping: {\n            style: { lineWidth: 0.5 },\n          },\n        },\n      ],\n    },\n    {\n      data: [{"type":"Cosmopolitan","gender":"male","value":45},{"type":"Cosmopolitan","gender":"female","value":6},{"type":"Martini","gender":"male","value":39},{"type":"Martini","gender":"female","value":28},{"type":"Mojito","gender":"male","value":11},{"type":"Mojito","gender":"female","value":8},{"type":"Margarita","gender":"male","value":33},{"type":"Margarita","gender":"female","value":14},{"type":"Mai Tai","gender":"male","value":20},{"type":"Mai Tai","gender":"female","value":12},{"type":"Beer","gender":"male","value":20},{"type":"Beer","gender":"female","value":50}],\n      region: { start: { x: 0.52, y: 0.52 }, end: { x: 1, y: 1 } },\n      axes: {\n        year: {\n          title: { text: \'Turnout by gender\' },\n        },\n      },\n      geometries: [\n        {\n          type: \'interval\',\n          xField: \'year\',\n          yField: \'turnout\',\n          colorField: \'gender\',\n          adjust: { type: \'dodge\', marginRatio: 0 },\n          mapping: {},\n        },\n      ],\n      interactions: [{ type: \'element-active\' }, { type: \'association-sibling-highlight\' }],\n    },\n  ],\n});\n\nplot.render();\n',title:{zh:"Drinks",en:"Drinks Visual"},filename:"drinks.ts",isNew:!1},{id:"series-columns",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Xr_fTpVCRv4AAAAAAAAAAAAAARQnAQ",source:"import { Mix } from '@antv/g2plot';\n\n// Step 1: 声明数据源\n// G2Plot 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。\nconst data = [\n  { area: 'Central', value: 0.218 },\n  { area: 'East', value: 0.295 },\n  { area: 'South', value: 0.171 },\n  { area: 'West', value: 0.316 },\n];\n\nconst defaultGrey = '#BFBFBF';\n\n// Step 2: 创建图表\n\nconst plot = new Mix('container', {\n  appendPadding: 8,\n  tooltip: { showMarkers: false },\n});\n\nplot.chart.theme({\n  defaultColor: '#30BF78' /** 语义绿 */,\n});\n\nplot.update({\n  plots: [\n    {\n      region: { start: { x: 0, y: 0 }, end: { x: 1 / 2, y: 2 / 5 } },\n      type: 'bar',\n      options: {\n        data, // 图表数据\n        yField: 'area',\n        xField: 'value',\n        yAxis: { tickLine: null },\n        xAxis: false,\n        seriesField: 'area',\n        label: {\n          position: 'left',\n          layout: { type: 'adjust-color' },\n          formatter: ({ value }) => `${(value * 100).toFixed(1)}%`,\n          style: { fill: '#fff' },\n        },\n        color: ({ area }) => {\n          const value = data.find((d) => d.area === area)?.value;\n          return value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey;\n        },\n        barStyle: { lineWidth: 1 },\n      },\n    },\n    {\n      region: { start: { x: 1 / 2, y: 0 }, end: { x: 1, y: 2 / 5 } },\n      type: 'bar',\n      options: {\n        data, // 图表数据\n        yField: 'area',\n        xField: 'value',\n        yAxis: { tickLine: null },\n        xAxis: false,\n        label: {},\n        color: ({ area }) => {\n          const value = data.find((d) => d.area === area)?.value;\n          return value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey;\n        },\n        barStyle: ({ value }) => {\n          return {\n            lineWidth: 1,\n            fillOpacity: 0,\n            stroke: value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey,\n          };\n        },\n      },\n    },\n    {\n      region: { start: { x: 1 / 2, y: 1 / 2 }, end: { x: 1, y: 1 } },\n      type: 'bar',\n      options: {\n        data, // 图表数据\n        meta: {\n          value: {\n            alias: '销售额(万)',\n            min: 0,\n            max: 1,\n          },\n        },\n        yAxis: { label: { style: { fillOpacity: 0 } }, tickLine: null },\n        xAxis: false,\n        label: {\n          offsetX: -4,\n          position: 'left',\n          layout: { type: 'adjust-color' },\n          style: { fill: '#fff', fontSize: 12 },\n          formatter: ({ area, value }) => {\n            return `${area}\\n${(value * 100).toFixed(1)}%`;\n          },\n        },\n        yField: 'area',\n        xField: 'value',\n        color: ({ area }) => {\n          const value = data.find((d) => d.area === area).value;\n          return value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey;\n        },\n        annotations: data.map((d, idx) => {\n          return {\n            type: 'line',\n            start: [3 - idx - 0.25, 'min'],\n            end: [3 - idx - 0.25, 'max'],\n            style: {\n              lineWidth: 2,\n              stroke: '#595959',\n            },\n          };\n        }),\n      },\n    },\n  ],\n  views: [\n    {\n      region: { start: { x: 0, y: 1 / 2 }, end: { x: 1 / 2, y: 1 } },\n      data: [...data].reverse(), // 图表数据\n      meta: {\n        value: {\n          alias: '销售额(万)',\n          max: 0.5,\n          min: 0,\n        },\n      },\n      axes: { area: { tickLine: null }, value: false },\n      coordinate: { cfg: { isTransposed: true } },\n      geometries: [\n        {\n          type: 'point',\n          xField: 'area',\n          yField: 'value',\n          mapping: {\n            color: ({ area }) => {\n              const value = data.find((d) => d.area === area).value;\n              return value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey;\n            },\n            style: ({ value }) => {\n              return {\n                r: 4,\n                strokeOpacity: 0,\n                fill: value > 0.3 ? plot.chart.getTheme().defaultColor : defaultGrey,\n              };\n            },\n          },\n          label: {\n            offsetY: -12,\n            offsetX: 8,\n            style: { textAlign: 'right' },\n            position: 'top',\n            formatter: ({ value }) => `${(value * 100).toFixed(1)}%`,\n          },\n        },\n      ],\n      // @ts-ignore\n      annotations: [\n        ...data.map((d) => {\n          return {\n            type: 'line',\n            start: [d.area, 'min'],\n            end: [d.area, 'max'],\n            top: false,\n            style: {\n              lineWidth: 2,\n              radius: 2,\n              lineDash: [2, 4],\n              stroke: defaultGrey,\n            },\n          };\n        }),\n      ],\n    },\n  ],\n});\n// Step 3: 渲染图表\nplot.render();\n",title:{zh:"条形图的变种",en:"Series Columns"},filename:"series-columns.ts",isNew:!1},{id:"sales-analysis",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KFq%26pzL%26WG/7b5f5942-e463-44e6-8aca-d1417a39075a.png",source:"import { each } from '@antv/util';\nimport { Mix } from '@antv/g2plot';\n\nconst datas = [\n  [\n    { company: 'Apple', type: '整体', value: 30 },\n    { company: 'Facebook', type: '整体', value: 35 },\n    { company: 'Google', type: '整体', value: 28 },\n  ],\n  [\n    { company: 'Apple', type: '非技术岗', value: 40 },\n    { company: 'Facebook', type: '非技术岗', value: 65 },\n    { company: 'Google', type: '非技术岗', value: 47 },\n  ],\n  [\n    { company: 'Apple', type: '技术岗', value: 35 },\n    { company: 'Facebook', type: '技术岗', value: 30 },\n    { company: 'Google', type: '技术岗', value: 25 },\n  ],\n];\n\nconst plots = [];\nconst total = datas.length;\neach(datas, (data, idx) => {\n  const startX = idx / total;\n  plots.push({\n    type: 'column',\n    region: {\n      start: { x: startX, y: 0 },\n      end: { x: (idx + 1) / total, y: 1 },\n    },\n    options: {\n      data,\n      xField: 'company',\n      yField: 'value',\n      seriesField: 'company',\n      isGroup: true,\n      meta: {\n        value: {\n          sync: true,\n        },\n      },\n      xAxis: {\n        label: {\n          autoRotate: true,\n        },\n      },\n      yAxis: idx === 0 ? { tickCount: 10 } : { label: { formatter: (v) => '' }, tickCount: 10 },\n      tooltip: { showMarkers: false, fields: ['SalesTerritoryRegion', 'SalesAmount', 'quarter'] },\n      // fixme 设置 yAxis label false 会导致\n      // yAxis: idx === 0 ? {} : { label: false },\n      minColumnWidth: 24,\n      appendPadding: [20, 0],\n      annotations: [\n        {\n          type: 'text',\n          content: data[0].type,\n          position: ['50%', '0%'],\n          offsetY: -15,\n          style: {\n            textAlign: 'center',\n          },\n        },\n      ],\n    },\n  });\n});\nconst plot = new Mix('container', {\n  plots,\n  syncViewPadding: true,\n  tooltip: false,\n  legend: {},\n});\n\nplot.render();\n",title:{zh:"各公司销售情况分析",en:"Sales analyze of company"},filename:"sales-analysis.ts",isNew:!1},{id:"anomaly-detection-line-chart",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/9MkGXoBNaH/20220310212354.jpg",source:"import { Mix } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/SEif%2696Vd2/line-chart-with-anomaly-detection-style-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const { lineData, areaData } = data;\n    const anomalyDetectionLineChart = new Mix('container', {\n      appendPadding: 8,\n      syncViewPadding: true,\n      tooltip: {\n        shared: true,\n        showMarkers: false,\n        showCrosshairs: true,\n        offsetY: -50,\n      },\n      legend: {\n        position: 'top-left',\n        marker: (name, index, item) => {\n          return {\n            symbol: item.value === 'anomaly' ? 'circle' : 'hyphen',\n            style: (oldStyle) => {\n              return {\n                ...oldStyle,\n                r: item.value === 'anomaly' ? 2 : 6,\n                fill: oldStyle.stroke,\n              };\n            },\n          };\n        },\n      },\n      plots: [\n        {\n          type: 'line',\n          options: {\n            data: lineData,\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'type',\n            color: ['#588af1', '#ffa45c', '#f4664a'],\n            yAxis: {\n              label: {\n                formatter: (v) => `${v}`.replace(/\\d{1,3}(?=(\\d{3})+$)/g, (s) => `${s},`),\n              },\n            },\n            meta: {\n              value: {\n                sync: true,\n              },\n              type: {\n                formatter: (v) => {\n                  const mapping = {\n                    actual: '实际值',\n                    base: '基准值',\n                    anomaly: '异常值',\n                  };\n                  return mapping[v];\n                },\n              },\n            },\n            lineStyle: ({ type }) => (type === 'anomaly' ? { opacity: 0 } : { opacity: 1 }),\n            point: {\n              shape: 'circle',\n              style: ({ type }) => ({ r: type === 'anomaly' ? 3 : 0 }),\n            },\n          },\n        },\n        {\n          type: 'area',\n          options: {\n            data: areaData,\n            xField: 'time',\n            yField: 'interval',\n            color: '#ffd8b8',\n            isStack: false,\n            meta: {\n              interval: {\n                sync: 'value',\n                nice: true,\n                alias: '波动区间',\n              },\n            },\n            legend: false,\n            xAxis: false,\n            yAxis: false,\n          },\n        },\n      ],\n    });\n\n    anomalyDetectionLineChart.render();\n  });\n",title:{zh:"异常检测折线图",en:"Line Chart with Anomaly Detection Style"},filename:"anomaly-detection-line-chart.ts",isNew:!1},{id:"customized-stock",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%26P96Yg5fKh/78f5836e-efde-409d-a5b6-7dfe91cd2d04.png",source:"import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Mix } from '@antv/g2plot';\n\nconst DemoStock = () => {\n  const chartNodeRef = React.useRef();\n  const chartRef = React.useRef();\n\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    asyncFetch();\n  }, []);\n\n  const asyncFetch = () => {\n    fetch('https://gw.alipayobjects.com/os/antfincdn/qtQ9nYfYJe/stock-data.json')\n      .then((response) => response.json())\n      .then((json) => setData(json))\n      .catch((error) => {\n        console.log('fetch data failed', error);\n      });\n  };\n\n  const mixConfig = {\n    appendPadding: 8,\n    tooltip: {\n      shared: true,\n      showCrosshairs: true,\n    },\n    syncViewPadding: true,\n    slider: {},\n    data,\n    plots: [\n      {\n        type: 'line',\n        // 共享顶层 data\n        top: true,\n        options: {\n          xField: 'trade_date',\n          yField: 'amount',\n          yAxis: {\n            type: 'log',\n            grid: null,\n            line: null,\n          },\n          meta: {\n            amount: {\n              alias: '平均租金(元)',\n              formatter: (v) => (v > 10000 ? `${(v / 10000).toFixed(0)}万` : `${v}`),\n            },\n          },\n          color: '#FACC14',\n        },\n      },\n      {\n        type: 'line',\n        top: true,\n        options: {\n          xField: 'trade_date',\n          yField: 'vol',\n          yAxis: false,\n          meta: {\n            vol: {\n              alias: '数值(元)',\n            },\n          },\n          color: '#5FB1EE',\n        },\n      },\n      {\n        type: 'stock',\n        // 共享顶层 data\n        top: true,\n        options: {\n          xField: 'trade_date',\n          yField: ['open', 'close', 'high', 'low'],\n        },\n      },\n    ],\n    annotations: [\n      {\n        type: 'dataMarker',\n        // 外部获取最大值的数据\n        position: ['2020-03-05', 3074.2571],\n        top: true,\n        autoAdjust: false,\n        direction: 'upward',\n        text: {\n          content: '顶峰值',\n          style: {\n            fontSize: 13,\n          },\n        },\n        line: {\n          length: 12,\n        },\n      },\n      {\n        type: 'dataMarker',\n        // 外部获取最大值的数据\n        position: ['2020-03-13', 2799.9841],\n        top: true,\n        direction: 'downward',\n        text: {\n          content: '2799.9841',\n          style: {\n            fontSize: 12,\n          }\n        },\n        point: null,\n        line: {\n          length: 12,\n        },\n      }\n    ],\n  };\n\n  React.useEffect(() => {\n    const chartDom = chartNodeRef?.current;\n    if (!chartDom) return;\n\n    let plot = chartRef.current;\n    if (!plot) {\n      plot = new Mix(chartDom, mixConfig);\n      plot.render();\n      chartRef.current = plot;\n    } else {\n      plot.update(mixConfig);\n    }\n  }, [mixConfig]);\n\n  return <div style={{ height: '400px' }} ref={chartNodeRef} />;\n};\n\nReactDOM.render(<DemoStock />, document.getElementById('container'));\n",title:{zh:"定制股票图",en:"Customized stock"},filename:"customized-stock.jsx",isNew:!1},{id:"nest-pie",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/p9NgY1Nl%26R/5a81b665-7513-4ebe-a311-25350175b6de.png",source:"import { Mix } from '@antv/g2plot';\n\nconst data1 = [\n  { value: 948, type: 'Americano' },\n  { value: 879, type: 'Espresso' },\n  { value: 683, type: 'Cappuccino' },\n  { value: 1083, type: 'Latte' },\n  { value: 1004, type: 'Mocca' },\n];\n\nconst data2 = [\n  { value: 1, type: 'Starbucks' },\n  { value: 1, type: 'Nescafe' },\n  { value: 1, type: 'RoyalCopenhagen' },\n  { value: 1, type: 'Maxwell' },\n  { value: 1, type: 'UCC' },\n  { value: 1, type: 'LAVAZZA' },\n  { value: 1, type: 'Grandos' },\n  { value: 1, type: 'Wedgwood' },\n];\n\nconst plot = new Mix('container', {\n  tooltip: {\n    showMarkers: false,\n  },\n  plots: [\n    {\n      type: 'pie',\n      region: {\n        start: { x: 0.2, y: 0.2 },\n        end: { x: 0.8, y: 0.8 },\n      },\n      options: {\n        data: data1,\n        angleField: 'value',\n        colorField: 'type',\n        radius: 0.6,\n        label: {\n          type: 'inner',\n          autoRotate: false,\n          formatter: (d) => d.type,\n          offset: '-40%',\n          style: { textAlign: 'center' },\n        },\n      },\n    },\n    {\n      type: 'pie',\n      options: {\n        data: data2,\n        angleField: 'value',\n        colorField: 'type',\n        radius: 0.88,\n        innerRadius: 0.68,\n        statistic: null,\n      },\n    },\n  ],\n});\n\nplot.render();\n",title:{zh:"嵌套饼图",en:"Nest pie"},filename:"nest-pie.ts",isNew:!1}],icon:"",id:"multi-view",title:{en:"Multi View Plot 🔥",zh:"多图层图表 🔥"},childrenKey:"demos",order:2},{demos:[{id:"column",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/SAiAwUtFTN/d8350db2-a905-4bd0-9c99-a750a1ee8cb0.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      padding: [0, 10, 10],\n      appendPadding: [0, 0, 30, 20],\n      type: 'rect',\n      fields: ['cut'],\n      cols: 3, // 超过3个换行\n      data,\n      axes: {},\n      meta: {\n        carat: {\n          sync: true,\n        },\n        price: {\n          sync: true,\n        },\n        clarity: {\n          sync: true,\n        },\n      },\n      eachView: (view, f) => {\n        return {\n          type: 'scatter',\n          options: {\n            data: f.data,\n            xField: 'carat',\n            yField: 'price',\n            colorField: 'clarity',\n            shape: 'circle',\n            pointStyle: { fillOpacity: 0.3, stroke: null },\n          },\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"Column 分面图",en:"Column facet"},filename:"column.ts",isNew:!1},{id:"rect",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%24PP5iO2j2X/3658552c-f0d2-4da5-a236-36509187676c.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      type: 'rect',\n      fields: ['cut', 'clarity'],\n      cols: 3, // 超过3个换行\n      padding: [0, 10, 10],\n      appendPadding: 30,\n      data,\n      axes: {},\n      meta: {\n        carat: {\n          sync: true,\n        },\n        price: {\n          sync: true,\n        },\n        cut: {\n          // 设置 sync 同步之后，可以按照 'cut' 进行颜色映射分类\n          sync: true,\n        },\n      },\n      eachView: (view, f) => {\n        return {\n          type: 'scatter',\n          options: {\n            data: f.data,\n            xField: 'carat',\n            yField: 'price',\n            colorField: 'cut',\n            shape: 'circle',\n            pointStyle: { fillOpacity: 0.3, stroke: null },\n          },\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"二维行列(矩形)分面",en:"Rect facet"},filename:"rect.ts",isNew:!1},{id:"list",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/8cbQnUoZKq/1e19cd37-55b7-4c56-8476-a64aa5bdb768.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      padding: 30,\n      type: 'list',\n      fields: ['cut'],\n      cols: 3, // 超过3个换行\n      data,\n      axes: {},\n      meta: {\n        carat: {\n          sync: true,\n        },\n        price: {\n          sync: true,\n        },\n        cut: {\n          // 设置 sync 同步之后，可以按照 'cut' 进行颜色映射分类\n          sync: true,\n        },\n      },\n      eachView: (view, f) => {\n        return {\n          type: 'scatter',\n          options: {\n            data: f.data,\n            xField: 'carat',\n            yField: 'price',\n            colorField: 'cut',\n            shape: 'circle',\n            pointStyle: { fillOpacity: 0.3, stroke: null },\n          },\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"列表分面",en:"List facet"},filename:"list.ts",isNew:!1},{id:"circle",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/PaADJJDV4V/1f52ab89-c989-4014-bd18-c3f3d36f8a90.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/VnrXpYSuqW/circle-pie.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      type: 'circle',\n      fields: ['clarity'],\n      data,\n      tooltip: { showMarkers: false },\n      meta: {\n        cut: {\n          sync: true,\n        },\n      },\n      eachView: (view, f) => {\n        return {\n          type: 'pie',\n          options: {\n            data: f.data,\n            angleField: 'mean',\n            colorField: 'cut',\n            pieStyle: { stroke: null },\n          },\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"圆形分面",en:"Circle facet"},filename:"circle.ts",isNew:!1},{id:"mirror",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/lt6RMVMz7I/0623b932-a8dc-402f-87d3-a80d889661bf.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/2Qttbqxmtw/symmetry-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      type: 'mirror',\n      data,\n      fields: ['gender'],\n      transpose: true,\n      padding: [32, 16, 28, 16],\n      meta: {\n        age: {\n          sync: true,\n          tickCount: 11,\n        },\n        total_percentage: {\n          sync: true,\n          formatter(v) {\n            return v + '%';\n          },\n        },\n        gender: {\n          sync: true,\n        },\n      },\n      axes: {},\n      eachView: (view, f) => {\n        return {\n          padding: [0, 48, 0, 0],\n          type: 'column',\n          options: {\n            data: f.data,\n            xField: 'age',\n            yField: 'total_percentage',\n            seriesField: 'gender',\n            color: ['#1890ff', '#f04864'],\n          },\n        };\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"镜像分面",en:"Mirror facet"},filename:"mirror.ts",isNew:!1},{id:"matrix",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/tx5DXB6xhh/99a19fdb-c428-43a2-8210-49e255d14e8c.png",source:"import { Facet } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/iris.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Facet('container', {\n      appendPadding: [0, 0, 16, 0],\n      padding: 16,\n      type: 'matrix',\n      fields: ['SepalLength', 'SepalWidth', 'PetalLength', 'PetalWidth'],\n      data,\n      meta: {\n        Species: { sync: true },\n        SepalLength: { sync: true, nice: true },\n        SepalWidth: { nice: true },\n        PetalLength: { nice: true },\n        PetalWidth: { nice: true },\n      },\n      axes: {},\n      eachView: (view, facet) => {\n        if (facet.rowIndex === facet.columnIndex) {\n          return {\n            type: 'histogram',\n            options: {\n              data: facet.data,\n              binField: facet.columnField,\n              binNumber: 30,\n              stackField: 'Species',\n              isStack: true,\n              columnStyle: { stroke: null },\n            },\n          };\n        }\n        return {\n          type: 'scatter',\n          options: {\n            data: facet.data,\n            xField: facet.columnField,\n            yField: facet.rowField,\n            colorField: 'Species',\n            shape: 'circle',\n            pointStyle: { fillOpacity: 0.3, stroke: null },\n            size: 3,\n          },\n        };\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"矩阵分面",en:"Matrix facet"},filename:"matrix.ts",isNew:!1},{id:"tree",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/Hq%24sncegPI/3620662f-48f8-45c6-a269-c36168137ea0.png",source:"import { Facet } from '@antv/g2plot';\n\nconst data = [\n  { gender: '男', count: 40, class: '一班', grade: '一年级' },\n  { gender: '女', count: 30, class: '一班', grade: '一年级' },\n  { gender: '男', count: 35, class: '二班', grade: '一年级' },\n  { gender: '女', count: 45, class: '二班', grade: '一年级' },\n  { gender: '男', count: 20, class: '三班', grade: '一年级' },\n  { gender: '女', count: 35, class: '三班', grade: '一年级' },\n  { gender: '男', count: 30, class: '一班', grade: '二年级' },\n  { gender: '女', count: 40, class: '一班', grade: '二年级' },\n  { gender: '男', count: 25, class: '二班', grade: '二年级' },\n  { gender: '女', count: 32, class: '二班', grade: '二年级' },\n  { gender: '男', count: 28, class: '三班', grade: '二年级' },\n  { gender: '女', count: 36, class: '三班', grade: '二年级' },\n];\n\nfunction getData(data)  {\n  const getSum = (data) => data.reduce((r, d) => r + d.count, 0);\n  const sum = getSum(data);\n  const gender = ['男', '女'];\n  return gender.map(g => {\n    const item = { gender: g, count: getSum(data.filter(d => d.gender === g)) }\n    return { ...item, percent: item.count / sum };\n  });\n}\n\nconst plot = new Facet('container', {\n  appendPadding: [0, 16, 16, 16],\n  data,\n  type: 'tree',\n  fields: ['grade', 'class'],\n  // coordinate: { type: 'theta' },\n  meta: {\n    percent: {\n      formatter(val) {\n        return (val * 100).toFixed(2) + '%';\n      },\n    },\n  },\n  // tree-facet 连接线样式和是否平滑\n  line: {\n    style: {\n      stroke: '#dedede',\n    },\n    smooth: true,\n  },\n  tooltip: { showMarkers: false },\n  eachView: (view, facet) => {\n      // 对角线的图形，做数据封箱之后绘制图形\n    return {\n      type: 'pie',\n      options: {\n        data: getData(facet.data),\n        angleField: 'percent',\n        colorField: 'gender',\n        pieStyle: { opacity: 0.85 },\n        // 添加动画\n        animation: {},\n        // 添加交互\n        interactions: [{ type: 'element-active' }],\n      },\n    };\n  },\n});\n\nplot.render();\n",title:{zh:"树型分面",en:"Tree facet"},filename:"tree.ts",isNew:!1},{id:"tree-column",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/CBR0Ay1K3M/44c5908a-9a23-4aa0-8e26-563619456997.png",source:"import { Facet } from '@antv/g2plot';\n\nPromise.all([\n  fetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json').then(res => res.json()),\n  fetch('https://gw.alipayobjects.com/os/antfincdn/ICk9dCBRyL/facet-data.json').then(res => res.json()),\n]).then(([sourceData, datas]) => {\n  const plot = new Facet('container', {\n    appendPadding: [0, 18, -50, 32],\n    data: sourceData,\n    type: 'tree',\n    fields: ['clarity'],\n    meta: {\n      cut: {\n        sync: true,\n        // 手动进行排序，保证颜色映射正确\n        values: ['Ideal', 'Good', 'Premium', 'Very-Good', 'Fair'],\n      },\n      mean: {\n        sync: true,\n        tickCount: 5,\n        formatter: (v) => `${Math.ceil(v)}`,\n      },\n    },\n    // tree-facet 连接线样式和是否平滑\n    line: {\n      style: {\n        stroke: '#dedede',\n      },\n      smooth: true,\n    },\n    axes: {},\n    tooltip: { showMarkers: false },\n    eachView: (view, facet) => {\n      const { rowIndex } = facet || {};\n      const facetData = datas[rowIndex];\n      if (rowIndex === 0) {\n        return {\n          type: 'pie',\n          options: {\n            data: facetData,\n            meta: {\n              mean: {\n                // 关闭饼图 'mean'字段的 scale 同步\n                sync: false,\n              },\n            },\n            angleField: 'mean',\n            colorField: 'cut',\n            radius: 1,\n            pieStyle: { stroke: null },\n            // 添加动画\n            animation: {},\n            // 添加交互\n            interactions: [{ type: 'element-active' }],\n          },\n        };\n      }\n      return {\n        type: 'column',\n        options: {\n          data: facetData,\n          meta: {\n            mean: {\n              // 关闭饼图 'mean'字段的 scale 同步\n              sync: rowIndex === 0 ? false : true,\n            },\n          },\n          xField: 'cut',\n          yField: 'mean',\n          seriesField: 'cut',\n          columnStyle: { fillOpacity: 0.85 },\n          // 添加动画\n          animation: {},\n          // 添加交互\n          interactions: [{ type: 'element-active' }, { type: 'active-region' }],\n        },\n      };\n    },\n  });\n\n  plot.render();\n});\n\n",title:{zh:"多级树型分面",en:"Tree clolumn facet"},filename:"tree-column.ts",isNew:!1}],icon:"",id:"facet",title:{en:"Facet Plot",zh:"分面图"},childrenKey:"demos",order:3},{demos:[{id:"association-highlight",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/s6YV6XBemg/association-highlight.gif",source:"import { Mix } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/HkxWvFrZuC/association-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Mix('container', {\n      // 关闭 chart 上的 tooltip，子 view 开启 tooltip\n      tooltip: false,\n      plots: [\n        {\n          type: 'bar',\n          region: { start: { x: 0, y: 0 }, end: { x: 0.45, y: 0.45 } },\n          options: {\n            data: data.bar,\n            xField: 'count',\n            yField: 'area',\n            seriesField: 'cat',\n            isStack: true,\n            tooltip: {\n              shared: true,\n              showCrosshairs: false,\n              showMarkers: false,\n            },\n            label: {},\n            interactions: [{ type: 'active-region' }],\n          },\n        },\n        {\n          type: 'pie',\n          region: { start: { x: 0.5, y: 0 }, end: { x: 1, y: 0.45 } },\n          options: {\n            data: data.pie,\n            angleField: 'bill',\n            colorField: 'area',\n            tooltip: {\n              showMarkers: false,\n            },\n            radius: 0.85,\n            label: { type: 'inner', formatter: '{name}', offset: '-15%' },\n            interactions: [\n              { type: 'element-active' },\n              {\n                type: 'association-tooltip',\n                cfg: {\n                  start: [\n                    {\n                      trigger: 'element:mousemove',\n                      action: 'association:showTooltip',\n                      arg: { dim: 'x', linkField: 'area' },\n                    },\n                  ],\n                },\n              },\n              {\n                type: 'association-highlight',\n                cfg: {\n                  start: [\n                    {\n                      trigger: 'element:mousemove',\n                      action: 'association:highlight',\n                      arg: { linkField: 'area' },\n                    },\n                  ],\n                },\n              },\n            ],\n          },\n        },\n        {\n          type: 'area',\n          region: { start: { x: 0, y: 0.5 }, end: { x: 1, y: 0.95 } },\n          options: {\n            data: data.line,\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            line: {},\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n          },\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"联动高亮",en:"Association highlight"},filename:"association-highlight.ts",isNew:!1},{id:"association-pie",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/8hTlCI2Fbn/association-pie.gif",source:"import { Mix } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/fKTgtjKdaN/association-pie.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Mix('container', {\n      // 关闭 chart 上的 tooltip，子 view 开启 tooltip\n      tooltip: false,\n      legend: true,\n      plots: [\n        {\n          type: 'pie',\n          region: { start: { x: 0, y: 0 }, end: { x: 0.45, y: 1 } },\n          options: {\n            data: data.pie1,\n            angleField: 'bill',\n            colorField: 'area',\n            radius: 0.85,\n            tooltip: {\n              showMarkers: false,\n            },\n            label: { type: 'inner', offset: '-15%' },\n            interactions: [\n              { type: 'element-active' },\n              { type: 'association-tooltip' },\n              { type: 'association-highlight' },\n            ],\n          },\n        },\n        {\n          type: 'pie',\n          region: { start: { x: 0.55, y: 0 }, end: { x: 1, y: 1 } },\n          options: {\n            data: data.pie2,\n            radius: 0.85,\n            angleField: 'value',\n            colorField: 'area',\n            label: { type: 'inner', offset: '-15%' },\n            tooltip: {\n              showMarkers: false,\n            },\n            interactions: [{ type: 'association-tooltip' }, { type: 'association-selected' }],\n          },\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"饼图联动",en:"Association pie"},filename:"association-pie.ts",isNew:!1},{id:"association-filter",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/%24kAk5jxs1v/association-filter.gif",source:"import { Mix, G2 } from '@antv/g2plot';\n\nG2.registerInteraction('custom-association-filter', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      action: (context) => {\n        const { view, event } = context;\n        // 获取第二个 view\n        const view1 = view.parent.views[1];\n        view1.filter('area', (d) => d === event.data?.data.area);\n        view1.render(true);\n      },\n    },\n  ],\n  end: [\n    {\n      trigger: 'element:dblclick',\n      action: (context) => {\n        const { view } = context;\n        // 获取第二个 view\n        const view1 = view.parent.views[1];\n        view1.filter('area', null);\n        view1.render(true);\n      },\n    },\n  ],\n});\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/HkxWvFrZuC/association-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Mix('container', {\n      // 关闭 chart 上的 tooltip，子 view 开启 tooltip\n      tooltip: false,\n      plots: [\n        {\n          type: 'pie',\n          region: { start: { x: 0, y: 0 }, end: { x: 1, y: 0.45 } },\n          options: {\n            data: data.pie,\n            angleField: 'bill',\n            colorField: 'area',\n            tooltip: {\n              showMarkers: false,\n            },\n            radius: 0.85,\n            label: { type: 'inner', formatter: '{name}', offset: '-15%' },\n            interactions: [{ type: 'element-highlight' }, { type: 'custom-association-filter' }],\n          },\n        },\n        {\n          type: 'area',\n          region: { start: { x: 0, y: 0.5 }, end: { x: 1, y: 0.95 } },\n          options: {\n            data: data.line,\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            line: {},\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n          },\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"联动筛选",en:"Association filter"},filename:"association-filter.ts",isNew:!1},{id:"association-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/67tdfeaWWN/line-association.gif",source:"import { Mix } from '@antv/g2plot';\nimport { groupBy, get } from '@antv/util';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/HkxWvFrZuC/association-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    function getDataByArea(area) {\n      return get(groupBy(data.line, 'area'), area, []).map((d) => ({\n        time: d.time,\n        value: Math.random() * d.value,\n        area,\n      }));\n    }\n\n    const plot = new Mix('container', {\n      // 关闭 chart 上的 tooltip，子 view 开启 tooltip\n      tooltip: false,\n      plots: [\n        {\n          type: 'line',\n          region: { start: { x: 0, y: 0 }, end: { x: 1, y: 0.3 } },\n          options: {\n            data: data.line,\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            interactions: [{ type: 'association-active' }, { type: 'association-highlight' }],\n          },\n        },\n        {\n          type: 'line',\n          region: { start: { x: 0, y: 0.32 }, end: { x: 0.5, y: 0.65 } },\n          options: {\n            data: getDataByArea('华东'),\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            interactions: [{ type: 'association-highlight' }],\n            point: {\n              style: { r: 2.5 },\n              state: {\n                active: {\n                  style: {\n                    lineWidth: 1,\n                    r: 3,\n                  },\n                },\n              },\n            },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n            state: {\n              active: {\n                style: {\n                  lineWidth: 3,\n                },\n              },\n            },\n          },\n        },\n        {\n          type: 'line',\n          region: { start: { x: 0.5, y: 0.32 }, end: { x: 1, y: 0.65 } },\n          options: {\n            data: getDataByArea('华北'),\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            interactions: [{ type: 'association-highlight' }],\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n          },\n        },\n        {\n          type: 'line',\n          region: { start: { x: 0, y: 0.67 }, end: { x: 0.5, y: 1 } },\n          options: {\n            data: getDataByArea('中南'),\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            interactions: [{ type: 'association-highlight' }],\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n          },\n        },\n        {\n          type: 'line',\n          region: { start: { x: 0.5, y: 0.67 }, end: { x: 1, y: 1 } },\n          options: {\n            data: getDataByArea('西南'),\n            xField: 'time',\n            yField: 'value',\n            seriesField: 'area',\n            interactions: [{ type: 'association-highlight' }],\n            point: { style: { r: 2.5 } },\n            meta: {\n              time: { range: [0, 1] },\n            },\n            smooth: true,\n            tooltip: {\n              showCrosshairs: true,\n              shared: true,\n            },\n          },\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"折线图联动",en:"Association line"},filename:"association-line.ts",isNew:!1}],icon:"",id:"association",title:{en:"Association Plots",zh:"图表联动"},childrenKey:"demos",order:4},{demos:[{id:"pie-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/cACfJO99IO/32b38815-8427-4111-a0f0-34208aa65dd8.png",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n];\n\nconst pattern = ({ type }) => {\n  if (type === '分类一') {\n    return {\n      type: 'dot',\n    };\n  } else if (type === '分类二') {\n    return {\n      type: 'square',\n    };\n  } else if (type === '分类三') {\n    return {\n      type: 'line',\n    };\n  }\n  return {\n    type: 'dot',\n  };\n};\n\nconst piePlot = new Pie('container', {\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.5,\n  legend: false,\n  label: {\n    type: 'spider',\n    labelHeight: 28,\n    content: '{name}\\n{percentage}',\n  },\n  pieStyle: {\n    lineWidth: 2,\n  },\n  pattern,\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"带贴图图案的饼图",en:"Pie plot with pattern"},filename:"pie-pattern.ts",isNew:!1},{id:"legend-marker-with-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/N%26xo4t7zRW/79c6bdf8-0cc6-49b7-94a2-f462b9f825bc.png",source:"// 外置方法 getCanvasPattern\nimport { Pie, getCanvasPattern } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '其他', value: 5 },\n];\n\nconst pattern = (datum, color) =>\n  getCanvasPattern({\n    type: datum.type === '分类一' ? 'dot' : 'line',\n    cfg: {\n      backgroundColor: datum.type === '分类一' ? '#d78ab7' : color,\n    },\n  });\n\nconst plot = new Pie('container', {\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  color: ['#215B77', '#1B9CD0', '#61C9FF', '#ABDFFF', '#FFDE94'],\n  radius: 0.6,\n  label: {\n    type: 'outer',\n    offset: 10,\n    labelLine: false,\n    content: '{value}',\n  },\n  pieStyle: {\n    lineWidth: 1,\n  },\n  // 给legend增加贴图\n  legend: {\n    marker: (text, index, item) => {\n      const color = item.style.fill;\n      return {\n        style: {\n          fill: pattern({ type: text }, color),\n          r: 8,\n        },\n      };\n    },\n  },\n  pattern,\n  interactions: [{ type: 'element-active' }],\n});\n\nplot.render();\n",title:{zh:"图例 marker 设置贴图图案",en:"Custom legend marker with pattern"},filename:"legend-marker-with-pattern.ts",isNew:!1},{id:"group-column-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/wlurjHqyu%24/4b21f53e-7186-42c8-8f57-6f32c91a09ba.png",source:"import { Column, getCanvasPattern } from '@antv/g2plot';\n\nconst data = [\n  {\n    name: 'London',\n    月份: 'Jan.',\n    月均降雨量: 18.9,\n  },\n  {\n    name: 'London',\n    月份: 'Feb.',\n    月均降雨量: 28.8,\n  },\n  {\n    name: 'London',\n    月份: 'Mar.',\n    月均降雨量: 39.3,\n  },\n  {\n    name: 'London',\n    月份: 'Apr.',\n    月均降雨量: 81.4,\n  },\n  {\n    name: 'London',\n    月份: 'May',\n    月均降雨量: 47,\n  },\n  {\n    name: 'London',\n    月份: 'Jun.',\n    月均降雨量: 20.3,\n  },\n  {\n    name: 'London',\n    月份: 'Jul.',\n    月均降雨量: 24,\n  },\n  {\n    name: 'London',\n    月份: 'Aug.',\n    月均降雨量: 35.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jan.',\n    月均降雨量: 12.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Feb.',\n    月均降雨量: 23.2,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Mar.',\n    月均降雨量: 34.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Apr.',\n    月均降雨量: 99.7,\n  },\n  {\n    name: 'Berlin',\n    月份: 'May',\n    月均降雨量: 52.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jun.',\n    月均降雨量: 35.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jul.',\n    月均降雨量: 37.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Aug.',\n    月均降雨量: 42.4,\n  },\n];\n\nconst pattern = (datum, color) =>\n  getCanvasPattern({\n    type: datum.name === 'London' ? 'dot' : 'line',\n    cfg: {\n      backgroundColor: color,\n    },\n  });\n\nconst stackedColumnPlot = new Column('container', {\n  data,\n  isGroup: true,\n  xField: '月份',\n  yField: '月均降雨量',\n  seriesField: 'name',\n  /** 设置间距 */\n  // marginRatio: 0.1,\n  label: {\n    // 可手动配置 label 数据标签位置\n    position: 'middle', // 'top', 'middle', 'bottom'\n    // 可配置附加的布局方法\n    layout: [\n      // 柱形图数据标签位置自动调整\n      { type: 'interval-adjust-position' },\n      // 数据标签防遮挡\n      { type: 'interval-hide-overlap' },\n      // 数据标签文颜色自动调整\n      { type: 'adjust-color' },\n    ],\n  },\n  legend: {\n    marker: (text, index, item) => {\n      const color = item.style.fill;\n      return {\n        style: {\n          fill: pattern({ name: text }, color),\n          r: 8,\n        },\n      };\n    },\n  },\n  pattern,\n});\n\nstackedColumnPlot.render();\n",title:{zh:"带贴图图案的分组柱状图",en:"Grouped column plot with pattern"},filename:"group-column-pattern.ts",isNew:!1},{id:"bar-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/APiY4THavu/93d5749b-1e0d-4118-b04f-4e928a7eb144.png",source:"import { Bar, getCanvasPattern } from '@antv/g2plot';\nimport { deepMix } from '@antv/util';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n];\n\nconst PATTERN_MAP = {\n  分类一: {\n    type: 'dot',\n  },\n  分类二: {\n    type: 'line',\n  },\n  分类三: {\n    type: 'square',\n  },\n  分类四: {\n    type: 'line',\n    cfg: {\n      spacing: 6,\n      lineWidth: 2,\n      rotation: 90,\n    },\n  },\n  分类五: {\n    type: 'square',\n    cfg: {\n      size: 5,\n      padding: 2,\n      rotation: 45,\n      isStagger: false,\n    },\n  },\n};\n\nconst pattern = ({ type }, color) =>\n  getCanvasPattern(deepMix({}, PATTERN_MAP[type], { cfg: { backgroundColor: color } }));\n\nconst plot = new Bar('container', {\n  data,\n  xField: 'value',\n  yField: 'type',\n  // 可不设置\n  seriesField: 'type',\n  legend: {\n    marker: (text, index, item) => {\n      const color = item.style.fill;\n      return {\n        style: {\n          fill: pattern({ type: text }, color),\n          r: 8,\n        },\n      };\n    },\n  },\n  pattern: ({ type }) => {\n    return PATTERN_MAP[type] || { type: 'dot' };\n  },\n});\n\nplot.render();\n",title:{zh:"带贴图图案的条形图",en:"Bar plot with pattern"},filename:"bar-pattern.ts",isNew:!1},{id:"stack-bar-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/LGFxwRRwZl/d11e9835-a520-4a4c-9893-30b6a6ebb3c1.png",source:"import { Column, getCanvasPattern } from '@antv/g2plot';\nimport { deepMix } from '@antv/util';\n\nconst PATTERN_MAP = {\n  Gas: {\n    type: 'dot',\n  },\n  Wasserkraft: {\n    type: 'line',\n  },\n  Biomasse: {\n    type: 'square',\n  },\n  Wind: {\n    type: 'line',\n    cfg: {\n      rotation: 90,\n    },\n  },\n  Solar: {\n    type: 'square',\n    cfg: {\n      size: 5,\n      padding: 2,\n      rotation: 45,\n      isStagger: false,\n    },\n  },\n};\n\nconst pattern = ({ type }, color) =>\n  getCanvasPattern(deepMix({}, PATTERN_MAP[type], { cfg: { backgroundColor: color } }));\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/jSRiL%26YNql/percent-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const columnPlot = new Column('container', {\n      data,\n      xField: 'year',\n      yField: 'value',\n      seriesField: 'type',\n      isPercent: true,\n      isStack: true,\n      meta: {\n        value: {\n          min: 0,\n          max: 1,\n        },\n      },\n      pattern: ({ type }, color) => pattern({ type }, color),\n      legend: {\n        marker: (text, index, item) => {\n          const color = item.style.fill;\n          return {\n            style: {\n              fill: pattern({ type: text }, color),\n              r: 8,\n            },\n          };\n        },\n      },\n      interactions: [{ type: 'element-highlight-by-color' }, { type: 'element-link' }],\n    });\n\n    columnPlot.render();\n  });\n",title:{zh:"带贴图图案的堆叠图",en:"Stack-bar plot with pattern"},filename:"stack-bar-pattern.ts",isNew:!1},{id:"donut-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/spgIo%26zAzG/6562dc40-2ac6-4c8a-b433-88e41e20621a.png",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst pattern = ({ type }) => {\n  if (type === '分类一') {\n    return {\n      type: 'line',\n      cfg: {\n        lineWidth: 6,\n        spacing: 5,\n      },\n    };\n  } else if (type === '分类三') {\n    return {\n      type: 'dot',\n      cfg: {\n        size: 10,\n      },\n    };\n  }\n  return;\n};\n\nconst piePlot = new Pie('container', {\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.7,\n  innerRadius: 0.6,\n  label: {\n    type: 'outer',\n    offset: '50%',\n    content: '{value}',\n    style: {\n      fontSize: 14,\n    },\n  },\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n  statistic: {\n    title: false,\n    content: {\n      style: {\n        whiteSpace: 'pre-wrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n      },\n      content: 'AntV\\nG2Plot',\n    },\n  },\n  pattern,\n});\n\npiePlot.update({\n  theme: {\n    styleSheet: {\n      brandColor: '#014c63',\n      paletteQualitative10: [\n        '#014c63',\n        '#168575',\n        '#0bc286',\n        '#96dcb0',\n        '#F2EAEA',\n        '#FFA884',\n        '#FF6836',\n        '#D13808',\n        '#7A270E',\n      ],\n      paletteQualitative20: [\n        '#014c63',\n        '#10686c',\n        '#168575',\n        '#16a37e',\n        '#0bc286',\n        '#65cf9b',\n        '#96dcb0',\n        '#c1e8c5',\n        '#F2EAEA',\n        '#FFC5AC',\n        '#FFA884',\n        '#FF895D',\n        '#FF6836',\n        '#F3470D',\n        '#D13808',\n        '#A4300C',\n        '#7A270E',\n      ],\n    },\n  },\n});\npiePlot.render();\n",title:{zh:"带贴图图案的环形图",en:"Donut with pattern"},filename:"donut-pattern.ts",isNew:!1},{id:"area-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/msiCPIX%243T/16b69b77-6a87-42e0-9e8c-9767d6b9df79.png",source:"import { Area } from '@antv/g2plot';\n\nconst data = [\n  { country: 'Asia', year: '1750', value: 502 },\n  { country: 'Asia', year: '1800', value: 635 },\n  { country: 'Asia', year: '1850', value: 809 },\n  { country: 'Asia', year: '1900', value: 5268 },\n  { country: 'Asia', year: '1950', value: 4400 },\n  { country: 'Asia', year: '1999', value: 3634 },\n  { country: 'Asia', year: '2050', value: 947 },\n  { country: 'Africa', year: '1750', value: 106 },\n  { country: 'Africa', year: '1800', value: 107 },\n  { country: 'Africa', year: '1850', value: 111 },\n  { country: 'Africa', year: '1900', value: 1766 },\n  { country: 'Africa', year: '1950', value: 221 },\n  { country: 'Africa', year: '1999', value: 767 },\n  { country: 'Africa', year: '2050', value: 133 },\n  { country: 'Europe', year: '1750', value: 163 },\n  { country: 'Europe', year: '1800', value: 203 },\n  { country: 'Europe', year: '1850', value: 276 },\n  { country: 'Europe', year: '1900', value: 628 },\n  { country: 'Europe', year: '1950', value: 547 },\n  { country: 'Europe', year: '1999', value: 729 },\n  { country: 'Europe', year: '2050', value: 408 },\n  { country: 'Oceania', year: '1750', value: 200 },\n  { country: 'Oceania', year: '1800', value: 200 },\n  { country: 'Oceania', year: '1850', value: 200 },\n  { country: 'Oceania', year: '1900', value: 460 },\n  { country: 'Oceania', year: '1950', value: 230 },\n  { country: 'Oceania', year: '1999', value: 300 },\n  { country: 'Oceania', year: '2050', value: 300 },\n];\n\nconst pattern = ({ country }) => {\n  if (country === 'Asia') {\n    return {\n      type: 'line',\n      cfg: {\n        lineWidth: 10,\n        strokeOpacity: 0.6,\n      },\n    };\n  } else if (country === 'Europe') {\n    return {\n      type: 'dot',\n      cfg: {\n        size: 10,\n        padding: 5,\n        fill: '#fff',\n        fillOpacity: 0.8,\n      },\n    };\n  }\n};\n\nconst area = new Area('container', {\n  data,\n  xField: 'year',\n  yField: 'value',\n  seriesField: 'country',\n  color: ['#82d1de', '#cb302d', '#e3ca8c'],\n  areaStyle: {\n    fillOpacity: 0.7,\n  },\n  meta: {\n    year: {\n      nice: true,\n      range: [0, 1],\n    },\n  },\n  smooth: true,\n  yAxis: {\n    label: {\n      formatter: (value) => {\n        return value * 100;\n      },\n    },\n  },\n  pattern,\n});\narea.render();\n",title:{zh:"带贴图图案的面积图",en:"Area with pattern"},filename:"area-pattern.ts",isNew:!1},{id:"stacked-group-column-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/1Ei8A%24VtRI/a9f53248-bdb4-4bc4-a567-3cd0d76e2a26.png",source:"import { Column } from '@antv/g2plot';\n\nconst pattern = ({ name }) => {\n  return name === '理科'\n    ? {\n        type: 'line',\n        cfg: {\n          lineWidth: 6,\n          spacing: 5,\n        },\n      }\n    : {\n        type: 'dot',\n        cfg: {\n          size: 10,\n        },\n      };\n};\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/cK%24sTxSsah/stack-group-column.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: 'month',\n      yField: 'value',\n      isGroup: true,\n      isStack: true,\n      seriesField: 'type',\n      groupField: 'name',\n      rawFields: ['type', 'name'],\n      columnStyle: {\n        radius: 5,\n      },\n      pattern,\n    });\n\n    column.update({\n      theme: {\n        styleSheet: {\n          brandColor: '#FF4500',\n          paletteQualitative10: [\n            '#FF4500',\n            '#1AAF8B',\n            '#406C85',\n            '#F6BD16',\n            '#B40F0F',\n            '#2FB8FC',\n            '#4435FF',\n            '#FF5CA2',\n            '#BBE800',\n            '#FE8A26',\n          ],\n          paletteQualitative20: [\n            '#FF4500',\n            '#1AAF8B',\n            '#406C85',\n            '#F6BD16',\n            '#B40F0F',\n            '#2FB8FC',\n            '#4435FF',\n            '#FF5CA2',\n            '#BBE800',\n            '#FE8A26',\n            '#946DFF',\n            '#6C3E00',\n            '#6193FF',\n            '#FF988E',\n            '#36BCCB',\n            '#004988',\n            '#FFCF9D',\n            '#CCDC8A',\n            '#8D00A1',\n            '#1CC25E',\n          ],\n        },\n      },\n    });\n    column.render();\n  });\n",title:{zh:"带贴图图案的堆叠分组柱状图",en:"Stacked grouped column plot with pattern"},filename:"stacked-group-column-pattern.ts",isNew:!1},{id:"heatmap-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/0zXfW5rjOu/e442fed3-047c-4f34-9536-8efe2e60a92f.png",source:"import { Heatmap } from '@antv/g2plot';\n\nconst pattern = ({ value }) => {\n  if (value >= 90) {\n    return {\n      type: 'line',\n      cfg: {\n        spacing: 2,\n        lineWidth: 6,\n        strokeOpacity: 0.9,\n      },\n    };\n  } else if (70 <= value && value < 90) {\n    return {\n      type: 'line',\n      cfg: {\n        spacing: 8,\n        lineWidth: 1,\n        strokeOpacity: 0.9,\n      },\n    };\n  }\n  if (60 <= value && value < 70) {\n    return {\n      type: 'dot',\n      cfg: {\n        size: 2,\n        padding: 5,\n        fillOpacity: 0.9,\n      },\n    };\n  }\n};\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      xField: 'name',\n      yField: 'country',\n      color: '#8E0C24',\n      colorField: 'value',\n      pattern,\n    });\n\n    heatmapPlot.render();\n  });\n",title:{zh:"带贴图图案的热力图",en:"Heatmap with pattern"},filename:"heatmap-pattern.ts",isNew:!1},{id:"heatmap-cookie-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/vR9mVPFTmx/7b2e0aac-cee0-428b-bca3-c7082bb2b76f.png",source:"import { Heatmap } from '@antv/g2plot';\n\nconst pattern = ({ value }, color) => {\n  if (value >= 90) {\n    return {\n      type: 'square',\n      cfg: {\n        size: 2,\n        padding: 1,\n        fill: color,\n        backgroundColor: '#44120c',\n        fillOpacity: 0.9,\n        isStagger: false,\n        rotation: 45,\n      },\n    };\n  } else if (70 <= value && value < 90) {\n    return {\n      type: 'square',\n      cfg: {\n        size: 10,\n        padding: 1,\n        fill: color,\n        backgroundColor: '#44120c',\n        fillOpacity: 0.9,\n        isStagger: false,\n        rotation: 45,\n      },\n    };\n  }\n  if (60 <= value && value < 70) {\n    return {\n      type: 'dot',\n      cfg: {\n        size: 2,\n        padding: 5,\n        lineWidth: 1,\n        fill: 'transparent',\n        stroke: '#44120c',\n        strokeOpacity: 0.9,\n      },\n    };\n  }\n  return {\n    type: 'line',\n    cfg: {\n      spacing: 10,\n      lineWidth: 1,\n      stroke: '#fff',\n      strokeOpacity: 0.5,\n    },\n  };\n};\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\n      data,\n      xField: 'name',\n      yField: 'country',\n      colorField: 'value',\n      color: '#edaa53',\n      shape: 'circle',\n      heatmapStyle: {\n        shadowBlur: 10,\n        shadowColor: 'rgba(0,0,0,0.3)',\n      },\n      pattern,\n    });\n\n    heatmapPlot.render();\n  });\n",title:{zh:"带贴图图案的热力图",en:"Heatmap with pattern (cookie)"},filename:"heatmap-cookie-pattern.ts",isNew:!1},{id:"liquid-pattern",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/CBo9L7m9Ux/53202fa4-ad16-4c47-ba72-f8b9858f0c78.png",source:"import { Liquid } from '@antv/g2plot';\n\nconst liquidPlot = new Liquid('container', {\n  padding: [0, 120],\n  percent: 0.85,\n  outline: {\n    border: 4,\n    distance: 5,\n  },\n  wave: {\n    length: 128,\n  },\n  statistic: {\n    content: {\n      style: {\n        fontSize: 32,\n        fill: '#ffffff',\n        opacity: 1,\n        lineWidth: 2,\n        shadowColor: '#000',\n        shadowBlur: 10,\n      },\n      offsetY: 2,\n    },\n  },\n  pattern: {\n    type: 'dot',\n    cfg: {\n      size: 30,\n    },\n  },\n});\n\nliquidPlot.render();\n",title:{zh:"带贴图图案的水波图",en:"Liquid with pattern"},filename:"liquid-pattern.ts",isNew:!1}],icon:"",id:"pattern",title:{en:"Pattern",zh:"图案 - Pattern"},childrenKey:"demos",order:5},{demos:[{id:"pattern1",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/K3xBN5N4Qz/f7dd5830-13b4-4f06-a6aa-e4b1a2eab8c1.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '其他', value: 5 },\n];\n\nfunction drawCircle(context, x, y, r, fill) {\n  context.beginPath();\n  context.fillStyle = fill;\n  context.arc(x, y, r, 0, 2 * Math.PI, false);\n  context.fill();\n  context.closePath();\n}\n\nfunction strokeRectangle(context, x, y, w, h, fill, lineWidth) {\n  context.strokeStyle = fill;\n  context.lineWidth = lineWidth;\n  context.strokeRect(x, y, w, h);\n}\n\nfunction drawRectangle(context, x, y, w, h, fill) {\n  context.fillStyle = fill;\n  context.fillRect(x, y, w, h);\n}\n\nfunction createPattern(width = 200, height = width, color, rotation = 0) {\n  const pixelRatio = window.devicePixelRatio || 2;\n\n  // 1. 创建 canvas\n  const canvas = document.createElement('canvas');\n  // 画布尺寸\n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // 显示尺寸\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const context = canvas.getContext('2d');\n  context.scale(pixelRatio, pixelRatio);\n\n  // 2. 绘制\n  context.globalAlpha = 1;\n  context.lineWidth = 0;\n\n  const padding = 4;\n\n  drawRectangle(context, 0, 0, width, height, color);\n  drawCircle(context, width / 2, height / 2, Math.min(width / 4, height / 4), '#fff');\n  drawRectangle(context, width / 2 - padding / 2, 0, padding, height, '#fff');\n  drawRectangle(context, 0, height / 2 - padding / 2, width, padding, '#fff');\n  strokeRectangle(context, 0, 0, width, height, color, 0.5);\n\n  const pattern = context.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const radian = (rotation * Math.PI) / 180;\n    pattern.setTransform({\n      a: Math.cos(radian) * (1 / pixelRatio),\n      b: Math.sin(radian) * (1 / pixelRatio),\n      c: -Math.sin(radian) * (1 / pixelRatio),\n      d: Math.cos(radian) * (1 / pixelRatio),\n      e: 0,\n      f: 0,\n    });\n  }\n\n  return pattern;\n}\n\nconst plot = new Column('container', {\n  data,\n  yField: 'value',\n  xField: 'type',\n  pattern: createPattern(20, 20, '#9c88ff', 45),\n  columnStyle: { stroke: '#9c88ff', strokeOpacity: 0.85 },\n  interactions: [{ type: 'element-active' }],\n});\n\nplot.render();\n",title:{zh:"自定义 pattern 1",en:"Custom pattern 1"},filename:"pattern1.ts",isNew:!1},{id:"pattern2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/m%24tVnt%26fw1/0df6c0bd-d4e4-401d-9f8f-3e06e66dd0f6.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '其他', value: 5 },\n];\n\nfunction drawCircle(context, x, y, r, fill) {\n  context.beginPath();\n  context.fillStyle = fill;\n  context.arc(x, y, r, 0, 2 * Math.PI, false);\n  context.lineWidth = 0;\n  context.fill();\n  context.closePath();\n}\n\nfunction drawRectangle(context, x, y, w, h, fill) {\n  context.fillStyle = fill;\n  context.fillRect(x, y, w, h);\n}\n\nfunction createPattern(width = 200, height = width, color, rotation = 0) {\n  // 1. 创建 canvas\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = 2;\n  // 画布尺寸\n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // 显示尺寸\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const context = canvas.getContext('2d');\n  context.scale(pixelRatio, pixelRatio);\n\n  // 2. 绘制\n  context.globalAlpha = 1;\n  context.lineWidth = 0;\n\n  drawRectangle(context, 0, 0, width, height, color);\n  drawCircle(context, width / 2, height / 2, Math.min(width / 2, height / 2) - 0.5, '#fff');\n\n  const r = Math.sqrt(Math.pow(Math.min(width, height), 2) * 2) / 4;\n  drawCircle(context, width / 4, height / 4, r / 2, color);\n  drawCircle(context, (width / 4) * 3, height / 4, r / 2, color);\n  drawCircle(context, width / 4, (height / 4) * 3, r / 2, color);\n  drawCircle(context, (width / 4) * 3, (height / 4) * 3, r / 2, color);\n\n  const pattern = context.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const radian = (rotation * Math.PI) / 180;\n    pattern.setTransform({\n      a: Math.cos(radian) * (1 / pixelRatio),\n      b: Math.sin(radian) * (1 / pixelRatio),\n      c: -Math.sin(radian) * (1 / pixelRatio),\n      d: Math.cos(radian) * (1 / pixelRatio),\n      e: 0,\n      f: 0,\n    });\n  }\n\n  return pattern;\n}\n\nconst plot = new Column('container', {\n  data,\n  yField: 'value',\n  xField: 'type',\n  pattern: createPattern(20, 20, '#7ed6df', 0),\n  columnStyle: { stroke: '#7ed6df', strokeOpacity: 0.85 },\n  interactions: [{ type: 'element-active' }],\n});\n\nplot.render();\n",title:{zh:"自定义 pattern 2",en:"Custom pattern 2"},filename:"pattern2.ts",isNew:!1},{id:"pattern3",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/6P5yjvGTfV/2c60bc1b-88b6-4937-b852-fc97af953007.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '其他', value: 5 },\n];\n\nfunction drawRectangle(context, x, y, w, h, fill) {\n  context.fillStyle = fill;\n  context.fillRect(x, y, w, h);\n}\n\nfunction createPattern(width = 200, height = width, color = '#f6e58d', rotation = 0) {\n  // 1. 创建 canvas\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = 2;\n  // 画布尺寸\n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // 显示尺寸\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const context = canvas.getContext('2d');\n  context.scale(pixelRatio, pixelRatio);\n\n  // 2. 绘制\n  context.globalAlpha = 1;\n  context.lineWidth = 0;\n\n  const padding = 4;\n\n  drawRectangle(context, 0, 0, width, height, color);\n\n  drawRectangle(context, width / 2 - padding / 2, 0, padding, height, '#fff');\n  drawRectangle(context, 0, height / 2 - padding / 2, width, padding, '#fff');\n\n  drawRectangle(context, width / 2 - padding / 2, 0, padding, height, '#fff');\n  drawRectangle(context, 0, height / 2 - padding / 2, width, padding, '#fff');\n\n  drawRectangle(context, width / 2 - padding / 2, height / 4, padding, height / 2, '#ff6b6b');\n  drawRectangle(context, width / 4, height / 2 - padding / 2, width / 2, padding, '#ff6b6b');\n\n  const pattern = context.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const radian = (rotation * Math.PI) / 180;\n    pattern.setTransform({\n      a: Math.cos(radian) * (1 / pixelRatio),\n      b: Math.sin(radian) * (1 / pixelRatio),\n      c: -Math.sin(radian) * (1 / pixelRatio),\n      d: Math.cos(radian) * (1 / pixelRatio),\n      e: 0,\n      f: 0,\n    });\n  }\n\n  return pattern;\n}\n\nconst plot = new Column('container', {\n  data,\n  yField: 'value',\n  xField: 'type',\n  pattern: createPattern(20, 20, undefined, 45),\n  interactions: [{ type: 'element-active' }],\n});\n\nplot.render();\n",title:{zh:"自定义 pattern 3",en:"Custom pattern 3"},filename:"pattern3.ts",isNew:!1}],icon:"",id:"custom-pattern",title:{en:"Custom Pattern",zh:"自定义 Pattern 图案"},childrenKey:"demos",order:6}],childrenKey:"examples"},{id:"dynamic-plots",title:{zh:"动态交互",en:"Dynamic Plots"},icon:"other",examples:[{demos:[{id:"dynamic-spline",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/uShhKpuVTc/dongtaigengxinzhexiantushuju.gif",source:"import { Line } from '@antv/g2plot';\n\nfunction getData() {\n  // generate an array of random data\n  const data = [];\n  const time = new Date().getTime();\n\n  for (let i = -19; i <= 0; i += 1) {\n    data.push({\n      x: time + i * 1000,\n      y: Math.random() + 0.2,\n    });\n  }\n  return data;\n}\n\nconst line = new Line('container', {\n  data: getData(),\n  padding: 'auto',\n  xField: 'x',\n  yField: 'y',\n  xAxis: {\n    type: 'time',\n    mask: 'HH:mm:ss',\n  },\n  smooth: true,\n  point: {},\n});\n\nline.render();\n\nsetInterval(() => {\n  const x = new Date().getTime(), // current time\n    y = Math.random() + 0.2;\n  const newData = line.options.data.slice(1).concat({ x, y });\n  line.changeData(newData);\n}, 1000);\n",title:{zh:"实时刷新的曲线图",en:"Spline updating real-time"},filename:"dynamic-spline.ts",isNew:!1},{id:"dynamic-column",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/xRi7nXpsN1/dynamtic-column.gif",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '1-3秒', value: 0.16 },\n  { type: '4-10秒', value: 0.125 },\n  { type: '11-30秒', value: 0.24 },\n  { type: '31-60秒', value: 0.19 },\n  { type: '1-3分', value: 0.22 },\n  { type: '3-10分', value: 0.05 },\n  { type: '10-30分', value: 0.01 },\n  { type: '30+分', value: 0.015 },\n];\n\nconst paletteSemanticRed = '#F4664A';\nconst brandColor = '#5B8FF9';\nconst columnPlot = new Column('container', {\n  data,\n  xField: 'type',\n  yField: 'value',\n  seriesField: 'value',\n  color: ({ value }) => {\n    if (value < 0.05) {\n      return paletteSemanticRed;\n    }\n    return brandColor;\n  },\n  legend: false,\n});\n\ncolumnPlot.render();\nsetInterval(() => {\n  columnPlot.changeData(data.map((d) => ({ ...d, value: d.value * Math.random() })));\n}, 1200);\n",title:{zh:"动态更新的柱状图",en:"Column updating with dynamic"},filename:"dynamic-column.ts",isNew:!1},{id:"dynamic-area",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/ld0NQtdLO0/mianjitugengxinshuju-after.gif",source:"import { Area } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/360c3eae-0c73-46f0-a982-4746a6095010.json')\n  .then((res) => res.json())\n  .then((originalData) => {\n    let cnt = 2;\n    const area = new Area('container', {\n      data: originalData.slice(0, cnt),\n      xField: 'timePeriod',\n      yField: 'value',\n      xAxis: {\n        range: [0, 1],\n      },\n    });\n    area.render();\n\n    const interval = setInterval(() => {\n      if (cnt === originalData.length) {\n        clearInterval(interval);\n      } else {\n        cnt += 1;\n        area.changeData(originalData.slice(0, cnt));\n      }\n    }, 400);\n  });\n",title:{zh:"动态更新的面积图",en:"Area updating with dynamic"},filename:"dynamic-area.ts",isNew:!1},{id:"dynamic-gauge",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*O2aDSImbWDgAAAAAAAAAAAAAARQnAQ",source:"import { Gauge } from '@antv/g2plot';\n\nconst color = ['#F4664A', '#FAAD14', '#30BF78'];\nconst getColor = (percent) => {\n  return percent < 0.4 ? color[0] : percent < 0.6 ? color[1] : color[2];\n};\nconst gauge = new Gauge('container', {\n  percent: 0.2,\n  range: {\n    color: getColor(0.2),\n  },\n  indicator: {\n    pointer: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n    pin: {\n      style: {\n        stroke: '#D0D0D0',\n      },\n    },\n  },\n  axis: {\n    label: {\n      formatter(v) {\n        return Number(v) * 100;\n      },\n    },\n    subTickLine: {\n      count: 3,\n    },\n  },\n  statistic: {\n    content: {\n      formatter: ({ percent }) => `Rate: ${(percent * 100).toFixed(0)}%`,\n    },\n    style: {\n      fontSize: 60,\n    },\n  },\n  animation: false,\n});\n\ngauge.render();\n\nlet data = 0.2;\nconst interval = setInterval(() => {\n  if (data >= 0.85) {\n    clearInterval(interval);\n  } else {\n    data += 0.001;\n    gauge.changeData(data);\n    gauge.update({ range: { color: getColor(data) } });\n  }\n}, 100);\n",title:{zh:"动态更新的仪表盘",en:"Gauge updating with dynamic"},filename:"dynamic-gauge.ts",isNew:!1},{id:"dynamic-pie",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/JQXEkyg2Rm/dongtaigengxinshuju-pie-after.gif",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.9,\n  label: {\n    type: 'inner',\n    offset: '-30%',\n    content: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n    style: {\n      fontSize: 14,\n      textAlign: 'center',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n});\n\npiePlot.render();\nsetInterval(() => {\n  piePlot.changeData(data.map((d) => ({ ...d, value: d.value * Math.random() })));\n}, 1200);\n",title:{zh:"动态更新的饼图",en:"Pie updating with dynamic"},filename:"dynamic-pie.ts",isNew:!1}],icon:"",id:"basic",title:{en:"ChangeData",zh:"动态更新数据"},childrenKey:"demos",order:0},{demos:[{id:"animation-line",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/wzgJEWwC6S/animation-line.gif",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select, Input } from 'antd';\nimport { Line } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nclass LinePlot extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    // Step 1: 声明数据源\n    // G2Plot 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。\n    /** Generater a data array of 50 items */\n    const data = new Array(50).fill(1).map((d, idx) => ({ x: `${idx}`, y: idx + Math.random() * 10 }));\n    // Step 2: 创建图表\n    const chartDom = this.chartNodeRef.current;\n    const line = new Line(chartDom, {\n      data,\n      xField: 'x',\n      yField: 'y',\n    });\n\n    // Step 3: 渲染图表\n    line.render();\n    this.chartRef.current = line;\n  }\n\n  handleAnimationChange = (v) => {\n    const line = this.chartRef.current;\n    if (line) {\n      line.update({ animation: v === '无' ? false : { appear: { animation: v } } });\n    }\n  };\n\n  handleDurationChange = (e) => {\n    const v = e.target.value;\n    const line = this.chartRef.current;\n    if (line) {\n      line.update({ animation: { appear: { duration: v } } });\n    }\n  };\n\n  render() {\n    return (\n      <section>\n        <div>\n          <span className=\"select-label\">切换动画</span>\n          <Select  aria-label=\"select\" defaultValue=\"wave-in\" onChange={this.handleAnimationChange} size=\"small\">\n            {['wave-in', 'zoom-in', 'fade-in', '无'].map((opt) => {\n              return <Select.Option value={opt}>{opt}</Select.Option>;\n            })}\n          </Select>\n          <span className=\"select-label\">动画持续时间</span>\n          <Input aria-label=\"input\" className=\"custom-input\" placeholder=\"500ms\" size=\"small\" onChange={this.handleDurationChange} />\n        </div>\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .select-label {\n    margin-right: 8px;\n  }\n  .select-label:not(:first-of-type) {\n    margin-left: 8px;\n  }\n  .custom-input {\n    display: inline-block;\n    width: 200px !important;\n  }\n  .chart-wrapper {\n    margin-top: 12px;\n  }\n`);\n\nReactDOM.render(<LinePlot />, document.getElementById('container'));\n",title:{zh:"动画中的线",en:"Line with animation"},filename:"animation-line.jsx",isNew:!1},{id:"animation-column",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/2diiG81%24mH/animation-column.gif",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select, Input } from 'antd';\nimport { Column } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nclass ColumnPlot extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    // Step 1: 声明数据源\n    // G2Plot 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。\n    /** Generater a data array of 20 items */\n    const data = new Array(20).fill(1).map((d, idx) => ({ x: `${idx}`, y: idx + Math.random() * 20 }));\n    // Step 2: 创建图表\n    const chartDom = this.chartNodeRef.current;\n    const column = new Column(chartDom, {\n      data,\n      xField: 'x',\n      yField: 'y',\n      seriesField: 'x',\n      legend: false,\n    });\n\n    // Step 3: 渲染图表\n    column.render();\n    this.chartRef.current = column;\n  }\n\n  handleAnimationChange = (v) => {\n    const column = this.chartRef.current;\n    if (column) {\n      column.update({ animation: v === '无' ? false : { appear: { animation: v } } });\n    }\n  };\n\n  handleDurationChange = (e) => {\n    const v = e.target.value;\n    const column = this.chartRef.current;\n    if (column) {\n      column.update({ animation: { appear: { duration: v } } });\n    }\n  };\n\n  render() {\n    return (\n      <section>\n        <div>\n          <span className=\"select-label\">切换动画</span>\n          <Select aria-label=\"select\" defaultValue=\"scale-in-y\" onChange={this.handleAnimationChange} size=\"small\">\n            {/* 'grow-in-x', 'grow-in-y' 不可用*/}\n            {['scale-in-x', 'scale-in-y', 'zoom-in', 'zoom-out', 'fade-in', '无'].map((opt) => {\n              return <Select.Option value={opt}>{opt}</Select.Option>;\n            })}\n          </Select>\n          <span className=\"select-label\">动画持续时间</span>\n          <Input aria-label=\"input\" className=\"custom-input\" placeholder=\"500ms\" size=\"small\" onChange={this.handleDurationChange} />\n        </div>\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .select-label {\n    margin-right: 8px;\n  }\n  .select-label:not(:first-of-type) {\n    margin-left: 8px;\n  }\n  .custom-input {\n    display: incolumn-block;\n    width: 200px !important;\n  }\n  .chart-wrapper {\n    margin-top: 12px;\n  }\n`);\n\nReactDOM.render(<ColumnPlot />, document.getElementById('container'));\n",title:{zh:"动画中的柱状图",en:"Column with animation"},filename:"animation-column.jsx",isNew:!1},{id:"animation-pie",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/j%24xvvpfIky/animation-pie.gif",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select, Input } from 'antd';\nimport { Pie } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nclass PiePlot extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    // Step 1: 声明数据源\n    // G2Plot 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。\n    /** Generater a data array of 6 items */\n    const data = new Array(6).fill(1).map((d, idx) => ({ x: `${idx}`, y: idx + Math.random() * 20 }));\n    // Step 2: 创建图表\n    const chartDom = this.chartNodeRef.current;\n    const pie = new Pie(chartDom, {\n      data,\n      colorField: 'x',\n      angleField: 'y',\n      label: { type: 'inner', formatter: '{percentage}', offset: '-20%' },\n    });\n\n    // Step 3: 渲染图表\n    pie.render();\n    this.chartRef.current = pie;\n  }\n\n  handleAnimationChange = (v) => {\n    const pie = this.chartRef.current;\n    if (pie) {\n      pie.update({ animation: v === '无' ? false : { appear: { animation: v } } });\n    }\n  };\n\n  handleDurationChange = (e) => {\n    const v = e.target.value;\n    const pie = this.chartRef.current;\n    if (pie) {\n      pie.update({ animation: { appear: { duration: v } } });\n    }\n  };\n\n  render() {\n    return (\n      <section>\n        <div>\n          <span className=\"select-label\">切换动画</span>\n          <Select aria-label=\"select\" defaultValue=\"wave-in\" onChange={this.handleAnimationChange} size=\"small\">\n            {/* 'grow-in-x', 'grow-in-y', 不可用 */}\n            {['wave-in', 'grow-in-xy', 'zoom-in', 'fade-in', '无'].map((opt) => {\n              return <Select.Option value={opt}>{opt}</Select.Option>;\n            })}\n          </Select>\n          <span className=\"select-label\">动画持续时间</span>\n          <Input aria-label=\"input\" className=\"custom-input\" placeholder=\"500ms\" size=\"small\" onChange={this.handleDurationChange} />\n        </div>\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .select-label {\n    margin-right: 8px;\n  }\n  .select-label:not(:first-of-type) {\n    margin-left: 8px;\n  }\n  .custom-input {\n    display: inpie-block;\n    width: 200px !important;\n  }\n  .chart-wrapper {\n    margin-top: 12px;\n  }\n`);\n\nReactDOM.render(<PiePlot />, document.getElementById('container'));\n",title:{zh:"动画中的饼图",en:"Pie with animation"},filename:"animation-pie.jsx",isNew:!1},{id:"easing-effects",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/bNlr9D%267qQ/easing-effects.gif",source:"import { Mix } from '@antv/g2plot';\n\n/** Generater a data array of 30 items */\nconst data = new Array(30).fill(1).map((d, idx) => idx + Math.random() * 10);\nconst plots = [];\n\nconst effects = [\n  'easeLinear',\n  'easeQuadIn',\n  'easeQuadOut',\n  'easeQuadInOut',\n  'easeCubicIn',\n  'easeCubicOut',\n  'easeCubicInOut',\n  'easePolyIn',\n  'easePolyOut',\n  'easePolyInOut',\n  'easeSinIn',\n  'easeSinOut',\n  'easeSinInOut',\n  'easeExpIn',\n  'easeExpOut',\n  'easeExpInOut',\n  'easeCircleIn',\n  'easeCircleOut',\n  'easeCircleInOut',\n  'easeElasticIn',\n  'easeElasticOut',\n  'easeElasticInOut',\n  'easeBounceIn',\n  'easeBounceOut',\n  'easeBounceInOut',\n  'easeBackIn',\n  'easeBackOut',\n  'easeBackInOut',\n];\nconst colors = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#61DDAA',\n  '#CDF3E4',\n  '#65789B',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#7262fd',\n  '#D3CEFD',\n  '#78D3F8',\n  '#D3EEF9',\n  '#9661BC',\n  '#DECFEA',\n  '#F6903D',\n  '#FFE0C7',\n  '#008685',\n  '#BBDEDE',\n  '#F08BB4',\n  '#FFE0ED',\n];\n\nconst ROWS = 5;\nconst COLS = 4;\nfor (let i = 0; i < ROWS; i++) {\n  for (let j = 0; j < COLS; j++) {\n    if (i * ROWS + j >= effects.length) {\n      break;\n    }\n    const idx = i * ROWS + j;\n    const effect = effects[idx];\n    plots.push({\n      region: {\n        start: { x: j / COLS + 0.04 * ((i * COLS + j) % COLS > 0 ? 1 : 0), y: i / ROWS },\n        end: { x: (j + 1) / COLS, y: (i + 1) / ROWS - 0.04 },\n      },\n      type: idx % 2 ? 'tiny-column' : 'tiny-line',\n      options: {\n        data,\n        tooltip: { title: effect },\n        color: colors[idx],\n        annotations: [\n          {\n            type: 'text',\n            content: effect,\n            position: ['20%', '110%'],\n          },\n        ],\n        animation: {\n          appear: {\n            // animation: 'wave-in', 默认：line 为 ‘wave-in’，可更改\n            easing: effect,\n            duration: 5000,\n            delay: 0,\n          },\n        },\n      },\n    });\n  }\n}\n\nconst plot = new Mix('container', { tooltip: false, plots });\nplot.render();\n",title:{zh:"easing 效果",en:"Effects of easing"},filename:"easing-effects.ts",isNew:!1}],icon:"",id:"animation",title:{en:"Animation",zh:"动画"},childrenKey:"demos",order:1},{demos:[{id:"scatter-brush",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/BlpX0yZrRH/brush-highlight.gif",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select } from 'antd';\nimport { Scatter } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nclass Plot extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    const chartDom = this.chartNodeRef.current;\n    const plot = new Scatter(chartDom, {\n      data: [],\n      xField: 'weight',\n      yField: 'height',\n      colorField: 'gender',\n      size: 5,\n      shape: 'circle',\n      pointStyle: {\n        fillOpacity: 1,\n      },\n      brush: {\n        enabled: true,\n        // 圈选高亮，不指定默认为: filter\n        action: 'highlight',\n        mask: {\n          style: {\n            fill: 'rgba(0,0,0,0.15)',\n            stroke: 'rgba(0,0,0,0.45)',\n            lineWidth: 0.5,\n          },\n        },\n      },\n    });\n\n    // Step 3: 渲染图表\n    plot.render();\n    this.chartRef.current = plot;\n\n    fetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/scatter.json')\n      .then((res) => res.json())\n      .then((data) => {\n        plot.changeData(data);\n      });\n  }\n\n  handleChange = (v) => {\n    const plot = this.chartRef.current;\n    if (plot) {\n      plot.update({ brush: { type: v } });\n    }\n  };\n\n  render() {\n    return (\n      <section>\n        <div>\n          <span className=\"select-label\">Brush 类型</span>\n          <Select aria-label=\"select\" defaultValue=\"rect\" onChange={this.handleChange} size=\"small\">\n            {['rect', 'x-rect', 'y-rect', 'circle', 'path'].map((opt) => {\n              return <Select.Option value={opt}>{opt}</Select.Option>;\n            })}\n          </Select>\n        </div>\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .select-label {\n    margin-right: 8px;\n  }\n  .select-label:not(:first-of-type) {\n    margin-left: 8px;\n  }\n  .chart-wrapper {\n    margin-top: 12px;\n  }\n`);\n\nReactDOM.render(<Plot />, document.getElementById('container'));\n",title:{zh:"散点图刷选高亮",en:"Brush highlight of scatter"},filename:"scatter-brush.jsx",isNew:!1},{id:"scatter-brush-filter",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/x6%24CDJpPny/brush-x.gif",source:"import { Scatter } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/scatter.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Scatter('container', {\n      data,\n      xField: 'weight',\n      yField: 'height',\n      colorField: 'gender',\n      size: 5,\n      shape: 'circle',\n      pointStyle: {\n        fillOpacity: 1,\n      },\n      brush: {\n        enabled: true,\n        mask: {\n          style: {\n            fill: 'rgba(255,0,0,0.15)',\n          },\n        },\n      },\n    });\n    plot.render();\n  });\n",title:{zh:"散点图刷选",en:"Brush of scatter"},filename:"scatter-brush-filter.ts",isNew:!1},{id:"column-brush",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/svUh77%263iZ/column-brush-highlight.gif",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'release',\n      yField: 'count',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      brush: {\n        enabled: true,\n        action: 'highlight',\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"柱状图刷选高亮",en:"Brush highlight of column"},filename:"column-brush.ts",isNew:!1},{id:"column-brush-y",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/Rf1WzUaySB/column-brush-y.gif",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'release',\n      yField: 'count',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      brush: {\n        enabled: true,\n        type: 'y-rect',\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"柱状图 y 方向刷选",en:"Brush on y position of column"},filename:"column-brush-y.ts",isNew:!1},{id:"column-brush-y-highlight",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/cKc4Q6lOXQ/y-brush-column.gif",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'release',\n      yField: 'count',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      brush: {\n        enabled: true,\n        type: 'y-rect',\n        action: 'highlight',\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"柱状图 y 方向刷选高亮",en:"Brush highlight on y position of column"},filename:"column-brush-y-highlight.ts",isNew:!1},{id:"bar-brush",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/hksereLMdK/bar-brush-highlight.gif",source:"import { Bar } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot = new Bar('container', {\n      data,\n      xField: 'count',\n      yField: 'release',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      brush: {\n        enabled: true,\n        action: 'highlight',\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"条形图刷选高亮",en:"Brush highlight of bar"},filename:"bar-brush.ts",isNew:!1},{id:"advanced-brush1",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/OLOyP6XI0e/brush-advanced-usage1.gif",source:"import { Column, G2 } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\ninsertCss(`\n#container {\n  display: flex;\n  flex-direction: column;\n  padding: 12px 8px;\n}\n#container1 {\n  flex: 1;\n}\n#container2 {\n  padding-top: 12px;\n  height: 120px;\n}\n`);\ninitContainer();\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot1 = new Column('container1', {\n      data,\n      xField: 'release',\n      yField: 'count',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      tooltip: {\n        fields: ['release', 'artist', 'count'],\n      },\n    });\n\n    plot1.render();\n\n    const plot2 = new Column('container2', {\n      data,\n      xField: 'release',\n      yField: 'rank',\n      yAxis: false,\n      appendPadding: [0, 0, 0, 20],\n      tooltip: {\n        containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n        itemTpl: '<span>{value}</span>',\n        domStyles: {\n          'g2-tooltip': {\n            padding: '2px 4px',\n            fontSize: '10px',\n          },\n        },\n      },\n      brush: {\n        enabled: true,\n        mask: {\n          style: {\n            fill: 'rgba(0,0,0,0.2)',\n          },\n        },\n      },\n      interactions: [{ type: 'active-region', enable: false }],\n    });\n\n    plot2.render();\n\n    plot2.on(G2.BRUSH_FILTER_EVENTS.AFTER_FILTER, () => {\n      // after brush filter\n      const filteredData = plot2.chart.getData();\n      const releases = filteredData.map((d) => d.release);\n      plot1.changeData(data.filter((datum) => releases.includes(datum.release)));\n    });\n\n    plot2.on(G2.BRUSH_FILTER_EVENTS.AFTER_RESET, () => {\n      // after brush filter reset\n      plot1.changeData(data);\n    });\n  });\n\nfunction initContainer() {\n  const container = document.getElementById('container');\n  container.innerHTML = `\n      <div id=\"container1\"></div>\n      <div id=\"container2\"></div>\n    `;\n}\n",title:{zh:"刷选高级用法1",en:"Advanced usage1 of brush"},filename:"advanced-brush1.ts",isNew:!1},{id:"advanced-brush2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/2wHu3BD2s%26/brush-advanced-usage.gif",source:"import { Column, G2 } from '@antv/g2plot';\nimport { each, groupBy } from '@antv/util';\nimport insertCss from 'insert-css';\n\ninsertCss(`\n#container {\n  display: flex;\n  flex-direction: column;\n  padding: 12px 8px;\n}\n#container1 {\n  flex: 1;\n}\n#container2 {\n  padding-top: 12px;\n  height: 120px;\n}\n`);\ninitContainer();\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/v6MvZBUBsQ/column-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const plot1 = new Column('container1', {\n      data,\n      xField: 'release',\n      yField: 'count',\n      meta: {\n        count: {\n          alias: 'top2000 唱片总量',\n          nice: true,\n        },\n        release: {\n          tickInterval: 5,\n          alias: '唱片发行年份',\n        },\n      },\n      tooltip: {\n        fields: ['release', 'artist', 'count'],\n      },\n    });\n\n    plot1.render();\n\n    // 可以用于筛选 “唱片发行总量高”的作家，然后对 plot1 进行高亮，发掘和“唱片发行年份”的关系\n    const data2 = [];\n    each(groupBy(data, 'artist'), (v, artist) => {\n      data2.push({ artist, count: v.reduce((a, b) => a + b.count, 0) });\n    });\n    data2.sort((a, b) => a.count - b.count);\n    const plot2 = new Column('container2', {\n      data: data2,\n      xField: 'artist',\n      yField: 'count',\n      yAxis: false,\n      tooltip: {\n        containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n        itemTpl: '<span>{value}</span>',\n        domStyles: {\n          'g2-tooltip': {\n            padding: '2px 4px',\n            fontSize: '10px',\n          },\n        },\n      },\n      brush: {\n        enabled: true,\n        action: 'highlight',\n      },\n      interactions: [{ type: 'active-region', enable: false }],\n    });\n\n    plot2.render();\n\n    // 监听状态变化\n    plot2.on(G2.ELEMENT_RANGE_HIGHLIGHT_EVENTS.AFTER_HIGHLIGHT, (evt) => {\n      const { highlightElements = [] } = evt.data;\n\n      // active\n      const artists = highlightElements.map((ele) => ele.getData()?.artist).filter((d) => !!d);\n      plot1.setState('active', (datum) => artists.includes(datum.artist));\n      plot1.setState('active', (datum) => !artists.includes(datum.artist), false);\n    });\n\n    plot2.on(G2.ELEMENT_RANGE_HIGHLIGHT_EVENTS.AFTER_CLEAR, () => {\n      // 取消激活\n      plot1.setState('active', () => true, false);\n    });\n  });\n\nfunction initContainer() {\n  const container = document.getElementById('container');\n  container.innerHTML = `\n    <div id=\"container1\"></div>\n    <div id=\"container2\"></div>\n  `;\n}\n",title:{zh:"刷选高级用法2",en:"Advanced usage2 of brush"},filename:"advanced-brush2.ts",isNew:!1},{id:"advanced-brush3",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/eoeB059ntH/brush.gif",source:"import { Column } from '@antv/g2plot';\n\n\nconst data = [\n  {\n    name: 'London',\n    月份: 'Jan.',\n    月均降雨量: 18.9,\n  },\n  {\n    name: 'London',\n    月份: 'Feb.',\n    月均降雨量: 28.8,\n  },\n  {\n    name: 'London',\n    月份: 'Mar.',\n    月均降雨量: 39.3,\n  },\n  {\n    name: 'London',\n    月份: 'Apr.',\n    月均降雨量: 81.4,\n  },\n  {\n    name: 'London',\n    月份: 'May',\n    月均降雨量: 47,\n  },\n  {\n    name: 'London',\n    月份: 'Jun.',\n    月均降雨量: 20.3,\n  },\n  {\n    name: 'London',\n    月份: 'Jul.',\n    月均降雨量: 24,\n  },\n  {\n    name: 'London',\n    月份: 'Aug.',\n    月均降雨量: 35.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jan.',\n    月均降雨量: 12.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Feb.',\n    月均降雨量: 23.2,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Mar.',\n    月均降雨量: 34.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Apr.',\n    月均降雨量: 99.7,\n  },\n  {\n    name: 'Berlin',\n    月份: 'May',\n    月均降雨量: 52.6,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jun.',\n    月均降雨量: 35.5,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Jul.',\n    月均降雨量: 37.4,\n  },\n  {\n    name: 'Berlin',\n    月份: 'Aug.',\n    月均降雨量: 42.4,\n  },\n];\n\nconst plot = new Column('container', {\n  data,\n  isGroup: true,\n  xField: '月份',\n  yField: '月均降雨量',\n  seriesField: 'name',\n  brush: {\n    enabled: true,\n    action: 'highlight',\n    isStartEnable: (context) => {\n      // 按住 shift 键，才能开启交互\n      if (context.event.gEvent.originalEvent?.shiftKey) {\n        return true;\n      }\n      return false;\n    },\n  },\n  interactions: [{ type: 'element-selected' }],\n});\n\nplot.render();\n",title:{zh:"刷选高级用法3",en:"Advanced usage3 of brush"},filename:"advanced-brush3.ts",isNew:!1}],icon:"",id:"brush",title:{en:"Brush",zh:"Brush 刷选"},childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"component",title:{zh:"图表组件",en:"Components"},icon:"other",examples:[{demos:[{id:"legend-position",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/FpI3Qcbr11/tooltip.gif",source:"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select } from 'antd';\nimport { Column } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nclass Plot extends React.Component {\n  chartNodeRef = React.createRef();\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    fetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n      .then((data) => data.json())\n      .then((data) => {\n        const chartDom = this.chartNodeRef.current;\n\n        const plot = new Column(chartDom, {\n          data,\n          xField: 'city',\n          yField: 'value',\n          seriesField: 'type',\n          isGroup: 'true',\n        });\n\n        plot.render();\n        this.chartRef.current = plot;\n      });\n  }\n\n  handlePositionChange = (v) => {\n    const plot = this.chartRef.current;\n    if (plot) {\n      plot.update({ legend: { position: v } });\n    }\n  };\n\n  render() {\n    return (\n      <section>\n        <div>\n          <span className=\"select-label\">切换位置</span>\n          <Select\n            aria-label=\"select\"\n            defaultValue=\"top-left\"\n            dropdownMatchSelectWidth={false}\n            onChange={this.handlePositionChange}\n            size=\"small\"\n          >\n            {[\n              'top',\n              'top-left',\n              'top-right',\n              'left',\n              'left-top',\n              'left-bottom',\n              'right',\n              'right-top',\n              'right-bottom',\n              'bottom',\n              'bottom-left',\n              'bottom-right',\n            ].map((opt) => {\n              return <Select.Option value={opt}>{opt}</Select.Option>;\n            })}\n          </Select>\n        </div>\n        <div className={'chart-wrapper'} ref={this.chartNodeRef} />\n      </section>\n    );\n  }\n}\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n  .select-label {\n    margin-right: 8px;\n  }\n  .select-label:not(:first-of-type) {\n    margin-left: 8px;\n  }\n  .chart-wrapper {\n    margin-top: 12px;\n    height: 320px;\n  }\n`);\n\nReactDOM.render(<Plot />, document.getElementById('container'));\n",title:{zh:"图例位置",en:"Legend position"},filename:"legend-position.jsx",isNew:!1},{id:"legend-item-value",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KL9rDFTlDt/64abafb6-8e4e-48ff-9a79-cb84883a3bef.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      legend: {\n        position: 'right-top',\n        offsetX: 8,\n        title: {\n          text: '产品类别 (平均销售量）',\n          spacing: 8,\n        },\n        itemValue: {\n          formatter: (text, item) => {\n            const items = data.filter((d) => d.type === item.value);\n            return items.length ? items.reduce((a, b) => a + b.value, 0) / items.length : '-';\n          },\n          style: {\n            opacity: 0.65,\n          },\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"展示图例项的数值",en:"Display value of legend item"},filename:"legend-item-value.ts",isNew:!1},{id:"legend-item-cfg",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/Bn1qWqQlkG/2d3c80e3-acde-4d13-afc5-83063f684ade.png",source:"import { Column } from '@antv/g2plot';\n\nconst calcAverageValue = (data, type) => {\n  const items = data.filter((d) => d.type === type);\n  return items.length ? items.reduce((a, b) => a + b.value, 0) / items.length : '-';\n};\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      legend: {\n        position: 'right-top',\n        offsetX: 8,\n        title: {\n          text: '产品类别 (平均销售量）',\n          spacing: 8,\n        },\n        itemName: {\n          style: (item, index) => {\n            return {\n              fill: calcAverageValue(data, item.value) > 10000 ? 'red' : 'green',\n            };\n          },\n        },\n        itemValue: {\n          formatter: (text, item) => {\n            return calcAverageValue(data, item.value);\n          },\n          style: (item, index) => {\n            return {\n              fill: calcAverageValue(data, item.value) > 10000 ? 'red' : 'green',\n            };\n          },\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"图例项配置",en:"Configuration of legend item"},filename:"legend-item-cfg.ts",isNew:!1},{id:"legend-focus",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/KL9rDFTlDt/64abafb6-8e4e-48ff-9a79-cb84883a3bef.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      legend: {\n        selected: {\n          // 默认置灰\n          茶叶: false,\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"图例项默认不选中",en:"Default unselected legend item"},filename:"legend-focus.ts",isNew:!1},{id:"legend-radio",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/LVM6Z%2473sn/legend-radio-focus.gif",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/PC3daFYjNw/column-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'city',\n      yField: 'value',\n      seriesField: 'type',\n      isGroup: 'true',\n      legend: {\n        radio: {},\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"图例正选模式",en:"Legend radio focus"},filename:"legend-radio.ts",isNew:!1},{id:"legend-flippage",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/W6n7yMd5lw/0a28a2bd-e5f3-4756-8fda-d8e2faf79076.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/P14mCvkybz/large-datra.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'product_box',\n      yField: 'value',\n      seriesField: 'province',\n      isGroup: 'true',\n      legend: {\n        flipPage: true,\n        // 两行分页\n        maxRow: 2,\n        pageNavigator: {\n          marker: {\n            style: {\n              fill: 'rgba(0,0,0,0.65)',\n            },\n          },\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"图例项分页设置",en:"Legend flip-page configuration"},filename:"legend-flippage.ts",isNew:!1},{id:"legend-marker-customize",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/w87M340IdH/5f2f2e58-8426-4f6e-8100-7529ed57b5ed.png",source:"import { Column } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/P14mCvkybz/large-datra.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Column('container', {\n      data,\n      xField: 'product_box',\n      yField: 'value',\n      seriesField: 'province',\n      isGroup: 'true',\n      legend: {\n        flipPage: true,\n        maxRow: 2,\n        marker: {\n          // 把 marker 从 square 变成线条\n          symbol: (x, y, r) => {\n            return [\n              ['M', x - r / 2, y],\n              ['L', x + r / 2, y],\n            ];\n          },\n          style: (oldStyle) => {\n            return {\n              ...oldStyle,\n              r: 4,\n              lineWidth: 2,\n              // square marker 只有填充色，赋给 line 的 stroke\n              stroke: oldStyle.stroke || oldStyle.fill,\n            };\n          },\n        },\n      },\n    });\n\n    plot.render();\n  });\n",title:{zh:"图例 marker 自定义",en:"Customize legend marker"},filename:"legend-marker-customize.ts",isNew:!1}],icon:"",id:"legend",title:{en:"Legend",zh:"图例 - Legend"},childrenKey:"demos",order:0},{demos:[{id:"html-tooltip",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/QyLwg8GGZl/36da41bf-f6b6-4521-803f-5aee9d0da3a9.png",source:"import { Mix } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n    .custom-tooltip-title {\n        margin: 0px 12px;\n        padding: 72px 0 8px;\n        font-size: 12px;\n        border-bottom-style: solid;\n        border-bottom-width: thin;\n        border-bottom-color: #e9e9e9;\n    }\n\n    .custom-tooltip-value {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      margin: 8px 12px 0 12px;\n      padding-bottom: 8px;\n      font-size: 40px;\n      text-align: center;\n      border-bottom-style: solid;\n      border-bottom-width: thin;\n      border-bottom-color: #e9e9e9;\n      height: 70px;\n    }\n\n    .custom-tooltip-temp {\n      display: flex;\n      position: relative;\n      align-items: center;\n    }\n\n    .custom-tooltip-temp span:first-child {\n      font-size: 12px;\n      position: absolute;\n      top: 0px;\n      color: rgba(0, 0, 0, 0.45)\n    }\n\n    .custom-tooltip-temp span:last-child {\n      text-align: left;\n      margin-top: 10px;\n      position: relative;\n      color: rgba(0, 0, 0, 0.85)\n    }\n\n    .custom-tooltip-wind {\n        margin: 8px 12px 12px 12px;\n        font-size: 10px;\n        color: rgba(0, 0, 0, 0.45);\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n    }\n\n    .tooltip-footer {\n      margin: 8px 12px 12px 12px;\n      font-size: 10px;\n      color: rgba(0, 0, 0, 0.45);\n    }\n\n    .background-image {\n      background-repeat: no-repeat;\n    }\n\n    .rain {\n        background-image: url(https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*sg5aT7dY36wAAAAAAAAAAABkARQnAQ);\n    }\n\n    .sun {\n        background-image: url(https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*gE_hS5JVl5YAAAAAAAAAAABkARQnAQ);\n    }\n\n    .cloud {\n        background-image: url(https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*BTw4R4O341AAAAAAAAAAAABkARQnAQ);\n    }\n`);\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/yTron%268MtC/range-data.json')\n  .then((data) => data.json())\n  .then((data) => {\n    const plot = new Mix('container', {\n      meta: {\n        date: { sync: true },\n        minTemp: { min: 0, max: 30 },\n        maxTemp: { min: 0, max: 30 },\n        values: { min: 0, max: 30 },\n      },\n      tooltip: {\n        showMarkers: false,\n        enterable: true,\n        domStyles: {\n          'g2-tooltip': {\n            width: '150px',\n            padding: 0,\n          },\n        },\n        customContent: (title, items) => {\n          const data = items[0]?.data || {};\n          const titleDom = `<div class =\"custom-tooltip-title\">${data.date}</div>`;\n          const tempDom = `<div class = \"custom-tooltip-value\"><div class = \"custom-tooltip-temp\"><span>低温</span><span>${data.minTemp}</span></div><div class = \"custom-tooltip-temp\"><span>高温</span><span>${data.maxTemp}</span></div></div>`;\n          const windDom = `<div class = \"custom-tooltip-wind\"><span>风向:${data.windDir}</span><span>风速:${data.windSpeed}</span></div>`;\n          let domClass;\n          if (data.rain === true) {\n            domClass = 'rain';\n          } else if (data.sunny === true) {\n            domClass = 'sun';\n          } else {\n            domClass = 'cloud';\n          }\n          return `<div class=\"background-image ${domClass}\">${titleDom}${tempDom}${windDom}<div class=\"tooltip-footer\">打开 <a href=\"https://weather.com/zh-CN/weather/today/l/CHXX0008:1:CH\" target=\"_blank\">天气预报网 ☁️</a></div></div>`;\n        },\n      },\n      views: [\n        {\n          data: data.map((d) => {\n            return { ...d, values: [d.minTemp, d.maxTemp] };\n          }),\n          meta: {\n            date: { sync: true },\n            minTemp: { min: 0, max: 30 },\n            maxTemp: { min: 0, max: 30 },\n            values: { min: 0, max: 30 },\n          },\n          axes: {\n            date: {},\n            minTemp: false,\n            maxTemp: false,\n            values: {\n              position: 'left',\n            },\n          },\n          interactions: [{ type: 'active-region' }],\n          geometries: [\n            {\n              type: 'interval',\n              xField: 'date',\n              yField: 'values',\n              mapping: {\n                size: 4,\n                style: { fill: '#EBEDF0' },\n              },\n            },\n            {\n              type: 'point',\n              xField: 'date',\n              yField: 'minTemp',\n              colorField: 'maxTemp',\n              mapping: {\n                style: { r: 5 },\n                shape: 'circle',\n                color: ['#6ab7da', '#806bd9', '#da6bcc'],\n              },\n            },\n            {\n              type: 'point',\n              xField: 'date',\n              yField: 'maxTemp',\n              colorField: 'maxTemp',\n              mapping: {\n                size: 5,\n                shape: 'circle',\n                color: ['#6ab7da', '#806bd9', '#da6bcc'],\n              },\n            },\n          ],\n        },\n      ],\n    });\n\n    plot.render();\n  });\n",title:{zh:"自定义 html tooltip",en:"Customize html tooltip"},filename:"html-tooltip.ts",isNew:!1}],icon:"",id:"tooltip",title:{en:"Tooltip",zh:"悬浮提示 - Tooltip"},childrenKey:"demos",order:1},{demos:[{id:"custom-label",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/P7ARYNBdol/3988b5ab-b286-4b2c-befa-eac77afd5bac.png",source:"import { Pie, G2 } from '@antv/g2plot';\n\nconst G = G2.getEngine('canvas');\n\nconst data = [\n  { sex: '男', sold: 0.45 },\n  { sex: '女', sold: 0.55 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'sold',\n  colorField: 'sex',\n  radius: 0.66,\n  color: ['#1890ff', '#f04864'],\n  label: {\n    content: (obj) => {\n      const group = new G.Group({});\n      group.addShape({\n        type: 'image',\n        attrs: {\n          x: 0,\n          y: 0,\n          width: 40,\n          height: 50,\n          img:\n            obj.sex === '男'\n              ? 'https://gw.alipayobjects.com/zos/rmsportal/oeCxrAewtedMBYOETCln.png'\n              : 'https://gw.alipayobjects.com/zos/rmsportal/mweUsJpBWucJRixSfWVP.png',\n        },\n      });\n\n      group.addShape({\n        type: 'text',\n        attrs: {\n          x: 20,\n          y: 54,\n          text: obj.sex,\n          textAlign: 'center',\n          textBaseline: 'top',\n          fill: obj.sex === '男' ? '#1890ff' : '#f04864',\n        },\n      });\n      return group;\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"自定义数据标签",en:"Custom Label"},filename:"custom-label.ts",isNew:!1}],icon:"",id:"label",title:{en:"Label",zh:"数据标签 - Label"},childrenKey:"demos",order:2},{demos:[{id:"text-annotation1",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/gAMlNVZrIU/b9cc7e10-2a1a-41f4-b217-4559b4f888d9.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst plot = new Column('container', {\n  width: 400,\n  height: 300,\n  autoFit: false,\n  appendPadding: 0,\n  data,\n  yField: 'value',\n  xField: 'type',\n  label: false,\n  annotations: [\n    {\n      type: 'text',\n      content: 'Hello',\n      /** 位置 */\n      // ❌ 不支持混搭\n      // position: ['42%', 10],\n      // ✅ 1. 支持源数据\n      // position: ['分类三', 19],\n      // position: { type: '分类三', value: 19 },\n      // ✅ 2. 支持百分比例。y: 35% 自上而下，canvas 相对起点在左上方\n      // position: ['42%', '35%'],\n      // ✅ 3. 支持回调设置，转换为百分比例。yScale 有多个，需要获取到具体 y轴字段对应的 scale\n      position: (xScale, yScale) => {\n        return [`${xScale.scale('分类三') * 100}%`, `${(1 - yScale.value.scale(19)) * 100}%`];\n      },\n      // ✅ 4. 支持直接设置 x,y 坐标 (相对于 canvas 坐标，相对起点在左上方) - 需要外部自我感知画布大小，不建议使用\n      // x: 180,\n      // y: 105,\n      /** 图形样式属性 */\n      style: {\n        textAlign: 'center',\n        fill: 'rgba(0,0,0,0.85)',\n      },\n    },\n  ],\n});\n\nplot.render();\n",title:{zh:"文本标注",en:"Text annotation"},filename:"text-annotation1.ts",isNew:!1},{id:"text-annotation2",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/DhczAubJSh/3c7d4891-1150-4b47-ae9d-26851dec3e16.png",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst plot = new Column('container', {\n  width: 400,\n  height: 300,\n  autoFit: false,\n  appendPadding: 0,\n  data,\n  yField: 'value',\n  xField: 'type',\n  label: false,\n  annotations: [\n    {\n      type: 'text',\n      content: 'Hello',\n      /** 位置 */\n      // ✅ 3. 支持回调设置，转换为百分比例。yScale 有多个，需要获取到具体 y轴字段对应的 scale\n      position: (xScale, yScale) => {\n        return [`${xScale.scale('分类三') * 100}%`, `${(1 - yScale.value.scale(19)) * 100}%`];\n      },\n      /** 图形样式属性 */\n      style: {\n        textAlign: 'center',\n        fill: 'rgba(0,0,0,0.85)',\n      },\n      // 设置偏移\n      offsetY: -8,\n      // 设置文本包围框\n      background: {\n        padding: 4,\n        style: {\n          radius: 4,\n          fill: 'rgba(255,0,0,0.25)',\n        },\n      },\n    },\n  ],\n});\n\nplot.render();\n",title:{zh:"文本标注带包围框",en:"Text annotation with background"},filename:"text-annotation2.ts",isNew:!1},{id:"line-annotation-position",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/qFApvvldG3/f67b4331-1db5-471a-8fd1-35f665a9039e.png",source:"import React, { useRef, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select } from 'antd';\nimport { Area } from '@antv/g2plot';\nimport insertCss from 'insert-css';\n\nconst options = [\n  { label: '最小值', value: 'min' },\n  { label: '最大值', value: 'max' },\n  { label: '中位值', value: 'median' },\n  { label: '平均值', value: 'mean' },\n];\n\nconst Plot = () => {\n  const chartNodeRef = useRef();\n  const plotRef = useRef();\n\n  const [startX, setStartX] = useState('min');\n  const [startY, setStartY] = useState('median');\n  const [endX, setEndX] = useState('max');\n  const [endY, setEndY] = useState('median');\n\n  useEffect(() => {\n    // Step 2: 创建图表\n    const chartDom = chartNodeRef.current;\n    const plot = new Area(chartDom, {\n      data: [],\n      xField: 'Date',\n      yField: 'scales',\n      smooth: true,\n      annotations: [\n        {\n          type: 'line',\n          id: 'line',\n          /** 起始位置 */\n          start: [startX, startY],\n          /** 结束位置 */\n          end: [endX, endY],\n          text: {\n            content: '中位线',\n            position: 'right',\n            offsetY: 18,\n            style: {\n              textAlign: 'right',\n            },\n          },\n          style: {\n            lineWidth: 0.5,\n            lineDash: [4, 4],\n          },\n        },\n      ],\n    });\n\n    plot.render();\n\n    plotRef.current = plot;\n  }, []);\n\n  useEffect(() => {\n    if (plotRef?.current) {\n      let label = '辅助线';\n      if (startY === endY) {\n        label = options.find((opt) => opt.value === startY)?.label || label;\n      }\n\n      plotRef.current.addAnnotations([\n        {\n          type: 'line',\n          id: 'line',\n          /** 起始位置 */\n          start: [startX, startY],\n          /** 结束位置 */\n          end: [endX, endY],\n          text: {\n            content: label,\n          },\n        },\n      ]);\n    }\n  }, [startX, startY, endX, endY]);\n\n  useEffect(() => {\n    if (plotRef?.current) {\n      fetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n        .then((res) => res.json())\n        .then((data) => {\n          plotRef.current.changeData(data);\n        });\n    }\n  }, [plotRef]);\n\n  return (\n    <section className=\"line-annotation-container\">\n      <section style={{ display: 'flex' }}>\n        <div className=\"select-container\">\n          起点 x 位置：\n          <Select value={startX} onChange={setStartX} size=\"small\">\n            {options.map((d) => (\n              <Select.Option value={d.value} key={d.value}>\n                {d.label}\n              </Select.Option>\n            ))}\n          </Select>\n        </div>\n        <div className=\"select-container\">\n          起点 y 位置：\n          <Select value={startY} onChange={setStartY} size=\"small\">\n            {options.map((d) => (\n              <Select.Option value={d.value} key={d.value}>\n                {d.label}\n              </Select.Option>\n            ))}\n          </Select>\n        </div>\n      </section>\n      <section style={{ display: 'flex' }}>\n        <div className=\"select-container\">\n          终点 x 位置：\n          <Select value={endX} onChange={setEndX} size=\"small\">\n            {options.map((d) => (\n              <Select.Option value={d.value} key={d.value}>\n                {d.label}\n              </Select.Option>\n            ))}\n          </Select>\n        </div>\n        <div className=\"select-container\">\n          终点 y 位置：\n          <Select value={endY} onChange={setEndY} size=\"small\">\n            {options.map((d) => (\n              <Select.Option value={d.value} key={d.value}>\n                {d.label}\n              </Select.Option>\n            ))}\n          </Select>\n        </div>\n      </section>\n      <div className={'chart-wrapper'} ref={chartNodeRef} />\n    </section>\n  );\n};\n\ninsertCss(`\n.line-annotation-container {\n  position: relative;\n  padding: 10px;\n}\n.line-annotation-container .select-container {\n  display: flex;\n  flex-direction: row;\n  margin: 4px 12px 0;\n}\n.chart-wrapper {\n  width: calc(100% - 30px);\n  margin: 18px 10px;\n}\n`);\n\nReactDOM.render(<Plot />, document.getElementById('container'));\n",title:{zh:"辅助线标注",en:"Line annotation with preset-value"},filename:"line-annotation-position.jsx",isNew:!1},{id:"line-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*d8s-RrJb-xcAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const maxValue = Math.max(...data.map((d) => d.scales));\n    const averageValue = data.map((d) => d.scales).reduce((a, b) => a + b, 0) / data.length;\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      xAxis: {\n        tickCount: 5,\n      },\n      smooth: true,\n      annotations: [\n        {\n          type: 'line',\n          /** 起始位置 */\n          start: ['min', maxValue],\n          /** 结束位置 */\n          end: ['max', maxValue],\n          text: {\n            content: '最大值',\n            position: 'right',\n            offsetY: 18,\n            style: {\n              textAlign: 'right',\n            },\n          },\n          style: {\n            lineDash: [4, 4],\n          },\n        },\n        {\n          type: 'line',\n          /** 起始位置 */\n          start: ['min', averageValue],\n          /** 结束位置 */\n          end: ['max', averageValue],\n          text: {\n            content: '平均值线',\n            position: 'right',\n            offsetY: -6,\n            style: {\n              textAlign: 'right',\n              fill: 'lightblue',\n            },\n          },\n          style: {\n            lineDash: [4, 4],\n            stroke: 'lightblue',\n          },\n        },\n      ],\n    });\n\n    line.render();\n  });\n",title:{zh:"辅助线标注",en:"Line annotation"},filename:"line-annotation.ts",isNew:!1},{id:"operate-annotation",screenshot:"",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/1d565782-dde4-4bb6-8946-ea6a38ccf184.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'Date',\n      yField: 'scales',\n      point: {\n        style: {\n          fillOpacity: 0,\n          strokeOpacity: 0,\n          size: 6,\n        },\n      },\n    });\n\n    line.render();\n\n    let id = 0;\n    line.on('point:click', (evt) => {\n      line.addAnnotations([\n        {\n          type: 'dataMarker',\n          // 通过 源数据 匹配位置\n          position: evt.data.data,\n          content: '辅助点',\n          text: { content: '辅助点' },\n          // 可以使用随机 id\n          id: `${id++}`,\n        },\n      ]);\n    });\n\n    line.on('annotation:click', (evt) => {\n      const component = evt.gEvent.delegateObject.component;\n      // 匹配到 辅助点，进行删除\n      if (component.get('type') === 'text') {\n        line.removeAnnotations([{ id: component.get('id') }]);\n      }\n    });\n  });\n",title:{zh:"添加或删除图表标注",en:"Add / Remove annotations"},filename:"operate-annotation.ts",isNew:!1},{id:"line-annotation-accurate",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*W7VdTZsmINgAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/89729b32-1592-44ae-ba96-1e296638f5f7.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const line = new Line('container', {\n      data,\n      padding: 'auto',\n      xField: 'date',\n      yField: 'value',\n      meta: {\n        date: {\n          formatter: (v) => (v.split(' ') ? v.split(' ')[1] : ''),\n        },\n        value: {\n          min: 0,\n          max: Math.pow(10, 7),\n          tickCount: 10,\n          formatter: (v) => `${v / Math.pow(10, 6)}M`,\n        },\n      },\n      lineStyle: {\n        lineCap: 'round',\n      },\n      interactions: [{ type: 'brush' }],\n    });\n\n    line.render();\n\n    const yScale = line.chart.getScaleByField('value');\n    const coordinate = line.chart.getCoordinate();\n    const getDimYPosition = (value) => coordinate.convertDim(yScale.scale(value), 'y');\n\n    line.update({\n      ...line.options,\n      annotations: [\n        {\n          type: 'line',\n          start: { date: 'January 1991', value: 2549000 },\n          end: ['August 1990', 3850000],\n          text: {\n            // 旅游萧条 标注\n            content: 'The UK recession of 1991',\n            rotate: 0,\n            autoRotate: false,\n            offsetY: getDimYPosition(3850000) - getDimYPosition(2549000) - 10,\n            style: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n            },\n          },\n          style: {\n            stroke: '#000',\n            lineDash: [2, 4],\n          },\n        },\n      ],\n    });\n  });\n",title:{zh:"辅助线标注（精确定位）",en:"Line annotation (accurate position)"},filename:"line-annotation-accurate.ts",isNew:!1},{id:"image-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Wq83RaOoWxgAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  innerRadius: 0.64,\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    content: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n    style: {\n      fill: '#fff',\n      fontSize: 14,\n      textAlign: 'center',\n    },\n  },\n  statistic: null,\n  annotations: [\n    {\n      type: 'image',\n      src: 'https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*ELYbTIVCgPoAAAAAAAAAAABkARQnAQ',\n      /** 位置 */\n      position: ['50%', '50%'],\n      /** 图形样式属性 */\n      style: {\n        width: 50,\n        height: 50,\n      },\n      /** x 方向的偏移量 */\n      offsetX: -25,\n      /** y 方向的偏移量 */\n      offsetY: 40,\n    },\n  ],\n});\n\npiePlot.render();\n",title:{zh:"图片标注",en:"Image annotation"},filename:"image-annotation.ts",isNew:!1},{id:"region-and-data-marker",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*sHEVT7y_JZgAAAAAAAAAAAAAARQnAQ",source:"import { Line } from '@antv/g2plot';\n\nconst data = [\n  { month: '1', value: 1078 },\n  { month: '2', value: 1216 },\n  { month: '3', value: 758 },\n  { month: '4', value: 623 },\n  { month: '5', value: 319 },\n  { month: '6', value: 422 },\n  { month: '7', value: -4 },\n  { month: '8', value: -217 },\n  { month: '9', value: -358 },\n  { month: '10', value: 1513 },\n  { month: '11', value: 1388 },\n  { month: '12', value: 597 },\n];\n\nconst line = new Line('container', {\n  data,\n  padding: 'auto',\n  xField: 'month',\n  yField: 'value',\n  meta: {\n    value: {\n      max: 2000,\n      min: -1000,\n    },\n    month: {\n      formatter: (val) => `${val} 月`,\n    },\n  },\n  annotations: [\n    {\n      type: 'region',\n      start: ['7', 'min'],\n      end: ['9', 'max'],\n    },\n    {\n      type: 'dataMarker',\n      position: ['2', 1216],\n      text: {\n        content: '2月份因逢春节水产销售需求旺盛，\\n需求大增',\n        style: {\n          textAlign: 'left',\n        },\n      },\n      line: {\n        length: 20,\n      },\n      point: {\n        style: {\n          fill: '#f5222d',\n          stroke: '#f5222d',\n        },\n      },\n      autoAdjust: false,\n    },\n  ],\n});\n\nline.render();\n",title:{zh:"辅助框标注 和 数据点标记",en:"DataMarker annotation"},filename:"region-and-data-marker.ts",isNew:!1},{id:"region-annotation",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*_MLfT47OxekAAAAAAAAAAAAAARQnAQ",source:"import { Column } from '@antv/g2plot';\n\nconst data = [\n  { month: '1', value: 1078 },\n  { month: '2', value: 1216 },\n  { month: '3', value: 758 },\n  { month: '4', value: 623 },\n  { month: '5', value: 319 },\n  { month: '6', value: 422 },\n  { month: '7', value: -4 },\n  { month: '8', value: -217 },\n  { month: '9', value: -358 },\n  { month: '10', value: 1513 },\n  { month: '11', value: 1388 },\n  { month: '12', value: 597 },\n];\n\nconst columnPlot = new Column('container', {\n  data,\n  padding: 'auto',\n  xField: 'month',\n  yField: 'value',\n  meta: {\n    value: {\n      max: 2000,\n      min: -1000,\n    },\n    month: {\n      formatter: (val) => `${val} 月`,\n    },\n  },\n  annotations: [\n    {\n      type: 'region',\n      // @ts-ignore todo 修复 G2 类型定义\n      start: (xScale: any) => {\n        const ratio = xScale.ticks ? 1 / xScale.ticks.length : 1;\n        const x = xScale.scale('7') - ratio / 2;\n        return [`${x * 100}%`, '0%'];\n      },\n      // @ts-ignore todo 修复 G2 类型定义\n      end: (xScale: any) => {\n        const ratio = xScale.ticks ? 1 / xScale.ticks.length : 1;\n        const x = xScale.scale('9') + ratio / 2;\n        return [`${x * 100}%`, '100%'];\n      },\n    },\n  ],\n});\n\ncolumnPlot.render();\n",title:{zh:"辅助框标注",en:"Region annotation"},filename:"region-annotation.ts",isNew:!1}],icon:"",id:"annotation",title:{en:"Annotations",zh:"图表标注 - Annotations"},childrenKey:"demos",order:6}],childrenKey:"examples"},{id:"general",title:{zh:"通用配置",en:"General Configuration"},icon:"other",examples:[{demos:[{id:"custom-state-style",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*7hXwSaRxeYwAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  label: {\n    type: 'outer',\n  },\n  // 自定义状态样式\n  state: {\n    active: {\n      style: {\n        lineWidth: 0,\n        fillOpacity: 0.65,\n      },\n    },\n  },\n  // 添加 element 选中和激活交互\n  interactions: [{ type: 'element-single-selected' }, { type: 'element-active' }],\n});\n\npiePlot.render();\n",title:{zh:"自定义设置状态样式",en:"Custom state style"},filename:"custom-state-style.ts",isNew:!1},{id:"set-state",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*Bd2ITJ6tjIEAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  label: {\n    type: 'outer',\n  },\n  // 自定义状态样式\n  state: {\n    active: {\n      style: {\n        lineWidth: 0,\n        fillOpacity: 0.65,\n      },\n    },\n  },\n  // 添加 element 选中和激活交互\n  interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\n});\n\npiePlot.render();\n\npiePlot.setState('selected', (data) => (data as any).type === '分类一' || (data as any).type === '分类二');\n",title:{zh:"设置状态",en:"Set state"},filename:"set-state.ts",isNew:!1}],icon:"",id:"state",title:{en:"State Setting",zh:"状态量设置"},childrenKey:"demos",order:0},{demos:[{id:"dark",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*De_URrBNa4wAAAAAAAAAAAAAARQnAQ",source:"import { Pie } from '@antv/g2plot';\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  theme: 'dark',\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  innerRadius: 0.64,\n  meta: {\n    value: {\n      formatter: (v) => `¥ ${v}`,\n    },\n  },\n  label: {\n    type: 'inner',\n    offset: '-50%',\n    autoRotate: false,\n    style: { textAlign: 'center', fill: '#fff' },\n    formatter: ({ percent }) => `${(percent * 100).toFixed(0)}%`,\n  },\n  statistic: {\n    title: {\n      offsetY: -8,\n      style: { color: '#fff' },\n    },\n    content: {\n      style: { color: '#fff' },\n      offsetY: -4,\n    },\n  },\n  pieStyle: { lineWidth: 0 },\n});\n\npiePlot.render();\n",title:{zh:"暗黑主题",en:"Dark theme"},filename:"dark.ts",isNew:!1},{id:"custom-theme",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/2%24qq%26Dnx%26c/dark-theme.gif",source:"import { Column, G2 } from '@antv/g2plot';\nimport { deepMix } from '@antv/util';\n\nconst theme = G2.getTheme('dark');\ndocument.getElementById('container').style.background = theme.background;\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/be63e0a2-d2be-4c45-97fd-c00f752a66d4.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const column = new Column('container', {\n      data,\n      xField: '城市',\n      yField: '销售额',\n      xAxis: {\n        label: {\n          autoRotate: false,\n        },\n      },\n      appendPadding: 10,\n      theme: deepMix({}, theme, {\n        components: {\n          scrollbar: {\n            // 默认样式\n            default: {\n              style: {\n                trackColor: 'rgba(255,255,255,0.05)',\n                thumbColor: 'rgba(255,255,255,0.25)',\n              },\n            },\n            // hover 时，可以设置滑块样式\n            hover: {\n              style: {\n                thumbColor: 'rgba(255,255,255,0.6)',\n              },\n            },\n          },\n        },\n      }),\n      scrollbar: {\n        type: 'horizontal',\n      },\n    });\n\n    column.render();\n  });\n",title:{zh:"自定义主题",en:"Custom theme"},filename:"custom-theme.ts",isNew:!1},{id:"register-theme",screenshot:"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*4CHcTa0qn9QAAAAAAAAAAAAAARQnAQ",source:"import { Pie, G2 } from '@antv/g2plot';\n\nconst { registerTheme } = G2;\n\nregisterTheme('custom-theme', {\n  colors10: [\n    '#025DF4',\n    '#DB6BCF',\n    '#2498D1',\n    '#BBBDE6',\n    '#4045B2',\n    '#21A97A',\n    '#FF745A',\n    '#007E99',\n    '#FFA8A8',\n    '#2391FF',\n  ],\n  colors20: [\n    '#025DF4',\n    '#DB6BCF',\n    '#2498D1',\n    '#BBBDE6',\n    '#4045B2',\n    '#21A97A',\n    '#FF745A',\n    '#007E99',\n    '#FFA8A8',\n    '#2391FF',\n    '#FFC328',\n    '#A0DC2C',\n    '#946DFF',\n    '#626681',\n    '#EB4185',\n    '#CD8150',\n    '#36BCCB',\n    '#327039',\n    '#803488',\n    '#83BC99',\n  ],\n});\n\nconst data = [\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: '其他', value: 5 },\n];\n\nconst piePlot = new Pie('container', {\n  appendPadding: 10,\n  data,\n  angleField: 'value',\n  colorField: 'type',\n  radius: 0.8,\n  label: {\n    type: 'inner',\n    offset: '-10%',\n    content: '{percentage}',\n  },\n  interactions: [{ type: 'element-active' }],\n  theme: 'custom-theme',\n});\n\npiePlot.render();\n",title:{zh:"注册主题",en:"Register theme"},filename:"register-theme.ts",isNew:!1}],icon:"",id:"theme",title:{en:"Theme Setting",zh:"主题设置"},childrenKey:"demos",order:0},{demos:[{id:"conversion-tag-with-link",screenshot:"https://gw.alipayobjects.com/zos/antfincdn/ffFWVjr415/conversion-tag-link.gif",source:"import { Column, G2 } from '@antv/g2plot';\n\nG2.registerInteraction('conversion-tag-cursor', {\n  start: [{ trigger: 'conversion-tag-group:mouseenter', action: 'cursor:pointer' }],\n  end: [{ trigger: 'conversion-tag-group:mouseleave', action: 'cursor:default' }],\n});\n\nconst data = [\n  { action: '浏览网站', pv: 50000 },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000 },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8500, link: 'https://github.com/antvis/g2plot' },\n];\n\nconst plot = new Column('container', {\n  data,\n  xField: 'action',\n  yField: 'pv',\n  conversionTag: {},\n  xAxis: {\n    label: {\n      autoHide: true,\n      autoRotate: false,\n    },\n  },\n  interactions: [\n    {\n      type: 'conversion-tag-cursor',\n      cfg: {\n        start: [\n          {\n            trigger: 'conversion-tag-group:mouseenter',\n            action: (context) => {\n              const { event, view } = context;\n              const { nextElement } = event.data;\n              const link = nextElement.getModel().data.link;\n              // 根据实际情况修改，如果配置了链接跳转 则改变 cursor 样式\n              if (link) {\n                view.getCanvas().setCursor('pointer');\n              }\n            },\n          },\n        ],\n      },\n    },\n  ],\n});\n\nplot.render();\n\nplot.on('conversion-tag-group:click', (evt) => {\n  const { target } = evt;\n  if (target?.get('origin')) {\n    const { nextElement } = target?.get('origin');\n    const link = nextElement.getModel().data.link;\n    window.open(link);\n  }\n});\n",title:{zh:"转化率标签 - 点击跳转",en:"Conversion tag with jump link"},filename:"conversion-tag-with-link.ts",isNew:!1}],icon:"",id:"events",title:{en:"Plot Events",zh:"图表事件"},childrenKey:"demos",order:3}],childrenKey:"examples"}]}}},n)}}}]);